(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))w(C);new MutationObserver(C=>{for(const b of C)if(b.type==="childList")for(const L of b.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&w(L)}).observe(document,{childList:!0,subtree:!0});function _(C){const b={};return C.integrity&&(b.integrity=C.integrity),C.referrerPolicy&&(b.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?b.credentials="include":C.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function w(C){if(C.ep)return;C.ep=!0;const b=_(C);fetch(C.href,b)}})();var qa,at,py,ei,Fv,_y,gh,Th,mh,vh,gy,Ha={},my=[],RI=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nu=Array.isArray;function ir(f,d){for(var _ in d)f[_]=d[_];return f}function vy(f){f&&f.parentNode&&f.parentNode.removeChild(f)}function yy(f,d,_){var w,C,b,L={};for(b in d)b=="key"?w=d[b]:b=="ref"?C=d[b]:L[b]=d[b];if(arguments.length>2&&(L.children=arguments.length>3?qa.call(arguments,2):_),typeof f=="function"&&f.defaultProps!=null)for(b in f.defaultProps)L[b]===void 0&&(L[b]=f.defaultProps[b]);return Ga(f,L,w,C,null)}function Ga(f,d,_,w,C){var b={type:f,props:d,key:_,ref:w,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:C??++py,__i:-1,__u:0};return C==null&&at.vnode!=null&&at.vnode(b),b}function ru(f){return f.children}function Cr(f,d){this.props=f,this.context=d}function xo(f,d){if(d==null)return f.__?xo(f.__,f.__i+1):null;for(var _;d<f.__k.length;d++)if((_=f.__k[d])!=null&&_.__e!=null)return _.__e;return typeof f.type=="function"?xo(f):null}function by(f){var d,_;if((f=f.__)!=null&&f.__c!=null){for(f.__e=f.__c.base=null,d=0;d<f.__k.length;d++)if((_=f.__k[d])!=null&&_.__e!=null){f.__e=f.__c.base=_.__e;break}return by(f)}}function yh(f){(!f.__d&&(f.__d=!0)&&ei.push(f)&&!Kl.__r++||Fv!==at.debounceRendering)&&((Fv=at.debounceRendering)||_y)(Kl)}function Kl(){var f,d,_,w,C,b,L,z;for(ei.sort(gh);f=ei.shift();)f.__d&&(d=ei.length,w=void 0,b=(C=(_=f).__v).__e,L=[],z=[],_.__P&&((w=ir({},C)).__v=C.__v+1,at.vnode&&at.vnode(w),Dh(_.__P,w,C,_.__n,_.__P.namespaceURI,32&C.__u?[b]:null,L,b??xo(C),!!(32&C.__u),z),w.__v=C.__v,w.__.__k[w.__i]=w,xy(L,w,z),w.__e!=b&&by(w)),ei.length>d&&ei.sort(gh));Kl.__r=0}function Ay(f,d,_,w,C,b,L,z,R,S,K){var T,V,j,U,pe,X=w&&w.__k||my,Z=d.length;for(_.__d=R,FI(_,d,X),R=_.__d,T=0;T<Z;T++)(j=_.__k[T])!=null&&(V=j.__i===-1?Ha:X[j.__i]||Ha,j.__i=T,Dh(f,j,V,C,b,L,z,R,S,K),U=j.__e,j.ref&&V.ref!=j.ref&&(V.ref&&Oh(V.ref,null,j),K.push(j.ref,j.__c||U,j)),pe==null&&U!=null&&(pe=U),65536&j.__u||V.__k===j.__k?R=wy(j,R,f):typeof j.type=="function"&&j.__d!==void 0?R=j.__d:U&&(R=U.nextSibling),j.__d=void 0,j.__u&=-196609);_.__d=R,_.__e=pe}function FI(f,d,_){var w,C,b,L,z,R=d.length,S=_.length,K=S,T=0;for(f.__k=[],w=0;w<R;w++)(C=d[w])!=null&&typeof C!="boolean"&&typeof C!="function"?(L=w+T,(C=f.__k[w]=typeof C=="string"||typeof C=="number"||typeof C=="bigint"||C.constructor==String?Ga(null,C,null,null,null):nu(C)?Ga(ru,{children:C},null,null,null):C.constructor===void 0&&C.__b>0?Ga(C.type,C.props,C.key,C.ref?C.ref:null,C.__v):C).__=f,C.__b=f.__b+1,b=null,(z=C.__i=jI(C,_,L,K))!==-1&&(K--,(b=_[z])&&(b.__u|=131072)),b==null||b.__v===null?(z==-1&&T--,typeof C.type!="function"&&(C.__u|=65536)):z!==L&&(z==L-1?T--:z==L+1?T++:(z>L?T--:T++,C.__u|=65536))):C=f.__k[w]=null;if(K)for(w=0;w<S;w++)(b=_[w])!=null&&!(131072&b.__u)&&(b.__e==f.__d&&(f.__d=xo(b)),Ey(b,b))}function wy(f,d,_){var w,C;if(typeof f.type=="function"){for(w=f.__k,C=0;w&&C<w.length;C++)w[C]&&(w[C].__=f,d=wy(w[C],d,_));return d}f.__e!=d&&(d&&f.type&&!_.contains(d)&&(d=xo(f)),_.insertBefore(f.__e,d||null),d=f.__e);do d=d&&d.nextSibling;while(d!=null&&d.nodeType===8);return d}function bh(f,d){return d=d||[],f==null||typeof f=="boolean"||(nu(f)?f.some(function(_){bh(_,d)}):d.push(f)),d}function jI(f,d,_,w){var C=f.key,b=f.type,L=_-1,z=_+1,R=d[_];if(R===null||R&&C==R.key&&b===R.type&&!(131072&R.__u))return _;if(w>(R!=null&&!(131072&R.__u)?1:0))for(;L>=0||z<d.length;){if(L>=0){if((R=d[L])&&!(131072&R.__u)&&C==R.key&&b===R.type)return L;L--}if(z<d.length){if((R=d[z])&&!(131072&R.__u)&&C==R.key&&b===R.type)return z;z++}}return-1}function jv(f,d,_){d[0]==="-"?f.setProperty(d,_??""):f[d]=_==null?"":typeof _!="number"||RI.test(d)?_:_+"px"}function Hl(f,d,_,w,C){var b;e:if(d==="style")if(typeof _=="string")f.style.cssText=_;else{if(typeof w=="string"&&(f.style.cssText=w=""),w)for(d in w)_&&d in _||jv(f.style,d,"");if(_)for(d in _)w&&_[d]===w[d]||jv(f.style,d,_[d])}else if(d[0]==="o"&&d[1]==="n")b=d!==(d=d.replace(/(PointerCapture)$|Capture$/i,"$1")),d=d.toLowerCase()in f||d==="onFocusOut"||d==="onFocusIn"?d.toLowerCase().slice(2):d.slice(2),f.l||(f.l={}),f.l[d+b]=_,_?w?_.u=w.u:(_.u=Th,f.addEventListener(d,b?vh:mh,b)):f.removeEventListener(d,b?vh:mh,b);else{if(C=="http://www.w3.org/2000/svg")d=d.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(d!="width"&&d!="height"&&d!="href"&&d!="list"&&d!="form"&&d!="tabIndex"&&d!="download"&&d!="rowSpan"&&d!="colSpan"&&d!="role"&&d!="popover"&&d in f)try{f[d]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&d[4]!=="-"?f.removeAttribute(d):f.setAttribute(d,d=="popover"&&_==1?"":_))}}function Uv(f){return function(d){if(this.l){var _=this.l[d.type+f];if(d.t==null)d.t=Th++;else if(d.t<_.u)return;return _(at.event?at.event(d):d)}}}function Dh(f,d,_,w,C,b,L,z,R,S){var K,T,V,j,U,pe,X,Z,H,ie,oe,ue,se,ce,ae,be,Se=d.type;if(d.constructor!==void 0)return null;128&_.__u&&(R=!!(32&_.__u),b=[z=d.__e=_.__e]),(K=at.__b)&&K(d);e:if(typeof Se=="function")try{if(Z=d.props,H="prototype"in Se&&Se.prototype.render,ie=(K=Se.contextType)&&w[K.__c],oe=K?ie?ie.props.value:K.__:w,_.__c?X=(T=d.__c=_.__c).__=T.__E:(H?d.__c=T=new Se(Z,oe):(d.__c=T=new Cr(Z,oe),T.constructor=Se,T.render=WI),ie&&ie.sub(T),T.props=Z,T.state||(T.state={}),T.context=oe,T.__n=w,V=T.__d=!0,T.__h=[],T._sb=[]),H&&T.__s==null&&(T.__s=T.state),H&&Se.getDerivedStateFromProps!=null&&(T.__s==T.state&&(T.__s=ir({},T.__s)),ir(T.__s,Se.getDerivedStateFromProps(Z,T.__s))),j=T.props,U=T.state,T.__v=d,V)H&&Se.getDerivedStateFromProps==null&&T.componentWillMount!=null&&T.componentWillMount(),H&&T.componentDidMount!=null&&T.__h.push(T.componentDidMount);else{if(H&&Se.getDerivedStateFromProps==null&&Z!==j&&T.componentWillReceiveProps!=null&&T.componentWillReceiveProps(Z,oe),!T.__e&&(T.shouldComponentUpdate!=null&&T.shouldComponentUpdate(Z,T.__s,oe)===!1||d.__v===_.__v)){for(d.__v!==_.__v&&(T.props=Z,T.state=T.__s,T.__d=!1),d.__e=_.__e,d.__k=_.__k,d.__k.some(function(Pe){Pe&&(Pe.__=d)}),ue=0;ue<T._sb.length;ue++)T.__h.push(T._sb[ue]);T._sb=[],T.__h.length&&L.push(T);break e}T.componentWillUpdate!=null&&T.componentWillUpdate(Z,T.__s,oe),H&&T.componentDidUpdate!=null&&T.__h.push(function(){T.componentDidUpdate(j,U,pe)})}if(T.context=oe,T.props=Z,T.__P=f,T.__e=!1,se=at.__r,ce=0,H){for(T.state=T.__s,T.__d=!1,se&&se(d),K=T.render(T.props,T.state,T.context),ae=0;ae<T._sb.length;ae++)T.__h.push(T._sb[ae]);T._sb=[]}else do T.__d=!1,se&&se(d),K=T.render(T.props,T.state,T.context),T.state=T.__s;while(T.__d&&++ce<25);T.state=T.__s,T.getChildContext!=null&&(w=ir(ir({},w),T.getChildContext())),H&&!V&&T.getSnapshotBeforeUpdate!=null&&(pe=T.getSnapshotBeforeUpdate(j,U)),Ay(f,nu(be=K!=null&&K.type===ru&&K.key==null?K.props.children:K)?be:[be],d,_,w,C,b,L,z,R,S),T.base=d.__e,d.__u&=-161,T.__h.length&&L.push(T),X&&(T.__E=T.__=null)}catch(Pe){if(d.__v=null,R||b!=null){for(d.__u|=R?160:128;z&&z.nodeType===8&&z.nextSibling;)z=z.nextSibling;b[b.indexOf(z)]=null,d.__e=z}else d.__e=_.__e,d.__k=_.__k;at.__e(Pe,d,_)}else b==null&&d.__v===_.__v?(d.__k=_.__k,d.__e=_.__e):d.__e=UI(_.__e,d,_,w,C,b,L,R,S);(K=at.diffed)&&K(d)}function xy(f,d,_){d.__d=void 0;for(var w=0;w<_.length;w++)Oh(_[w],_[++w],_[++w]);at.__c&&at.__c(d,f),f.some(function(C){try{f=C.__h,C.__h=[],f.some(function(b){b.call(C)})}catch(b){at.__e(b,C.__v)}})}function UI(f,d,_,w,C,b,L,z,R){var S,K,T,V,j,U,pe,X=_.props,Z=d.props,H=d.type;if(H==="svg"?C="http://www.w3.org/2000/svg":H==="math"?C="http://www.w3.org/1998/Math/MathML":C||(C="http://www.w3.org/1999/xhtml"),b!=null){for(S=0;S<b.length;S++)if((j=b[S])&&"setAttribute"in j==!!H&&(H?j.localName===H:j.nodeType===3)){f=j,b[S]=null;break}}if(f==null){if(H===null)return document.createTextNode(Z);f=document.createElementNS(C,H,Z.is&&Z),z&&(at.__m&&at.__m(d,b),z=!1),b=null}if(H===null)X===Z||z&&f.data===Z||(f.data=Z);else{if(b=b&&qa.call(f.childNodes),X=_.props||Ha,!z&&b!=null)for(X={},S=0;S<f.attributes.length;S++)X[(j=f.attributes[S]).name]=j.value;for(S in X)if(j=X[S],S!="children"){if(S=="dangerouslySetInnerHTML")T=j;else if(!(S in Z)){if(S=="value"&&"defaultValue"in Z||S=="checked"&&"defaultChecked"in Z)continue;Hl(f,S,null,j,C)}}for(S in Z)j=Z[S],S=="children"?V=j:S=="dangerouslySetInnerHTML"?K=j:S=="value"?U=j:S=="checked"?pe=j:z&&typeof j!="function"||X[S]===j||Hl(f,S,j,X[S],C);if(K)z||T&&(K.__html===T.__html||K.__html===f.innerHTML)||(f.innerHTML=K.__html),d.__k=[];else if(T&&(f.innerHTML=""),Ay(f,nu(V)?V:[V],d,_,w,H==="foreignObject"?"http://www.w3.org/1999/xhtml":C,b,L,b?b[0]:_.__k&&xo(_,0),z,R),b!=null)for(S=b.length;S--;)vy(b[S]);z||(S="value",H==="progress"&&U==null?f.removeAttribute("value"):U!==void 0&&(U!==f[S]||H==="progress"&&!U||H==="option"&&U!==X[S])&&Hl(f,S,U,X[S],C),S="checked",pe!==void 0&&pe!==f[S]&&Hl(f,S,pe,X[S],C))}return f}function Oh(f,d,_){try{if(typeof f=="function"){var w=typeof f.__u=="function";w&&f.__u(),w&&d==null||(f.__u=f(d))}else f.current=d}catch(C){at.__e(C,_)}}function Ey(f,d,_){var w,C;if(at.unmount&&at.unmount(f),(w=f.ref)&&(w.current&&w.current!==f.__e||Oh(w,null,d)),(w=f.__c)!=null){if(w.componentWillUnmount)try{w.componentWillUnmount()}catch(b){at.__e(b,d)}w.base=w.__P=null}if(w=f.__k)for(C=0;C<w.length;C++)w[C]&&Ey(w[C],d,_||typeof f.type!="function");_||vy(f.__e),f.__c=f.__=f.__e=f.__d=void 0}function WI(f,d,_){return this.constructor(f,_)}function YI(f,d,_){var w,C,b,L;at.__&&at.__(f,d),C=(w=typeof _=="function")?null:d.__k,b=[],L=[],Dh(d,f=(!w&&_||d).__k=yy(ru,null,[f]),C||Ha,Ha,d.namespaceURI,!w&&_?[_]:C?null:d.firstChild?qa.call(d.childNodes):null,b,!w&&_?_:C?C.__e:d.firstChild,w,L),xy(b,f,L)}function VI(f,d,_){var w,C,b,L,z=ir({},f.props);for(b in f.type&&f.type.defaultProps&&(L=f.type.defaultProps),d)b=="key"?w=d[b]:b=="ref"?C=d[b]:z[b]=d[b]===void 0&&L!==void 0?L[b]:d[b];return arguments.length>2&&(z.children=arguments.length>3?qa.call(arguments,2):_),Ga(f.type,z,w||f.key,C||f.ref,null)}function GI(f,d){var _={__c:d="__cC"+gy++,__:f,Consumer:function(w,C){return w.children(C)},Provider:function(w){var C,b;return this.getChildContext||(C=new Set,(b={})[d]=this,this.getChildContext=function(){return b},this.componentWillUnmount=function(){C=null},this.shouldComponentUpdate=function(L){this.props.value!==L.value&&C.forEach(function(z){z.__e=!0,yh(z)})},this.sub=function(L){C.add(L);var z=L.componentWillUnmount;L.componentWillUnmount=function(){C&&C.delete(L),z&&z.call(L)}}),w.children}};return _.Provider.__=_.Consumer.contextType=_}qa=my.slice,at={__e:function(f,d,_,w){for(var C,b,L;d=d.__;)if((C=d.__c)&&!C.__)try{if((b=C.constructor)&&b.getDerivedStateFromError!=null&&(C.setState(b.getDerivedStateFromError(f)),L=C.__d),C.componentDidCatch!=null&&(C.componentDidCatch(f,w||{}),L=C.__d),L)return C.__E=C}catch(z){f=z}throw f}},py=0,Cr.prototype.setState=function(f,d){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ir({},this.state),typeof f=="function"&&(f=f(ir({},_),this.props)),f&&ir(_,f),f!=null&&this.__v&&(d&&this._sb.push(d),yh(this))},Cr.prototype.forceUpdate=function(f){this.__v&&(this.__e=!0,f&&this.__h.push(f),yh(this))},Cr.prototype.render=ru,ei=[],_y=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gh=function(f,d){return f.__v.__b-d.__v.__b},Kl.__r=0,Th=0,mh=Uv(!1),vh=Uv(!0),gy=0;var HI=0;function $(f,d,_,w,C,b){d||(d={});var L,z,R=d;"ref"in d&&(L=d.ref,delete d.ref);var S={type:f,props:R,key:_,ref:L,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--HI,__i:-1,__u:0,__source:C,__self:b};if(typeof f=="function"&&(L=f.defaultProps))for(z in L)R[z]===void 0&&(R[z]=L[z]);return at.vnode&&at.vnode(S),S}var Pn,fh,Wv,Cy=[],Mt=at,Yv=Mt.__b,Vv=Mt.__r,Gv=Mt.diffed,Hv=Mt.__c,Qv=Mt.unmount,Xv=Mt.__;function QI(){for(var f;f=Cy.shift();)if(f.__P&&f.__H)try{f.__H.__h.forEach(Zl),f.__H.__h.forEach(Ah),f.__H.__h=[]}catch(d){f.__H.__h=[],Mt.__e(d,f.__v)}}Mt.__b=function(f){Pn=null,Yv&&Yv(f)},Mt.__=function(f,d){f&&d.__k&&d.__k.__m&&(f.__m=d.__k.__m),Xv&&Xv(f,d)},Mt.__r=function(f){Vv&&Vv(f);var d=(Pn=f.__c).__H;d&&(fh===Pn?(d.__h=[],Pn.__h=[],d.__.forEach(function(_){_.__N&&(_.__=_.__N),_.i=_.__N=void 0})):(d.__h.forEach(Zl),d.__h.forEach(Ah),d.__h=[])),fh=Pn},Mt.diffed=function(f){Gv&&Gv(f);var d=f.__c;d&&d.__H&&(d.__H.__h.length&&(Cy.push(d)!==1&&Wv===Mt.requestAnimationFrame||((Wv=Mt.requestAnimationFrame)||XI)(QI)),d.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.i=void 0})),fh=Pn=null},Mt.__c=function(f,d){d.some(function(_){try{_.__h.forEach(Zl),_.__h=_.__h.filter(function(w){return!w.__||Ah(w)})}catch(w){d.some(function(C){C.__h&&(C.__h=[])}),d=[],Mt.__e(w,_.__v)}}),Hv&&Hv(f,d)},Mt.unmount=function(f){Qv&&Qv(f);var d,_=f.__c;_&&_.__H&&(_.__H.__.forEach(function(w){try{Zl(w)}catch(C){d=C}}),_.__H=void 0,d&&Mt.__e(d,_.__v))};var Zv=typeof requestAnimationFrame=="function";function XI(f){var d,_=function(){clearTimeout(w),Zv&&cancelAnimationFrame(d),setTimeout(f)},w=setTimeout(_,100);Zv&&(d=requestAnimationFrame(_))}function Zl(f){var d=Pn,_=f.__c;typeof _=="function"&&(f.__c=void 0,_()),Pn=d}function Ah(f){var d=Pn;f.__c=f.__(),Pn=d}var ZI={};function Ql(f,d){for(var _ in d)f[_]=d[_];return f}function qI(f,d,_){var w,C=/(?:\?([^#]*))?(#.*)?$/,b=f.match(C),L={};if(b&&b[1])for(var z=b[1].split("&"),R=0;R<z.length;R++){var S=z[R].split("=");L[decodeURIComponent(S[0])]=decodeURIComponent(S.slice(1).join("="))}f=wh(f.replace(C,"")),d=wh(d||"");for(var K=Math.max(f.length,d.length),T=0;T<K;T++)if(d[T]&&d[T].charAt(0)===":"){var V=d[T].replace(/(^:|[+*?]+$)/g,""),j=(d[T].match(/[+*?]+$/)||ZI)[0]||"",U=~j.indexOf("+"),pe=~j.indexOf("*"),X=f[T]||"";if(!X&&!pe&&(j.indexOf("?")<0||U)){w=!1;break}if(L[V]=decodeURIComponent(X),U||pe){L[V]=f.slice(T).map(decodeURIComponent).join("/");break}}else if(d[T]!==f[T]){w=!1;break}return(_.default===!0||w!==!1)&&L}function KI(f,d){return f.rank<d.rank?1:f.rank>d.rank?-1:f.index-d.index}function JI(f,d){return f.index=d,f.rank=function(_){return _.props.default?0:wh(_.props.path).map($I).join("")}(f),f.props}function wh(f){return f.replace(/(^\/+|\/+$)/g,"").split("/")}function $I(f){return f.charAt(0)==":"?1+"*+?".indexOf(f.charAt(f.length-1))||4:5}var eP={},ti=[],qv=[],ln=null,ky={url:iu()},tP=GI(ky);function iu(){var f;return""+((f=ln&&ln.location?ln.location:ln&&ln.getCurrentLocation?ln.getCurrentLocation():typeof location<"u"?location:eP).pathname||"")+(f.search||"")}function My(f,d){return d===void 0&&(d=!1),typeof f!="string"&&f.url&&(d=f.replace,f=f.url),function(_){for(var w=ti.length;w--;)if(ti[w].canRoute(_))return!0;return!1}(f)&&function(_,w){w===void 0&&(w="push"),ln&&ln[w]?ln[w](_):typeof history<"u"&&history[w+"State"]&&history[w+"State"](null,null,_)}(f,d?"replace":"push"),By(f)}function By(f){for(var d=!1,_=0;_<ti.length;_++)ti[_].routeTo(f)&&(d=!0);return d}function nP(f){if(f&&f.getAttribute){var d=f.getAttribute("href"),_=f.getAttribute("target");if(d&&d.match(/^\//g)&&(!_||_.match(/^_?self$/i)))return My(d)}}function rP(f){return f.stopImmediatePropagation&&f.stopImmediatePropagation(),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),!1}function iP(f){if(!(f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button)){var d=f.target;do if(d.localName==="a"&&d.getAttribute("href")){if(d.hasAttribute("data-native")||d.hasAttribute("native"))return;if(nP(d))return rP(f)}while(d=d.parentNode)}}var Kv=!1;function Sy(f){f.history&&(ln=f.history),this.state={url:f.url||iu()}}Ql(Sy.prototype=new Cr,{shouldComponentUpdate:function(f){return f.static!==!0||f.url!==this.props.url||f.onChange!==this.props.onChange},canRoute:function(f){var d=bh(this.props.children);return this.g(d,f)!==void 0},routeTo:function(f){this.setState({url:f});var d=this.canRoute(f);return this.p||this.forceUpdate(),d},componentWillMount:function(){this.p=!0},componentDidMount:function(){var f=this;Kv||(Kv=!0,ln||addEventListener("popstate",function(){By(iu())}),addEventListener("click",iP)),ti.push(this),ln&&(this.u=ln.listen(function(d){var _=d.location||d;f.routeTo(""+(_.pathname||"")+(_.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),ti.splice(ti.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(f,d){f=f.filter(JI).sort(KI);for(var _=0;_<f.length;_++){var w=f[_],C=qI(d,w.props.path,w.props);if(C)return[w,C]}},render:function(f,d){var _,w,C=f.onChange,b=d.url,L=this.c,z=this.g(bh(f.children),b);if(z&&(w=VI(z[0],Ql(Ql({url:b,matches:_=z[1]},_),{key:void 0,ref:void 0}))),b!==(L&&L.url)){Ql(ky,L=this.c={url:b,previous:L&&L.url,current:w,path:w?w.props.path:null,matches:_}),L.router=this,L.active=w?[w]:[];for(var R=qv.length;R--;)qv[R]({});typeof C=="function"&&C(L)}return yy(tP.Provider,{value:L},w)}});function Jl(){return Jl=Object.assign?Object.assign.bind():function(f){for(var d=1;d<arguments.length;d++){var _=arguments[d];for(var w in _)({}).hasOwnProperty.call(_,w)&&(f[w]=_[w])}return f},Jl.apply(null,arguments)}var wo;(function(f){f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE"})(wo||(wo={}));var Jv=function(f){return f},$v="beforeunload",oP="hashchange",aP="popstate";function sP(f){f===void 0&&(f={});var d=f,_=d.window,w=_===void 0?document.defaultView:_,C=w.history;function b(){var ae=ny(w.location.hash.substr(1)),be=ae.pathname,Se=be===void 0?"/":be,Pe=ae.search,nt=Pe===void 0?"":Pe,Je=ae.hash,le=Je===void 0?"":Je,ne=C.state||{};return[ne.idx,Jv({pathname:Se,search:nt,hash:le,state:ne.usr||null,key:ne.key||"default"})]}var L=null;function z(){if(L)j.call(L),L=null;else{var ae=wo.Pop,be=b(),Se=be[0],Pe=be[1];if(j.length){if(Se!=null){var nt=K-Se;nt&&(L={action:ae,location:Pe,retry:function(){se(nt*-1)}},se(nt))}}else ie(ae)}}w.addEventListener(aP,z),w.addEventListener(oP,function(){var ae=b(),be=ae[1];hh(be)!==hh(T)&&z()});var R=wo.Pop,S=b(),K=S[0],T=S[1],V=ty(),j=ty();K==null&&(K=0,C.replaceState(Jl({},C.state,{idx:K}),""));function U(){var ae=document.querySelector("base"),be="";if(ae&&ae.getAttribute("href")){var Se=w.location.href,Pe=Se.indexOf("#");be=Pe===-1?Se:Se.slice(0,Pe)}return be}function pe(ae){return U()+"#"+(typeof ae=="string"?ae:hh(ae))}function X(ae,be){return be===void 0&&(be=null),Jv(Jl({pathname:T.pathname,hash:"",search:""},typeof ae=="string"?ny(ae):ae,{state:be,key:lP()}))}function Z(ae,be){return[{usr:ae.state,key:ae.key,idx:be},pe(ae)]}function H(ae,be,Se){return!j.length||(j.call({action:ae,location:be,retry:Se}),!1)}function ie(ae){R=ae;var be=b();K=be[0],T=be[1],V.call({action:R,location:T})}function oe(ae,be){var Se=wo.Push,Pe=X(ae,be);function nt(){oe(ae,be)}if(H(Se,Pe,nt)){var Je=Z(Pe,K+1),le=Je[0],ne=Je[1];try{C.pushState(le,"",ne)}catch{w.location.assign(ne)}ie(Se)}}function ue(ae,be){var Se=wo.Replace,Pe=X(ae,be);function nt(){ue(ae,be)}if(H(Se,Pe,nt)){var Je=Z(Pe,K),le=Je[0],ne=Je[1];C.replaceState(le,"",ne),ie(Se)}}function se(ae){C.go(ae)}var ce={get action(){return R},get location(){return T},createHref:pe,push:oe,replace:ue,go:se,back:function(){se(-1)},forward:function(){se(1)},listen:function(be){return V.push(be)},block:function(be){var Se=j.push(be);return j.length===1&&w.addEventListener($v,ey),function(){Se(),j.length||w.removeEventListener($v,ey)}}};return ce}function ey(f){f.preventDefault(),f.returnValue=""}function ty(){var f=[];return{get length(){return f.length},push:function(_){return f.push(_),function(){f=f.filter(function(w){return w!==_})}},call:function(_){f.forEach(function(w){return w&&w(_)})}}}function lP(){return Math.random().toString(36).substr(2,8)}function hh(f){var d=f.pathname,_=d===void 0?"/":d,w=f.search,C=w===void 0?"":w,b=f.hash,L=b===void 0?"":b;return C&&C!=="?"&&(_+=C.charAt(0)==="?"?C:"?"+C),L&&L!=="#"&&(_+=L.charAt(0)==="#"?L:"#"+L),_}function ny(f){var d={};if(f){var _=f.indexOf("#");_>=0&&(d.hash=f.substr(_),f=f.substr(0,_));var w=f.indexOf("?");w>=0&&(d.search=f.substr(w),f=f.substr(0,w)),f&&(d.pathname=f)}return d}var Ty="1.13.7",ry=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ou=Array.prototype,zh=Object.prototype,iy=typeof Symbol<"u"?Symbol.prototype:null,uP=ou.push,Ka=ou.slice,Qa=zh.toString,cP=zh.hasOwnProperty,Dy=typeof ArrayBuffer<"u",fP=typeof DataView<"u",hP=Array.isArray,oy=Object.keys,ay=Object.create,sy=Dy&&ArrayBuffer.isView,dP=isNaN,pP=isFinite,Oy=!{toString:null}.propertyIsEnumerable("toString"),ly=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_P=Math.pow(2,53)-1;function Zt(f,d){return d=d==null?f.length-1:+d,function(){for(var _=Math.max(arguments.length-d,0),w=Array(_),C=0;C<_;C++)w[C]=arguments[C+d];switch(d){case 0:return f.call(this,w);case 1:return f.call(this,arguments[0],w);case 2:return f.call(this,arguments[0],arguments[1],w)}var b=Array(d+1);for(C=0;C<d;C++)b[C]=arguments[C];return b[d]=w,f.apply(this,b)}}function ii(f){var d=typeof f;return d==="function"||d==="object"&&!!f}function gP(f){return f===null}function zy(f){return f===void 0}function Iy(f){return f===!0||f===!1||Qa.call(f)==="[object Boolean]"}function mP(f){return!!(f&&f.nodeType===1)}function zt(f){var d="[object "+f+"]";return function(_){return Qa.call(_)===d}}const Ih=zt("String"),Py=zt("Number"),vP=zt("Date"),yP=zt("RegExp"),bP=zt("Error"),Ny=zt("Symbol"),Ly=zt("ArrayBuffer");var Ry=zt("Function"),AP=ry.document&&ry.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof AP!="function"&&(Ry=function(f){return typeof f=="function"||!1});const Rt=Ry,Fy=zt("Object");var jy=fP&&(!/\[native code\]/.test(String(DataView))||Fy(new DataView(new ArrayBuffer(8)))),Ph=typeof Map<"u"&&Fy(new Map),wP=zt("DataView");function xP(f){return f!=null&&Rt(f.getInt8)&&Ly(f.buffer)}const $l=jy?xP:wP,oi=hP||zt("Array");function kr(f,d){return f!=null&&cP.call(f,d)}var xh=zt("Arguments");(function(){xh(arguments)||(xh=function(f){return kr(f,"callee")})})();const Nh=xh;function EP(f){return!Ny(f)&&pP(f)&&!isNaN(parseFloat(f))}function Uy(f){return Py(f)&&dP(f)}function Wy(f){return function(){return f}}function Yy(f){return function(d){var _=f(d);return typeof _=="number"&&_>=0&&_<=_P}}function Vy(f){return function(d){return d==null?void 0:d[f]}}const eu=Vy("byteLength"),CP=Yy(eu);var kP=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function MP(f){return sy?sy(f)&&!$l(f):CP(f)&&kP.test(Qa.call(f))}const Gy=Dy?MP:Wy(!1),qt=Vy("length");function BP(f){for(var d={},_=f.length,w=0;w<_;++w)d[f[w]]=!0;return{contains:function(C){return d[C]===!0},push:function(C){return d[C]=!0,f.push(C)}}}function Hy(f,d){d=BP(d);var _=ly.length,w=f.constructor,C=Rt(w)&&w.prototype||zh,b="constructor";for(kr(f,b)&&!d.contains(b)&&d.push(b);_--;)b=ly[_],b in f&&f[b]!==C[b]&&!d.contains(b)&&d.push(b)}function Et(f){if(!ii(f))return[];if(oy)return oy(f);var d=[];for(var _ in f)kr(f,_)&&d.push(_);return Oy&&Hy(f,d),d}function SP(f){if(f==null)return!0;var d=qt(f);return typeof d=="number"&&(oi(f)||Ih(f)||Nh(f))?d===0:qt(Et(f))===0}function Qy(f,d){var _=Et(d),w=_.length;if(f==null)return!w;for(var C=Object(f),b=0;b<w;b++){var L=_[b];if(d[L]!==C[L]||!(L in C))return!1}return!0}function tt(f){if(f instanceof tt)return f;if(!(this instanceof tt))return new tt(f);this._wrapped=f}tt.VERSION=Ty;tt.prototype.value=function(){return this._wrapped};tt.prototype.valueOf=tt.prototype.toJSON=tt.prototype.value;tt.prototype.toString=function(){return String(this._wrapped)};function uy(f){return new Uint8Array(f.buffer||f,f.byteOffset||0,eu(f))}var cy="[object DataView]";function Eh(f,d,_,w){if(f===d)return f!==0||1/f===1/d;if(f==null||d==null)return!1;if(f!==f)return d!==d;var C=typeof f;return C!=="function"&&C!=="object"&&typeof d!="object"?!1:Xy(f,d,_,w)}function Xy(f,d,_,w){f instanceof tt&&(f=f._wrapped),d instanceof tt&&(d=d._wrapped);var C=Qa.call(f);if(C!==Qa.call(d))return!1;if(jy&&C=="[object Object]"&&$l(f)){if(!$l(d))return!1;C=cy}switch(C){case"[object RegExp]":case"[object String]":return""+f==""+d;case"[object Number]":return+f!=+f?+d!=+d:+f==0?1/+f===1/d:+f==+d;case"[object Date]":case"[object Boolean]":return+f==+d;case"[object Symbol]":return iy.valueOf.call(f)===iy.valueOf.call(d);case"[object ArrayBuffer]":case cy:return Xy(uy(f),uy(d),_,w)}var b=C==="[object Array]";if(!b&&Gy(f)){var L=eu(f);if(L!==eu(d))return!1;if(f.buffer===d.buffer&&f.byteOffset===d.byteOffset)return!0;b=!0}if(!b){if(typeof f!="object"||typeof d!="object")return!1;var z=f.constructor,R=d.constructor;if(z!==R&&!(Rt(z)&&z instanceof z&&Rt(R)&&R instanceof R)&&"constructor"in f&&"constructor"in d)return!1}_=_||[],w=w||[];for(var S=_.length;S--;)if(_[S]===f)return w[S]===d;if(_.push(f),w.push(d),b){if(S=f.length,S!==d.length)return!1;for(;S--;)if(!Eh(f[S],d[S],_,w))return!1}else{var K=Et(f),T;if(S=K.length,Et(d).length!==S)return!1;for(;S--;)if(T=K[S],!(kr(d,T)&&Eh(f[T],d[T],_,w)))return!1}return _.pop(),w.pop(),!0}function TP(f,d){return Eh(f,d)}function Ja(f){if(!ii(f))return[];var d=[];for(var _ in f)d.push(_);return Oy&&Hy(f,d),d}function Lh(f){var d=qt(f);return function(_){if(_==null)return!1;var w=Ja(_);if(qt(w))return!1;for(var C=0;C<d;C++)if(!Rt(_[f[C]]))return!1;return f!==Ky||!Rt(_[Rh])}}var Rh="forEach",Zy="has",Fh=["clear","delete"],qy=["get",Zy,"set"],DP=Fh.concat(Rh,qy),Ky=Fh.concat(qy),OP=["add"].concat(Fh,Rh,Zy);const zP=Ph?Lh(DP):zt("Map"),IP=Ph?Lh(Ky):zt("WeakMap"),PP=Ph?Lh(OP):zt("Set"),NP=zt("WeakSet");function Co(f){for(var d=Et(f),_=d.length,w=Array(_),C=0;C<_;C++)w[C]=f[d[C]];return w}function LP(f){for(var d=Et(f),_=d.length,w=Array(_),C=0;C<_;C++)w[C]=[d[C],f[d[C]]];return w}function Jy(f){for(var d={},_=Et(f),w=0,C=_.length;w<C;w++)d[f[_[w]]]=_[w];return d}function Ch(f){var d=[];for(var _ in f)Rt(f[_])&&d.push(_);return d.sort()}function jh(f,d){return function(_){var w=arguments.length;if(d&&(_=Object(_)),w<2||_==null)return _;for(var C=1;C<w;C++)for(var b=arguments[C],L=f(b),z=L.length,R=0;R<z;R++){var S=L[R];(!d||_[S]===void 0)&&(_[S]=b[S])}return _}}const $y=jh(Ja),tu=jh(Et),eb=jh(Ja,!0);function RP(){return function(){}}function tb(f){if(!ii(f))return{};if(ay)return ay(f);var d=RP();d.prototype=f;var _=new d;return d.prototype=null,_}function FP(f,d){var _=tb(f);return d&&tu(_,d),_}function jP(f){return ii(f)?oi(f)?f.slice():$y({},f):f}function UP(f,d){return d(f),f}function nb(f){return oi(f)?f:[f]}tt.toPath=nb;function $a(f){return tt.toPath(f)}function Uh(f,d){for(var _=d.length,w=0;w<_;w++){if(f==null)return;f=f[d[w]]}return _?f:void 0}function rb(f,d,_){var w=Uh(f,$a(d));return zy(w)?_:w}function WP(f,d){d=$a(d);for(var _=d.length,w=0;w<_;w++){var C=d[w];if(!kr(f,C))return!1;f=f[C]}return!!_}function Wh(f){return f}function Xa(f){return f=tu({},f),function(d){return Qy(d,f)}}function Yh(f){return f=$a(f),function(d){return Uh(d,f)}}function es(f,d,_){if(d===void 0)return f;switch(_??3){case 1:return function(w){return f.call(d,w)};case 3:return function(w,C,b){return f.call(d,w,C,b)};case 4:return function(w,C,b,L){return f.call(d,w,C,b,L)}}return function(){return f.apply(d,arguments)}}function ib(f,d,_){return f==null?Wh:Rt(f)?es(f,d,_):ii(f)&&!oi(f)?Xa(f):Yh(f)}function Vh(f,d){return ib(f,d,1/0)}tt.iteratee=Vh;function Kt(f,d,_){return tt.iteratee!==Vh?tt.iteratee(f,d):ib(f,d,_)}function YP(f,d,_){d=Kt(d,_);for(var w=Et(f),C=w.length,b={},L=0;L<C;L++){var z=w[L];b[z]=d(f[z],z,f)}return b}function ob(){}function VP(f){return f==null?ob:function(d){return rb(f,d)}}function GP(f,d,_){var w=Array(Math.max(0,f));d=es(d,_,1);for(var C=0;C<f;C++)w[C]=d(C);return w}function kh(f,d){return d==null&&(d=f,f=0),f+Math.floor(Math.random()*(d-f+1))}const Za=Date.now||function(){return new Date().getTime()};function ab(f){var d=function(b){return f[b]},_="(?:"+Et(f).join("|")+")",w=RegExp(_),C=RegExp(_,"g");return function(b){return b=b==null?"":""+b,w.test(b)?b.replace(C,d):b}}const sb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},HP=ab(sb),QP=Jy(sb),XP=ab(QP),ZP=tt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var dh=/(.)^/,qP={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},KP=/\\|'|\r|\n|\u2028|\u2029/g;function JP(f){return"\\"+qP[f]}var $P=/^\s*(\w|\$)+\s*$/;function eN(f,d,_){!d&&_&&(d=_),d=eb({},d,tt.templateSettings);var w=RegExp([(d.escape||dh).source,(d.interpolate||dh).source,(d.evaluate||dh).source].join("|")+"|$","g"),C=0,b="__p+='";f.replace(w,function(S,K,T,V,j){return b+=f.slice(C,j).replace(KP,JP),C=j+S.length,K?b+=`'+
((__t=(`+K+`))==null?'':_.escape(__t))+
'`:T?b+=`'+
((__t=(`+T+`))==null?'':__t)+
'`:V&&(b+=`';
`+V+`
__p+='`),S}),b+=`';
`;var L=d.variable;if(L){if(!$P.test(L))throw new Error("variable is not a bare identifier: "+L)}else b=`with(obj||{}){
`+b+`}
`,L="obj";b=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+b+`return __p;
`;var z;try{z=new Function(L,"_",b)}catch(S){throw S.source=b,S}var R=function(S){return z.call(this,S,tt)};return R.source="function("+L+`){
`+b+"}",R}function tN(f,d,_){d=$a(d);var w=d.length;if(!w)return Rt(_)?_.call(f):_;for(var C=0;C<w;C++){var b=f==null?void 0:f[d[C]];b===void 0&&(b=_,C=w),f=Rt(b)?b.call(f):b}return f}var nN=0;function rN(f){var d=++nN+"";return f?f+d:d}function iN(f){var d=tt(f);return d._chain=!0,d}function lb(f,d,_,w,C){if(!(w instanceof d))return f.apply(_,C);var b=tb(f.prototype),L=f.apply(b,C);return ii(L)?L:b}var ko=Zt(function(f,d){var _=ko.placeholder,w=function(){for(var C=0,b=d.length,L=Array(b),z=0;z<b;z++)L[z]=d[z]===_?arguments[C++]:d[z];for(;C<arguments.length;)L.push(arguments[C++]);return lb(f,w,this,this,L)};return w});ko.placeholder=tt;const ub=Zt(function(f,d,_){if(!Rt(f))throw new TypeError("Bind must be called on a function");var w=Zt(function(C){return lb(f,w,d,this,_.concat(C))});return w}),un=Yy(qt);function ai(f,d,_,w){if(w=w||[],!d&&d!==0)d=1/0;else if(d<=0)return w.concat(f);for(var C=w.length,b=0,L=qt(f);b<L;b++){var z=f[b];if(un(z)&&(oi(z)||Nh(z)))if(d>1)ai(z,d-1,_,w),C=w.length;else for(var R=0,S=z.length;R<S;)w[C++]=z[R++];else _||(w[C++]=z)}return w}const oN=Zt(function(f,d){d=ai(d,!1,!1);var _=d.length;if(_<1)throw new Error("bindAll must be passed function names");for(;_--;){var w=d[_];f[w]=ub(f[w],f)}return f});function aN(f,d){var _=function(w){var C=_.cache,b=""+(d?d.apply(this,arguments):w);return kr(C,b)||(C[b]=f.apply(this,arguments)),C[b]};return _.cache={},_}const cb=Zt(function(f,d,_){return setTimeout(function(){return f.apply(null,_)},d)}),sN=ko(cb,tt,1);function lN(f,d,_){var w,C,b,L,z=0;_||(_={});var R=function(){z=_.leading===!1?0:Za(),w=null,L=f.apply(C,b),w||(C=b=null)},S=function(){var K=Za();!z&&_.leading===!1&&(z=K);var T=d-(K-z);return C=this,b=arguments,T<=0||T>d?(w&&(clearTimeout(w),w=null),z=K,L=f.apply(C,b),w||(C=b=null)):!w&&_.trailing!==!1&&(w=setTimeout(R,T)),L};return S.cancel=function(){clearTimeout(w),z=0,w=C=b=null},S}function uN(f,d,_){var w,C,b,L,z,R=function(){var K=Za()-C;d>K?w=setTimeout(R,d-K):(w=null,_||(L=f.apply(z,b)),w||(b=z=null))},S=Zt(function(K){return z=this,b=K,C=Za(),w||(w=setTimeout(R,d),_&&(L=f.apply(z,b))),L});return S.cancel=function(){clearTimeout(w),w=b=z=null},S}function cN(f,d){return ko(d,f)}function Gh(f){return function(){return!f.apply(this,arguments)}}function fN(){var f=arguments,d=f.length-1;return function(){for(var _=d,w=f[d].apply(this,arguments);_--;)w=f[_].call(this,w);return w}}function hN(f,d){return function(){if(--f<1)return d.apply(this,arguments)}}function fb(f,d){var _;return function(){return--f>0&&(_=d.apply(this,arguments)),f<=1&&(d=null),_}}const dN=ko(fb,2);function hb(f,d,_){d=Kt(d,_);for(var w=Et(f),C,b=0,L=w.length;b<L;b++)if(C=w[b],d(f[C],C,f))return C}function db(f){return function(d,_,w){_=Kt(_,w);for(var C=qt(d),b=f>0?0:C-1;b>=0&&b<C;b+=f)if(_(d[b],b,d))return b;return-1}}const Hh=db(1),pb=db(-1);function _b(f,d,_,w){_=Kt(_,w,1);for(var C=_(d),b=0,L=qt(f);b<L;){var z=Math.floor((b+L)/2);_(f[z])<C?b=z+1:L=z}return b}function gb(f,d,_){return function(w,C,b){var L=0,z=qt(w);if(typeof b=="number")f>0?L=b>=0?b:Math.max(b+z,L):z=b>=0?Math.min(b+1,z):b+z+1;else if(_&&b&&z)return b=_(w,C),w[b]===C?b:-1;if(C!==C)return b=d(Ka.call(w,L,z),Uy),b>=0?b+L:-1;for(b=f>0?L:z-1;b>=0&&b<z;b+=f)if(w[b]===C)return b;return-1}}const mb=gb(1,Hh,_b),pN=gb(-1,pb);function Mh(f,d,_){var w=un(f)?Hh:hb,C=w(f,d,_);if(C!==void 0&&C!==-1)return f[C]}function _N(f,d){return Mh(f,Xa(d))}function ar(f,d,_){d=es(d,_);var w,C;if(un(f))for(w=0,C=f.length;w<C;w++)d(f[w],w,f);else{var b=Et(f);for(w=0,C=b.length;w<C;w++)d(f[b[w]],b[w],f)}return f}function ri(f,d,_){d=Kt(d,_);for(var w=!un(f)&&Et(f),C=(w||f).length,b=Array(C),L=0;L<C;L++){var z=w?w[L]:L;b[L]=d(f[z],z,f)}return b}function vb(f){var d=function(_,w,C,b){var L=!un(_)&&Et(_),z=(L||_).length,R=f>0?0:z-1;for(b||(C=_[L?L[R]:R],R+=f);R>=0&&R<z;R+=f){var S=L?L[R]:R;C=w(C,_[S],S,_)}return C};return function(_,w,C,b){var L=arguments.length>=3;return d(_,es(w,b,4),C,L)}}const ph=vb(1),fy=vb(-1);function Eo(f,d,_){var w=[];return d=Kt(d,_),ar(f,function(C,b,L){d(C,b,L)&&w.push(C)}),w}function gN(f,d,_){return Eo(f,Gh(Kt(d)),_)}function hy(f,d,_){d=Kt(d,_);for(var w=!un(f)&&Et(f),C=(w||f).length,b=0;b<C;b++){var L=w?w[b]:b;if(!d(f[L],L,f))return!1}return!0}function dy(f,d,_){d=Kt(d,_);for(var w=!un(f)&&Et(f),C=(w||f).length,b=0;b<C;b++){var L=w?w[b]:b;if(d(f[L],L,f))return!0}return!1}function or(f,d,_,w){return un(f)||(f=Co(f)),(typeof _!="number"||w)&&(_=0),mb(f,d,_)>=0}const mN=Zt(function(f,d,_){var w,C;return Rt(d)?C=d:(d=$a(d),w=d.slice(0,-1),d=d[d.length-1]),ri(f,function(b){var L=C;if(!L){if(w&&w.length&&(b=Uh(b,w)),b==null)return;L=b[d]}return L==null?L:L.apply(b,_)})});function Qh(f,d){return ri(f,Yh(d))}function vN(f,d){return Eo(f,Xa(d))}function yb(f,d,_){var w=-1/0,C=-1/0,b,L;if(d==null||typeof d=="number"&&typeof f[0]!="object"&&f!=null){f=un(f)?f:Co(f);for(var z=0,R=f.length;z<R;z++)b=f[z],b!=null&&b>w&&(w=b)}else d=Kt(d,_),ar(f,function(S,K,T){L=d(S,K,T),(L>C||L===-1/0&&w===-1/0)&&(w=S,C=L)});return w}function yN(f,d,_){var w=1/0,C=1/0,b,L;if(d==null||typeof d=="number"&&typeof f[0]!="object"&&f!=null){f=un(f)?f:Co(f);for(var z=0,R=f.length;z<R;z++)b=f[z],b!=null&&b<w&&(w=b)}else d=Kt(d,_),ar(f,function(S,K,T){L=d(S,K,T),(L<C||L===1/0&&w===1/0)&&(w=S,C=L)});return w}var bN=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function bb(f){return f?oi(f)?Ka.call(f):Ih(f)?f.match(bN):un(f)?ri(f,Wh):Co(f):[]}function Ab(f,d,_){if(d==null||_)return un(f)||(f=Co(f)),f[kh(f.length-1)];var w=bb(f),C=qt(w);d=Math.max(Math.min(d,C),0);for(var b=C-1,L=0;L<d;L++){var z=kh(L,b),R=w[L];w[L]=w[z],w[z]=R}return w.slice(0,d)}function AN(f){return Ab(f,1/0)}function wN(f,d,_){var w=0;return d=Kt(d,_),Qh(ri(f,function(C,b,L){return{value:C,index:w++,criteria:d(C,b,L)}}).sort(function(C,b){var L=C.criteria,z=b.criteria;if(L!==z){if(L>z||L===void 0)return 1;if(L<z||z===void 0)return-1}return C.index-b.index}),"value")}function au(f,d){return function(_,w,C){var b=d?[[],[]]:{};return w=Kt(w,C),ar(_,function(L,z){var R=w(L,z,_);f(b,L,R)}),b}}const xN=au(function(f,d,_){kr(f,_)?f[_].push(d):f[_]=[d]}),EN=au(function(f,d,_){f[_]=d}),CN=au(function(f,d,_){kr(f,_)?f[_]++:f[_]=1}),kN=au(function(f,d,_){f[_?0:1].push(d)},!0);function MN(f){return f==null?0:un(f)?f.length:Et(f).length}function BN(f,d,_){return d in _}const wb=Zt(function(f,d){var _={},w=d[0];if(f==null)return _;Rt(w)?(d.length>1&&(w=es(w,d[1])),d=Ja(f)):(w=BN,d=ai(d,!1,!1),f=Object(f));for(var C=0,b=d.length;C<b;C++){var L=d[C],z=f[L];w(z,L,f)&&(_[L]=z)}return _}),SN=Zt(function(f,d){var _=d[0],w;return Rt(_)?(_=Gh(_),d.length>1&&(w=d[1])):(d=ri(ai(d,!1,!1),String),_=function(C,b){return!or(d,b)}),wb(f,_,w)});function xb(f,d,_){return Ka.call(f,0,Math.max(0,f.length-(d==null||_?1:d)))}function _h(f,d,_){return f==null||f.length<1?d==null||_?void 0:[]:d==null||_?f[0]:xb(f,f.length-d)}function ql(f,d,_){return Ka.call(f,d==null||_?1:d)}function TN(f,d,_){return f==null||f.length<1?d==null||_?void 0:[]:d==null||_?f[f.length-1]:ql(f,Math.max(0,f.length-d))}function DN(f){return Eo(f,Boolean)}function ON(f,d){return ai(f,d,!1)}const Eb=Zt(function(f,d){return d=ai(d,!0,!0),Eo(f,function(_){return!or(d,_)})}),zN=Zt(function(f,d){return Eb(f,d)});function Bh(f,d,_,w){Iy(d)||(w=_,_=d,d=!1),_!=null&&(_=Kt(_,w));for(var C=[],b=[],L=0,z=qt(f);L<z;L++){var R=f[L],S=_?_(R,L,f):R;d&&!_?((!L||b!==S)&&C.push(R),b=S):_?or(b,S)||(b.push(S),C.push(R)):or(C,R)||C.push(R)}return C}const IN=Zt(function(f){return Bh(ai(f,!0,!0))});function PN(f){for(var d=[],_=arguments.length,w=0,C=qt(f);w<C;w++){var b=f[w];if(!or(d,b)){var L;for(L=1;L<_&&or(arguments[L],b);L++);L===_&&d.push(b)}}return d}function Sh(f){for(var d=f&&yb(f,qt).length||0,_=Array(d),w=0;w<d;w++)_[w]=Qh(f,w);return _}const NN=Zt(Sh);function LN(f,d){for(var _={},w=0,C=qt(f);w<C;w++)d?_[f[w]]=d[w]:_[f[w][0]]=f[w][1];return _}function RN(f,d,_){d==null&&(d=f||0,f=0),_||(_=d<f?-1:1);for(var w=Math.max(Math.ceil((d-f)/_),0),C=Array(w),b=0;b<w;b++,f+=_)C[b]=f;return C}function FN(f,d){if(d==null||d<1)return[];for(var _=[],w=0,C=f.length;w<C;)_.push(Ka.call(f,w,w+=d));return _}function Xh(f,d){return f._chain?tt(d).chain():d}function Cb(f){return ar(Ch(f),function(d){var _=tt[d]=f[d];tt.prototype[d]=function(){var w=[this._wrapped];return uP.apply(w,arguments),Xh(this,_.apply(tt,w))}}),tt}ar(["pop","push","reverse","shift","sort","splice","unshift"],function(f){var d=ou[f];tt.prototype[f]=function(){var _=this._wrapped;return _!=null&&(d.apply(_,arguments),(f==="shift"||f==="splice")&&_.length===0&&delete _[0]),Xh(this,_)}});ar(["concat","join","slice"],function(f){var d=ou[f];tt.prototype[f]=function(){var _=this._wrapped;return _!=null&&(_=d.apply(_,arguments)),Xh(this,_)}});const jN=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Ty,after:hN,all:hy,allKeys:Ja,any:dy,assign:tu,before:fb,bind:ub,bindAll:oN,chain:iN,chunk:FN,clone:jP,collect:ri,compact:DN,compose:fN,constant:Wy,contains:or,countBy:CN,create:FP,debounce:uN,default:tt,defaults:eb,defer:sN,delay:cb,detect:Mh,difference:Eb,drop:ql,each:ar,escape:HP,every:hy,extend:$y,extendOwn:tu,filter:Eo,find:Mh,findIndex:Hh,findKey:hb,findLastIndex:pb,findWhere:_N,first:_h,flatten:ON,foldl:ph,foldr:fy,forEach:ar,functions:Ch,get:rb,groupBy:xN,has:WP,head:_h,identity:Wh,include:or,includes:or,indexBy:EN,indexOf:mb,initial:xb,inject:ph,intersection:PN,invert:Jy,invoke:mN,isArguments:Nh,isArray:oi,isArrayBuffer:Ly,isBoolean:Iy,isDataView:$l,isDate:vP,isElement:mP,isEmpty:SP,isEqual:TP,isError:bP,isFinite:EP,isFunction:Rt,isMap:zP,isMatch:Qy,isNaN:Uy,isNull:gP,isNumber:Py,isObject:ii,isRegExp:yP,isSet:PP,isString:Ih,isSymbol:Ny,isTypedArray:Gy,isUndefined:zy,isWeakMap:IP,isWeakSet:NP,iteratee:Vh,keys:Et,last:TN,lastIndexOf:pN,map:ri,mapObject:YP,matcher:Xa,matches:Xa,max:yb,memoize:aN,methods:Ch,min:yN,mixin:Cb,negate:Gh,noop:ob,now:Za,object:LN,omit:SN,once:dN,pairs:LP,partial:ko,partition:kN,pick:wb,pluck:Qh,property:Yh,propertyOf:VP,random:kh,range:RN,reduce:ph,reduceRight:fy,reject:gN,rest:ql,restArguments:Zt,result:tN,sample:Ab,select:Eo,shuffle:AN,size:MN,some:dy,sortBy:wN,sortedIndex:_b,tail:ql,take:_h,tap:UP,template:eN,templateSettings:ZP,throttle:lN,times:GP,toArray:bb,toPath:nb,transpose:Sh,unescape:XP,union:IN,uniq:Bh,unique:Bh,uniqueId:rN,unzip:Sh,values:Co,where:vN,without:zN,wrap:cN,zip:NN},Symbol.toStringTag,{value:"Module"}));var ni=Cb(jN);ni._=ni;var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UN(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kb={exports:{}};(function(f,d){(function(w,C){f.exports=C(function(){try{return require("@jupyter-widgets/base")}catch{}}())})(self,_=>(()=>{var w={284:(z,R,S)=>{S.d(R,{A:()=>nt});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=S(417),pe=S.n(U),X=new URL(S(37),S.b),Z=new URL(S(353),S.b),H=new URL(S(759),S.b),ie=new URL(S(359),S.b),oe=new URL(S(792),S.b),ue=j()(T()),se=pe()(X),ce=pe()(X,{hash:"#iefix"}),ae=pe()(Z),be=pe()(H),Se=pe()(ie),Pe=pe()(oe,{hash:"#fontello"});ue.push([z.id,`@font-face {
  font-family: 'fontello';
  src: url(${se});
  src: url(${ce}) format('embedded-opentype'),
       url(${ae}) format('woff2'),
       url(${be}) format('woff'),
       url(${Se}) format('truetype'),
       url(${Pe}) format('svg');
  font-weight: normal;
  font-style: normal;
}
/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */
/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */
/*
@media screen and (-webkit-min-device-pixel-ratio:0) {
  @font-face {
    font-family: 'fontello';
    src: url('../font/fontello.svg?9130959#fontello') format('svg');
  }
}
*/
 
 [class^="icon-"]:before, [class*=" icon-"]:before {
  font-family: "fontello";
  font-style: normal;
  font-weight: normal;
  speak: none;
 
  display: inline-block;
  text-decoration: inherit;
  width: 1em;
  margin-right: .2em;
  text-align: center;
  /* opacity: .8; */
 
  /* For safety - reset parent styles, that can break glyph codes*/
  font-variant: normal;
  text-transform: none;
 
  /* fix buttons height, for twitter bootstrap */
  line-height: 1em;
 
  /* Animation center compensation - margins should be symmetric */
  /* remove if not needed */
  margin-left: .2em;
 
  /* you can be more comfortable with increased icons size */
  /* font-size: 120%; */
 
  /* Font smoothing. That was taken from TWBS */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
 
  /* Uncomment for 3D effect */
  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */
}
 
.icon-ok:before { content: '\\e800'; } /* '' */
.icon-cancel:before { content: '\\e801'; } /* '' */
.icon-plus:before { content: '\\e802'; } /* '' */
.icon-down-big:before { content: '\\e803'; } /* '' */
.icon-left-big:before { content: '\\e804'; } /* '' */
.icon-right-big:before { content: '\\e805'; } /* '' */
.icon-up-big:before { content: '\\e806'; } /* '' */
.icon-left-open:before { content: '\\e807'; } /* '' */
.icon-right-open:before { content: '\\e808'; } /* '' */
.icon-wrench:before { content: '\\e809'; } /* '' */
.icon-resize-full:before { content: '\\e80a'; } /* '' */
.icon-cw:before { content: '\\e80b'; } /* '' */
.icon-trash-empty:before { content: '\\e80e'; } /* '' */
.icon-font:before { content: '\\e80f'; } /* '' */
.icon-zoom-in:before { content: '\\e810'; } /* '' */
.icon-zoom-out:before { content: '\\e811'; } /* '' */
.icon-move:before { content: '\\f047'; } /* '' */
.icon-resize-full-alt:before { content: '\\f0b2'; } /* '' */
.icon-blank:before { content: '\\f0c8'; } /* '' */
.icon-sort-down:before { content: '\\f0dd'; } /* '' */
.icon-mouse-pointer:before { content: '\\f245'; } /* '' */`,"",{version:3,sources:["webpack://./icons/css/fontello.css"],names:[],mappings:"AAAA;EACE,uBAAuB;EACvB,4CAAwC;EACxC;;;;4DAI+D;EAC/D,mBAAmB;EACnB,kBAAkB;AACpB;AACA,gGAAgG;AAChG,2FAA2F;AAC3F;;;;;;;CAOC;;CAEA;EACC,uBAAuB;EACvB,kBAAkB;EAClB,mBAAmB;EACnB,WAAW;;EAEX,qBAAqB;EACrB,wBAAwB;EACxB,UAAU;EACV,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;;EAEjB,gEAAgE;EAChE,oBAAoB;EACpB,oBAAoB;;EAEpB,8CAA8C;EAC9C,gBAAgB;;EAEhB,gEAAgE;EAChE,yBAAyB;EACzB,iBAAiB;;EAEjB,0DAA0D;EAC1D,qBAAqB;;EAErB,6CAA6C;EAC7C,mCAAmC;EACnC,kCAAkC;;EAElC,4BAA4B;EAC5B,uDAAuD;AACzD;;AAEA,kBAAkB,gBAAgB,EAAE,EAAE,QAAQ;AAC9C,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,kBAAkB,gBAAgB,EAAE,EAAE,QAAQ;AAC9C,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ",sourcesContent:[`@font-face {
  font-family: 'fontello';
  src: url('../font/fontello.eot?9130959');
  src: url('../font/fontello.eot?9130959#iefix') format('embedded-opentype'),
       url('../font/fontello.woff2?9130959') format('woff2'),
       url('../font/fontello.woff?9130959') format('woff'),
       url('../font/fontello.ttf?9130959') format('truetype'),
       url('../font/fontello.svg?9130959#fontello') format('svg');
  font-weight: normal;
  font-style: normal;
}
/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */
/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */
/*
@media screen and (-webkit-min-device-pixel-ratio:0) {
  @font-face {
    font-family: 'fontello';
    src: url('../font/fontello.svg?9130959#fontello') format('svg');
  }
}
*/
 
 [class^="icon-"]:before, [class*=" icon-"]:before {
  font-family: "fontello";
  font-style: normal;
  font-weight: normal;
  speak: none;
 
  display: inline-block;
  text-decoration: inherit;
  width: 1em;
  margin-right: .2em;
  text-align: center;
  /* opacity: .8; */
 
  /* For safety - reset parent styles, that can break glyph codes*/
  font-variant: normal;
  text-transform: none;
 
  /* fix buttons height, for twitter bootstrap */
  line-height: 1em;
 
  /* Animation center compensation - margins should be symmetric */
  /* remove if not needed */
  margin-left: .2em;
 
  /* you can be more comfortable with increased icons size */
  /* font-size: 120%; */
 
  /* Font smoothing. That was taken from TWBS */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
 
  /* Uncomment for 3D effect */
  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */
}
 
.icon-ok:before { content: '\\e800'; } /* '' */
.icon-cancel:before { content: '\\e801'; } /* '' */
.icon-plus:before { content: '\\e802'; } /* '' */
.icon-down-big:before { content: '\\e803'; } /* '' */
.icon-left-big:before { content: '\\e804'; } /* '' */
.icon-right-big:before { content: '\\e805'; } /* '' */
.icon-up-big:before { content: '\\e806'; } /* '' */
.icon-left-open:before { content: '\\e807'; } /* '' */
.icon-right-open:before { content: '\\e808'; } /* '' */
.icon-wrench:before { content: '\\e809'; } /* '' */
.icon-resize-full:before { content: '\\e80a'; } /* '' */
.icon-cw:before { content: '\\e80b'; } /* '' */
.icon-trash-empty:before { content: '\\e80e'; } /* '' */
.icon-font:before { content: '\\e80f'; } /* '' */
.icon-zoom-in:before { content: '\\e810'; } /* '' */
.icon-zoom-out:before { content: '\\e811'; } /* '' */
.icon-move:before { content: '\\f047'; } /* '' */
.icon-resize-full-alt:before { content: '\\f0b2'; } /* '' */
.icon-blank:before { content: '\\f0c8'; } /* '' */
.icon-sort-down:before { content: '\\f0dd'; } /* '' */
.icon-mouse-pointer:before { content: '\\f245'; } /* '' */`],sourceRoot:""}]);const nt=ue},982:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`/* Containers */

/* The top level container for an Escher Builder */
.escher-container {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;
  background-color: #F3F3F3;
  text-align: center;
  position: relative;
  font-size: 14px;
  color: #333333;
}

/* Applied to the body when Escher fills the screen. This stops browser from
showing scroll-end animations. */
html.fill-screen {
  height: 100%;
  width: 100%;
}
body.fill-screen {
  margin: 0;
  position: relative;
  overflow: hidden;
  height: 100%;
  width: 100%;
}

/* Applied to top level container (generally .escher-container) when Escher
fills the screen. These make sure Escher completely fills the screen, even after
resizes. */
.fill-screen-div {
  margin: 0;
  padding: 0;
  position: fixed;
  top: 0px;
  bottom: 0px;
  left: 0px;
  right: 0px;
  width: 100% !important;
  height: 100% !important;
  z-index: 1000;
}

/* The zoom container classes. */
.escher-container .escher-zoom-container,
.escher-container .escher-3d-transform-container,
.escher-container svg.escher-svg {
  width: 100% !important;
  height: 100% !important;
  overflow: hidden;
}

/* SVG text should not be selectable */
.escher-container svg text {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Status */
.escher-container #status {
  position:absolute;
  bottom:10px;
  left: 20px;
  color: red;
  background-color: white;
  font-size: 16px
}

/* Search & Menu */
.escher-container .search-menu-container {
  position: absolute;
  width: 100%;
  top: 0px;
  left: 0px;
  margin: 0;
  text-align: center;
  pointer-events: none;
  display: flex;
  justify-content: center;
  align-items: center;
}

.escher-container .search-menu-container .legend-container{
  display: none;
  width: 224px;
  height: 35.5px;
}

.escher-container .search-menu-container .vertical-legend-container{
  display: none;
}

.escher-container .search-menu-container-inline {
  box-sizing: border-box;
  width: 320px;
  display: inline-block;
  text-align: left;
  pointer-events: auto;
}
@media (min-width: 550px) {
  .escher-container .search-menu-container-inline {
    width: 470px;
  }
}

/* Reaction input */
.escher-container #rxn-input {
  z-index: 10;
  width: 200px;
}
.escher-container .input-close-button {
  position: absolute;
  right: 0px;
  width: 18px;
  bottom: 0px;
  padding: 0px;
  border-width: 0px;
  margin: 0px;
  background: none;
  font-size: 20px;
  font-weight: normal;
  top: -8px;
}
.escher-container .input-close-button:hover {
  color: #ff3333;
  font-weight: bold;
}

/* text edit input */
.escher-container #text-edit-input input {
  width: 500px;
  border: 1px solid #cccccc;
  font-size: 22px;
}

.escher-container #tooltip-container {
  -ms-touch-action: none;
  touch-action: none;
}

/* Buttons */
.escher-container .btn {
  color: white!important;
  border: 1px solid #2E2F2F;
  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);
  background-color: white;
  cursor: pointer;
}

.escher-container .btn:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}


/* Modal container */
#legend-config-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 400px;
  padding: 20px;
  background-color: white;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  display: none; /* Hidden by default */
  border-radius: 8px;
  border: 1px solid #ccc;
}

#legend-config-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
  z-index: 1000; /* Ensure the overlay is behind the modal */
  display: none; /* Hidden by default */
}

/* Modal content */
#legend-config-modal .modal-content h3 {
  font-size: 1.25em;
  margin-bottom: 20px;
  margin-top: 0;
}

#legend-config-modal .modal-content label {
  display: block;
  margin: 10px 0 5px;
  font-weight: bold;
  text-align: left;
}

#legend-config-modal .modal-content select {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

/* Modal actions */
#legend-config-modal .modal-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 20px;
}

#legend-config-modal .modal-button {
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  margin-left: 10px;
}

#legend-config-modal .modal-button.confirm {
  background-color: #4CAF50;
  color: white;
}

#legend-config-modal .modal-button.cancel {
  background-color: #f2f2f2;
  color: #000;
}
`,"",{version:3,sources:["webpack://./src/Builder.css"],names:[],mappings:"AAAA,eAAe;;AAEf,kDAAkD;AAClD;EACE,sEAAsE;EACtE,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;AAChB;;AAEA;gCACgC;AAChC;EACE,YAAY;EACZ,WAAW;AACb;AACA;EACE,SAAS;EACT,kBAAkB;EAClB,gBAAgB;EAChB,YAAY;EACZ,WAAW;AACb;;AAEA;;UAEU;AACV;EACE,SAAS;EACT,UAAU;EACV,eAAe;EACf,QAAQ;EACR,WAAW;EACX,SAAS;EACT,UAAU;EACV,sBAAsB;EACtB,uBAAuB;EACvB,aAAa;AACf;;AAEA,gCAAgC;AAChC;;;EAGE,sBAAsB;EACtB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA,sCAAsC;AACtC;EACE,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA,WAAW;AACX;EACE,iBAAiB;EACjB,WAAW;EACX,UAAU;EACV,UAAU;EACV,uBAAuB;EACvB;AACF;;AAEA,kBAAkB;AAClB;EACE,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,SAAS;EACT,SAAS;EACT,kBAAkB;EAClB,oBAAoB;EACpB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;EACrB,gBAAgB;EAChB,oBAAoB;AACtB;AACA;EACE;IACE,YAAY;EACd;AACF;;AAEA,mBAAmB;AACnB;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,SAAS;AACX;AACA;EACE,cAAc;EACd,iBAAiB;AACnB;;AAEA,oBAAoB;AACpB;EACE,YAAY;EACZ,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA,YAAY;AACZ;EACE,sBAAsB;EACtB,yBAAyB;EACzB,+DAA+D;EAC/D,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,+DAA+D;AACjE;;;AAGA,oBAAoB;AACpB;EACE,eAAe;EACf,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,0CAA0C;EAC1C,aAAa;EACb,aAAa,EAAE,sBAAsB;EACrC,kBAAkB;EAClB,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,oCAAoC,EAAE,2BAA2B;EACjE,aAAa,EAAE,2CAA2C;EAC1D,aAAa,EAAE,sBAAsB;AACvC;;AAEA,kBAAkB;AAClB;EACE,iBAAiB;EACjB,mBAAmB;EACnB,aAAa;AACf;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA,kBAAkB;AAClB;EACE,aAAa;EACb,yBAAyB;EACzB,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb",sourcesContent:[`/* Containers */

/* The top level container for an Escher Builder */
.escher-container {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;
  background-color: #F3F3F3;
  text-align: center;
  position: relative;
  font-size: 14px;
  color: #333333;
}

/* Applied to the body when Escher fills the screen. This stops browser from
showing scroll-end animations. */
html.fill-screen {
  height: 100%;
  width: 100%;
}
body.fill-screen {
  margin: 0;
  position: relative;
  overflow: hidden;
  height: 100%;
  width: 100%;
}

/* Applied to top level container (generally .escher-container) when Escher
fills the screen. These make sure Escher completely fills the screen, even after
resizes. */
.fill-screen-div {
  margin: 0;
  padding: 0;
  position: fixed;
  top: 0px;
  bottom: 0px;
  left: 0px;
  right: 0px;
  width: 100% !important;
  height: 100% !important;
  z-index: 1000;
}

/* The zoom container classes. */
.escher-container .escher-zoom-container,
.escher-container .escher-3d-transform-container,
.escher-container svg.escher-svg {
  width: 100% !important;
  height: 100% !important;
  overflow: hidden;
}

/* SVG text should not be selectable */
.escher-container svg text {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Status */
.escher-container #status {
  position:absolute;
  bottom:10px;
  left: 20px;
  color: red;
  background-color: white;
  font-size: 16px
}

/* Search & Menu */
.escher-container .search-menu-container {
  position: absolute;
  width: 100%;
  top: 0px;
  left: 0px;
  margin: 0;
  text-align: center;
  pointer-events: none;
  display: flex;
  justify-content: center;
  align-items: center;
}

.escher-container .search-menu-container .legend-container{
  display: none;
  width: 224px;
  height: 35.5px;
}

.escher-container .search-menu-container .vertical-legend-container{
  display: none;
}

.escher-container .search-menu-container-inline {
  box-sizing: border-box;
  width: 320px;
  display: inline-block;
  text-align: left;
  pointer-events: auto;
}
@media (min-width: 550px) {
  .escher-container .search-menu-container-inline {
    width: 470px;
  }
}

/* Reaction input */
.escher-container #rxn-input {
  z-index: 10;
  width: 200px;
}
.escher-container .input-close-button {
  position: absolute;
  right: 0px;
  width: 18px;
  bottom: 0px;
  padding: 0px;
  border-width: 0px;
  margin: 0px;
  background: none;
  font-size: 20px;
  font-weight: normal;
  top: -8px;
}
.escher-container .input-close-button:hover {
  color: #ff3333;
  font-weight: bold;
}

/* text edit input */
.escher-container #text-edit-input input {
  width: 500px;
  border: 1px solid #cccccc;
  font-size: 22px;
}

.escher-container #tooltip-container {
  -ms-touch-action: none;
  touch-action: none;
}

/* Buttons */
.escher-container .btn {
  color: white!important;
  border: 1px solid #2E2F2F;
  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);
  background-color: white;
  cursor: pointer;
}

.escher-container .btn:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}


/* Modal container */
#legend-config-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 400px;
  padding: 20px;
  background-color: white;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  display: none; /* Hidden by default */
  border-radius: 8px;
  border: 1px solid #ccc;
}

#legend-config-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
  z-index: 1000; /* Ensure the overlay is behind the modal */
  display: none; /* Hidden by default */
}

/* Modal content */
#legend-config-modal .modal-content h3 {
  font-size: 1.25em;
  margin-bottom: 20px;
  margin-top: 0;
}

#legend-config-modal .modal-content label {
  display: block;
  margin: 10px 0 5px;
  font-weight: bold;
  text-align: left;
}

#legend-config-modal .modal-content select {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

/* Modal actions */
#legend-config-modal .modal-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 20px;
}

#legend-config-modal .modal-button {
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  margin-left: 10px;
}

#legend-config-modal .modal-button.confirm {
  background-color: #4CAF50;
  color: white;
}

#legend-config-modal .modal-button.cancel {
  background-color: #f2f2f2;
  color: #000;
}
`],sourceRoot:""}]);const pe=U},701:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .button-panel {
  position: absolute;
  left: 4px;
  top: 20%;
  margin-top: -32px;
  padding-left: 0;
  touch-action: none;
}

.escher-container .button-panel>li {
  margin-top: 5px;
  display: block;

  /* these sometimes get overridden */
  margin-left: 0 !important;
}

.escher-container .grouping {
  display: block;
}

.escher-container .buttonGroup {
  display: block;
  margin-bottom: -1px;
  padding: 5px 0px;
  border-radius: 0;
}

.escher-container .grouping>.buttonGroup:first-child {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}

.escher-container .grouping>.buttonGroup:last-child {
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}

.escher-container .button-panel>.grouping:last-child {
  margin-top: 4px;
}

.escher-container #currentMode,
.escher-container .active-button {
  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d) !important;
}

.escher-container .buttonGroup.btn {
  margin-top: -1px;
}

.escher-container .button {
  border-radius: 4px;
}

.escher-container .button.btn, .escher-container .buttonGroup.btn {
  padding: unset;
  color: white!important;
  border: 1px solid #474949;
  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);
  background-color: white;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  font-size: 14px!important;
  font-weight: 400;
  width: 40px;
  height: 40px;
}

.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}

.escher-container .button-panel .fa {
  font-size: 24px;
}

/* Icons */
.escher-container .button-panel [class^='icon-'] {
  font-size: 23px;
}
`,"",{version:3,sources:["webpack://./src/ButtonPanel.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,cAAc;;EAEd,mCAAmC;EACnC,yBAAyB;AAC3B;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,2BAA2B;EAC3B,4BAA4B;AAC9B;;AAEA;EACE,8BAA8B;EAC9B,+BAA+B;AACjC;;AAEA;EACE,eAAe;AACjB;;AAEA;;EAEE,wEAAwE;AAC1E;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,sBAAsB;EACtB,yBAAyB;EACzB,+DAA+D;EAC/D,uBAAuB;EACvB,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf,yBAAyB;EACzB,gBAAgB;EAChB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,+DAA+D;AACjE;;AAEA;EACE,eAAe;AACjB;;AAEA,UAAU;AACV;EACE,eAAe;AACjB",sourcesContent:[`.escher-container .button-panel {
  position: absolute;
  left: 4px;
  top: 20%;
  margin-top: -32px;
  padding-left: 0;
  touch-action: none;
}

.escher-container .button-panel>li {
  margin-top: 5px;
  display: block;

  /* these sometimes get overridden */
  margin-left: 0 !important;
}

.escher-container .grouping {
  display: block;
}

.escher-container .buttonGroup {
  display: block;
  margin-bottom: -1px;
  padding: 5px 0px;
  border-radius: 0;
}

.escher-container .grouping>.buttonGroup:first-child {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}

.escher-container .grouping>.buttonGroup:last-child {
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}

.escher-container .button-panel>.grouping:last-child {
  margin-top: 4px;
}

.escher-container #currentMode,
.escher-container .active-button {
  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d) !important;
}

.escher-container .buttonGroup.btn {
  margin-top: -1px;
}

.escher-container .button {
  border-radius: 4px;
}

.escher-container .button.btn, .escher-container .buttonGroup.btn {
  padding: unset;
  color: white!important;
  border: 1px solid #474949;
  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);
  background-color: white;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  font-size: 14px!important;
  font-weight: 400;
  width: 40px;
  height: 40px;
}

.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}

.escher-container .button-panel .fa {
  font-size: 24px;
}

/* Icons */
.escher-container .button-panel [class^='icon-'] {
  font-size: 23px;
}
`],sourceRoot:""}]);const pe=U},471:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .default-tooltip {
  box-sizing: border-box;
  min-width: 300px;
  min-height: 100px;
  border-radius: 2px;
  border: 1px solid #b58787;
  padding: 7px;
  background-color: #fff;
  text-align: left;
  font-size: 16px;
  font-family: sans-serif;
  color: #111;
  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);
}

.escher-container .default-tooltip .id{
  font-size: 18px;
  font-weight: bold;
}

.escher-container .default-tooltip button {
  border-radius: 3px;
  background-color: #eee;
  border: 1px solid #ddd;
  margin-top: 4px;
  font-size: 16px;
  padding: 3px 6px;
}

.escher-container .default-tooltip .top-right {
  position: absolute;
  top: 4px;
  right: 4px;
}

.escher-container .default-tooltip .top-right * {
  float: right;
  text-align: right;
}

.escher-container .default-tooltip .top-right a {
  font-size: 11px;
  color: #999;
  cursor: pointer;
}
.escher-container .default-tooltip .top-right a:hover {
  color: #444;
  text-decoration: underline;
}

.escher-container .default-tooltip .type-label {
  font-size: 15px;
  color: #d27066;
  background-color: #ffeded;
  border-radius: 2px;
  margin: 0 0 0 10px;
  padding: 0 5px;
}
`,"",{version:3,sources:["webpack://./src/DefaultTooltip.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,yBAAyB;EACzB,YAAY;EACZ,sBAAsB;EACtB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,WAAW;EACX,+CAA+C;AACjD;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,sBAAsB;EACtB,sBAAsB;EACtB,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,eAAe;AACjB;AACA;EACE,WAAW;EACX,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;AAChB",sourcesContent:[`.escher-container .default-tooltip {
  box-sizing: border-box;
  min-width: 300px;
  min-height: 100px;
  border-radius: 2px;
  border: 1px solid #b58787;
  padding: 7px;
  background-color: #fff;
  text-align: left;
  font-size: 16px;
  font-family: sans-serif;
  color: #111;
  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);
}

.escher-container .default-tooltip .id{
  font-size: 18px;
  font-weight: bold;
}

.escher-container .default-tooltip button {
  border-radius: 3px;
  background-color: #eee;
  border: 1px solid #ddd;
  margin-top: 4px;
  font-size: 16px;
  padding: 3px 6px;
}

.escher-container .default-tooltip .top-right {
  position: absolute;
  top: 4px;
  right: 4px;
}

.escher-container .default-tooltip .top-right * {
  float: right;
  text-align: right;
}

.escher-container .default-tooltip .top-right a {
  font-size: 11px;
  color: #999;
  cursor: pointer;
}
.escher-container .default-tooltip .top-right a:hover {
  color: #444;
  text-decoration: underline;
}

.escher-container .default-tooltip .type-label {
  font-size: 15px;
  color: #d27066;
  background-color: #ffeded;
  border-radius: 2px;
  margin: 0 0 0 10px;
  padding: 0 5px;
}
`],sourceRoot:""}]);const pe=U},248:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .menu-bar {
  box-sizing: border-box;
  list-style-type: none;
  padding: 0;
  padding-right: 20px;
  position: relative;
  margin: 5px 0px;
  background-color: white;
  border: 1px solid #ddd;
  display: inline-flex;
  box-sizing: border-box;
  width: 100%;
  justify-content: space-between;
}

.escher-container .dropdown {
  position: relative;
  float: left;
  box-sizing: border-box;
  font-size: 12px;
  border-radius: 3px;

  /* these sometimes get overridden */
  margin: 0 !important;
  font-weight: normal !important;

  text-align: center;
  vertical-align: middle;
  -ms-touch-action: none;
  touch-action: none;
  cursor: pointer;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .dropdownButton {
  color: #d9230f!important;
  border: 1px solid transparent;
  padding: 6px 9px;
}

.escher-container .helpButton {
  color: #d9230f!important;
  padding: 0px 5px;
  background-color: #f5f5f5!important;
  border: 0!important;
  text-decoration: unset;
  height: fit-content;
  position: absolute;
  right: 0;
  font-size: 12px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {
  color: #91170a!important;
  text-decoration: underline;
}

.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {
  color: #91170a!important;
  text-decoration: underline;
}

.escher-container .menu-bar .icon-sort-down {
  position: absolute;
  font-size: 10px;
  margin-left: -5px;
}

@media (min-width: 550px) {
  .escher-container .menu-bar {
    padding-right: 25px;
  }

  .escher-container .dropdown {
    font-size: 18px;
  }

  .escher-container .dropdownButton {
    padding: 6px 10px;
    padding-right: 16px;
  }

  .escher-container .helpButton {
    font-size: 16px;
  }

  .escher-container .menu-bar .icon-sort-down {
    font-size: 14px;
  }
}

.escher-container .menu {
  box-sizing: border-box;
  font-weight: normal!important;
  word-spacing: 0;
  position: absolute;
  white-space: nowrap;
  top: 103%;
  left: -1%;
  z-index: 1000;
  display: block;
  float: none;
  min-width: 160px;
  padding: 5px 0;
  list-style: none;
  font-size: 13px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.175);
  background-clip: padding-box;
  border: 1px solid #ddd;
  background-color: rgba(255, 255, 255, 0.95);
  border-radius: 0;
  margin: 0;
  text-align: left;
}

.escher-container #rightMenu {
  left: auto;
  right: -2%;
}

.escher-container .menu li:hover {
  background-color: #d9230f;
  color: #FFFFFF;
}

.escher-container .menu li, .menu label {
  font-size: 15px;
  display: block;
  color: #444444;

  /* these sometimes get overridden */
  font-weight: normal !important;
  margin: 0 !important;
}

.escher-container .menu.ul.li {
  background-color: rgba(255, 255, 255, 0.95);
}

.escher-container .menuButton {
  box-sizing: border-box;
  width: 100%;
  padding: 5px 20px;
  margin: 0;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container label:focus, .menuButton:focus {
  background-color: #d9230f;
  color: #FFFFFF;
}

.escher-container .menuButton:hover {
  background-color: #d9230f;
  color: #FFFFFF;
}

.escher-container input[type="file"] {
  display: none;
}

.escher-container #disabled {
  color: #e0e0e0;
}

.escher-container #disabled:hover, #disabled:focus {
  background-color: rgba(255, 255, 255, 0.95);
  cursor: default;
}

.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 25px;
  vertical-align: middle;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 25px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 19px;
  width: 19px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #d9230f;
}

input:checked + .slider:before {
  transform: translateX(25px);
}

.switch-container {
  display: flex;
  align-items: center;
}

.switch-description {
  margin-right: 10px;
  font-size: 16px;
}

/* Tooltip styling */
.tooltip {
  position: relative;
  display: inline-block;
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: 120px;
  background-color: black;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px;
  position: absolute;
  z-index: 1;
  top: 125%; /* Position the tooltip below the switch */
  left: 50%;
  margin-left: -60px;
  opacity: 0;
  transition: opacity 0.3s;
}

.tooltip .tooltiptext::after {
  content: "";
  position: absolute;
  bottom: 100%; /* At the top of the tooltip */
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent black transparent;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

`,"",{version:3,sources:["webpack://./src/Dropdown.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,qBAAqB;EACrB,UAAU;EACV,mBAAmB;EACnB,kBAAkB;EAClB,eAAe;EACf,uBAAuB;EACvB,sBAAsB;EACtB,oBAAoB;EACpB,sBAAsB;EACtB,WAAW;EACX,8BAA8B;AAChC;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,sBAAsB;EACtB,eAAe;EACf,kBAAkB;;EAElB,mCAAmC;EACnC,oBAAoB;EACpB,8BAA8B;;EAE9B,kBAAkB;EAClB,sBAAsB;EACtB,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;EACf,2BAA2B;EAC3B,yBAAyB;EACzB,wBAAwB;EACxB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,wBAAwB;EACxB,6BAA6B;EAC7B,gBAAgB;AAClB;;AAEA;EACE,wBAAwB;EACxB,gBAAgB;EAChB,mCAAmC;EACnC,mBAAmB;EACnB,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,QAAQ;EACR,eAAe;EACf,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,wBAAwB;EACxB,0BAA0B;AAC5B;;AAEA;EACE,wBAAwB;EACxB,0BAA0B;AAC5B;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE;IACE,mBAAmB;EACrB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,iBAAiB;IACjB,mBAAmB;EACrB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;AACF;;AAEA;EACE,sBAAsB;EACtB,6BAA6B;EAC7B,eAAe;EACf,kBAAkB;EAClB,mBAAmB;EACnB,SAAS;EACT,SAAS;EACT,aAAa;EACb,cAAc;EACd,WAAW;EACX,gBAAgB;EAChB,cAAc;EACd,gBAAgB;EAChB,eAAe;EACf,wCAAwC;EACxC,4BAA4B;EAC5B,sBAAsB;EACtB,2CAA2C;EAC3C,gBAAgB;EAChB,SAAS;EACT,gBAAgB;AAClB;;AAEA;EACE,UAAU;EACV,UAAU;AACZ;;AAEA;EACE,yBAAyB;EACzB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,cAAc;EACd,cAAc;;EAEd,mCAAmC;EACnC,8BAA8B;EAC9B,oBAAoB;AACtB;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,iBAAiB;EACjB,SAAS;EACT,eAAe;EACf,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,yBAAyB;EACzB,cAAc;AAChB;;AAEA;EACE,yBAAyB;EACzB,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,2CAA2C;EAC3C,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,sBAAsB;AACxB;;AAEA;EACE,UAAU;EACV,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,sBAAsB;EACtB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,WAAW;EACX,SAAS;EACT,WAAW;EACX,uBAAuB;EACvB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,eAAe;AACjB;;AAEA,oBAAoB;AACpB;EACE,kBAAkB;EAClB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,uBAAuB;EACvB,WAAW;EACX,kBAAkB;EAClB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,UAAU;EACV,SAAS,EAAE,0CAA0C;EACrD,SAAS;EACT,kBAAkB;EAClB,UAAU;EACV,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,YAAY,EAAE,8BAA8B;EAC5C,SAAS;EACT,iBAAiB;EACjB,iBAAiB;EACjB,mBAAmB;EACnB,uDAAuD;AACzD;;AAEA;EACE,mBAAmB;EACnB,UAAU;AACZ",sourcesContent:[`.escher-container .menu-bar {
  box-sizing: border-box;
  list-style-type: none;
  padding: 0;
  padding-right: 20px;
  position: relative;
  margin: 5px 0px;
  background-color: white;
  border: 1px solid #ddd;
  display: inline-flex;
  box-sizing: border-box;
  width: 100%;
  justify-content: space-between;
}

.escher-container .dropdown {
  position: relative;
  float: left;
  box-sizing: border-box;
  font-size: 12px;
  border-radius: 3px;

  /* these sometimes get overridden */
  margin: 0 !important;
  font-weight: normal !important;

  text-align: center;
  vertical-align: middle;
  -ms-touch-action: none;
  touch-action: none;
  cursor: pointer;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .dropdownButton {
  color: #d9230f!important;
  border: 1px solid transparent;
  padding: 6px 9px;
}

.escher-container .helpButton {
  color: #d9230f!important;
  padding: 0px 5px;
  background-color: #f5f5f5!important;
  border: 0!important;
  text-decoration: unset;
  height: fit-content;
  position: absolute;
  right: 0;
  font-size: 12px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {
  color: #91170a!important;
  text-decoration: underline;
}

.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {
  color: #91170a!important;
  text-decoration: underline;
}

.escher-container .menu-bar .icon-sort-down {
  position: absolute;
  font-size: 10px;
  margin-left: -5px;
}

@media (min-width: 550px) {
  .escher-container .menu-bar {
    padding-right: 25px;
  }

  .escher-container .dropdown {
    font-size: 18px;
  }

  .escher-container .dropdownButton {
    padding: 6px 10px;
    padding-right: 16px;
  }

  .escher-container .helpButton {
    font-size: 16px;
  }

  .escher-container .menu-bar .icon-sort-down {
    font-size: 14px;
  }
}

.escher-container .menu {
  box-sizing: border-box;
  font-weight: normal!important;
  word-spacing: 0;
  position: absolute;
  white-space: nowrap;
  top: 103%;
  left: -1%;
  z-index: 1000;
  display: block;
  float: none;
  min-width: 160px;
  padding: 5px 0;
  list-style: none;
  font-size: 13px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.175);
  background-clip: padding-box;
  border: 1px solid #ddd;
  background-color: rgba(255, 255, 255, 0.95);
  border-radius: 0;
  margin: 0;
  text-align: left;
}

.escher-container #rightMenu {
  left: auto;
  right: -2%;
}

.escher-container .menu li:hover {
  background-color: #d9230f;
  color: #FFFFFF;
}

.escher-container .menu li, .menu label {
  font-size: 15px;
  display: block;
  color: #444444;

  /* these sometimes get overridden */
  font-weight: normal !important;
  margin: 0 !important;
}

.escher-container .menu.ul.li {
  background-color: rgba(255, 255, 255, 0.95);
}

.escher-container .menuButton {
  box-sizing: border-box;
  width: 100%;
  padding: 5px 20px;
  margin: 0;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container label:focus, .menuButton:focus {
  background-color: #d9230f;
  color: #FFFFFF;
}

.escher-container .menuButton:hover {
  background-color: #d9230f;
  color: #FFFFFF;
}

.escher-container input[type="file"] {
  display: none;
}

.escher-container #disabled {
  color: #e0e0e0;
}

.escher-container #disabled:hover, #disabled:focus {
  background-color: rgba(255, 255, 255, 0.95);
  cursor: default;
}

.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 25px;
  vertical-align: middle;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 25px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 19px;
  width: 19px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #d9230f;
}

input:checked + .slider:before {
  transform: translateX(25px);
}

.switch-container {
  display: flex;
  align-items: center;
}

.switch-description {
  margin-right: 10px;
  font-size: 16px;
}

/* Tooltip styling */
.tooltip {
  position: relative;
  display: inline-block;
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: 120px;
  background-color: black;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px;
  position: absolute;
  z-index: 1;
  top: 125%; /* Position the tooltip below the switch */
  left: 50%;
  margin-left: -60px;
  opacity: 0;
  transition: opacity 0.3s;
}

.tooltip .tooltiptext::after {
  content: "";
  position: absolute;
  bottom: 100%; /* At the top of the tooltip */
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent black transparent;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

`],sourceRoot:""}]);const pe=U},965:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .picker {
  top: 35px;
  margin-left: -7px;
  position: absolute;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .pickerBox {
  position: absolute;
  cursor: pointer;
  background: rgba(0, 0, 0, 0.375);
  width: 14px;
  height: 35px;
  top: -35px
}

.escher-container .scaleTrack .rightOptions {
  position: absolute;
  left: -76px;
}

.escher-container .pickerOptions {
  box-shadow: 0 2px 14px #c5c5c5;
  margin-top: 1px;
  display: inline-flex;
  flex-direction: column;
  width: 90px;
}

.escher-container .pickerOptions * {
  font-size: 12px;
}

.escher-container .pickerOptions .option {
  padding: 3px 0px;
}

.escher-container .pickerOptions .typePicker {
  width: 20px;
  position: absolute;
  left: 70px;
  top: 1px;
  right: 0px;
  height: 14px;
  background-color: rgb(232, 232, 232);
}

.escher-container .pickerOptions .colorOptions {
  display: inline-flex;
}

.escher-container .colorOptions .colorText {
  padding: 3px 0px;
  width: 100%;
}

.escher-container .colorOptions .colorWheel {
  padding: 0px;
  position: absolute;
  right: 0;
  height: 24px;
  width: 21px;
  border: 1px solid black;
}

.escher-container .picker .trashDiv {
  position: absolute;
  top: -56px;
  font-size: 17px;
}

.escher-container .picker .trashDiv * {
  font-size: 17px;
  cursor: pointer;
}

.escher-container .picker .icon-trash-empty {
  margin: -5px;
}

.escher-container .scaleEditor :disabled {
  background: #f1ecfa;
}

.escher-container .scaleEditor input[type=color]:disabled {
  margin-top: 1px;
}
`,"",{version:3,sources:["webpack://./src/Picker.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,iBAAiB;EACjB,kBAAkB;EAClB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,gCAAgC;EAChC,WAAW;EACX,YAAY;EACZ;AACF;;AAEA;EACE,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,8BAA8B;EAC9B,eAAe;EACf,oBAAoB;EACpB,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,UAAU;EACV,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,oCAAoC;AACtC;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,WAAW;EACX,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;AACjB",sourcesContent:[`.escher-container .picker {
  top: 35px;
  margin-left: -7px;
  position: absolute;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .pickerBox {
  position: absolute;
  cursor: pointer;
  background: rgba(0, 0, 0, 0.375);
  width: 14px;
  height: 35px;
  top: -35px
}

.escher-container .scaleTrack .rightOptions {
  position: absolute;
  left: -76px;
}

.escher-container .pickerOptions {
  box-shadow: 0 2px 14px #c5c5c5;
  margin-top: 1px;
  display: inline-flex;
  flex-direction: column;
  width: 90px;
}

.escher-container .pickerOptions * {
  font-size: 12px;
}

.escher-container .pickerOptions .option {
  padding: 3px 0px;
}

.escher-container .pickerOptions .typePicker {
  width: 20px;
  position: absolute;
  left: 70px;
  top: 1px;
  right: 0px;
  height: 14px;
  background-color: rgb(232, 232, 232);
}

.escher-container .pickerOptions .colorOptions {
  display: inline-flex;
}

.escher-container .colorOptions .colorText {
  padding: 3px 0px;
  width: 100%;
}

.escher-container .colorOptions .colorWheel {
  padding: 0px;
  position: absolute;
  right: 0;
  height: 24px;
  width: 21px;
  border: 1px solid black;
}

.escher-container .picker .trashDiv {
  position: absolute;
  top: -56px;
  font-size: 17px;
}

.escher-container .picker .trashDiv * {
  font-size: 17px;
  cursor: pointer;
}

.escher-container .picker .icon-trash-empty {
  margin: -5px;
}

.escher-container .scaleEditor :disabled {
  background: #f1ecfa;
}

.escher-container .scaleEditor input[type=color]:disabled {
  margin-top: 1px;
}
`],sourceRoot:""}]);const pe=U},342:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .scaleEditor * {
  font-size: 12px;
  color: #777;
  box-sizing: border-box;
}

.escher-container .scaleEditor {
  position: relative;
  display: flex;
  justify-content: center;
  flex-direction: column;
}

.escher-container .scaleTrack {
  position: relative;
  display: flex;
  height: 30px;
  margin-bottom: 9px;
  margin-top: 30px;
  margin-left: 55px;
  font-size: 15px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .scaleTrack.disabled {
  background: #f1ecfa;
  color: #b19ec0;
  padding: 4px 0;
  justify-content: center;
}

.escher-container .gradient {
  position: absolute;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.escher-container .scaleLabels {
  display: inline-flex;
  flex-direction: column;
  font-size: 12px;
}

.escher-container .scaleLabels label {
  padding: 4px 0;
}

.escher-container .noDataStyle {
  position: relative;
  margin-top: 20px;
}

.escher-container .noDataStyle .styleHeader {
  font-size: 12px;
  font-weight: bold;
}

.escher-container .noDataStyle label {
  margin-right: 5px;
}

.escher-container .noDataStyle input[type=text] {
  margin-right: 10px;
  padding: 3px 0px;
  width: 86px;
}

.escher-container .noDataStyle input[type=color] {
  position: absolute;
  padding: 0px;
  border: 1px solid black;
  left: 103px;
  height: 24px;
  width: 21px;
}

.escher-container .scaleEditor .icon-plus {
  cursor: pointer;
  position: absolute;
  font-size: 14px;
  right: 19px;
}
`,"",{version:3,sources:["webpack://./src/ScaleSlider.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,WAAW;EACX,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,eAAe;EACf,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,cAAc;EACd,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,oBAAoB;EACpB,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,eAAe;EACf,WAAW;AACb",sourcesContent:[`.escher-container .scaleEditor * {
  font-size: 12px;
  color: #777;
  box-sizing: border-box;
}

.escher-container .scaleEditor {
  position: relative;
  display: flex;
  justify-content: center;
  flex-direction: column;
}

.escher-container .scaleTrack {
  position: relative;
  display: flex;
  height: 30px;
  margin-bottom: 9px;
  margin-top: 30px;
  margin-left: 55px;
  font-size: 15px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.escher-container .scaleTrack.disabled {
  background: #f1ecfa;
  color: #b19ec0;
  padding: 4px 0;
  justify-content: center;
}

.escher-container .gradient {
  position: absolute;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.escher-container .scaleLabels {
  display: inline-flex;
  flex-direction: column;
  font-size: 12px;
}

.escher-container .scaleLabels label {
  padding: 4px 0;
}

.escher-container .noDataStyle {
  position: relative;
  margin-top: 20px;
}

.escher-container .noDataStyle .styleHeader {
  font-size: 12px;
  font-weight: bold;
}

.escher-container .noDataStyle label {
  margin-right: 5px;
}

.escher-container .noDataStyle input[type=text] {
  margin-right: 10px;
  padding: 3px 0px;
  width: 86px;
}

.escher-container .noDataStyle input[type=color] {
  position: absolute;
  padding: 0px;
  border: 1px solid black;
  left: 103px;
  height: 24px;
  width: 21px;
}

.escher-container .scaleEditor .icon-plus {
  cursor: pointer;
  position: absolute;
  font-size: 14px;
  right: 19px;
}
`],sourceRoot:""}]);const pe=U},436:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .search-container {
  display: flex;
  flex-direction: row;
  background-color: rgba(255, 255, 255, 0.95);
  padding: 3px;
  border: 1px solid #DDD;
}

.escher-container .search-container .search-field {
  flex: 0 0 auto;
  color: #777;
  border: 1px solid #DDD;
  width: 114px;
  height: 29px;
  border-radius: 3px;
  font-size: 13px;
}

.escher-container .search-container .search-counter {
  flex: 1;
  color: #777;
  font-size: 13px;
  padding: 9px 0 0 6px;
}

.escher-container .search-container .search-bar-button {
  flex: 0 0 auto;
  border-radius: 4px;
  text-align: center;
  vertical-align: middle;
  font-size: 14px;
  font-weight: 400;
  height: 29px;
  width: 34px;
  margin: 3px;
}

.escher-container .search-container .search-bar-button.left {
  border-top-right-radius: 0px;
  border-bottom-right-radius: 0px;
  margin-right: 0;
}

.escher-container .search-container .search-bar-button.right {
  border-top-left-radius: 0px;
  border-bottom-left-radius: 0px;
  margin-left: 0;
}

.escher-container .search-container .search-bar-button:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}
`,"",{version:3,sources:["webpack://./src/SearchBar.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,2CAA2C;EAC3C,YAAY;EACZ,sBAAsB;AACxB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,sBAAsB;EACtB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,OAAO;EACP,WAAW;EACX,eAAe;EACf,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf,gBAAgB;EAChB,YAAY;EACZ,WAAW;EACX,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,+BAA+B;EAC/B,eAAe;AACjB;;AAEA;EACE,2BAA2B;EAC3B,8BAA8B;EAC9B,cAAc;AAChB;;AAEA;EACE,+DAA+D;AACjE",sourcesContent:[`.escher-container .search-container {
  display: flex;
  flex-direction: row;
  background-color: rgba(255, 255, 255, 0.95);
  padding: 3px;
  border: 1px solid #DDD;
}

.escher-container .search-container .search-field {
  flex: 0 0 auto;
  color: #777;
  border: 1px solid #DDD;
  width: 114px;
  height: 29px;
  border-radius: 3px;
  font-size: 13px;
}

.escher-container .search-container .search-counter {
  flex: 1;
  color: #777;
  font-size: 13px;
  padding: 9px 0 0 6px;
}

.escher-container .search-container .search-bar-button {
  flex: 0 0 auto;
  border-radius: 4px;
  text-align: center;
  vertical-align: middle;
  font-size: 14px;
  font-weight: 400;
  height: 29px;
  width: 34px;
  margin: 3px;
}

.escher-container .search-container .search-bar-button.left {
  border-top-right-radius: 0px;
  border-bottom-right-radius: 0px;
  margin-right: 0;
}

.escher-container .search-container .search-bar-button.right {
  border-top-left-radius: 0px;
  border-bottom-left-radius: 0px;
  margin-left: 0;
}

.escher-container .search-container .search-bar-button:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}
`],sourceRoot:""}]);const pe=U},605:(z,R,S)=>{S.d(R,{A:()=>pe});var K=S(354),T=S.n(K),V=S(314),j=S.n(V),U=j()(T());U.push([z.id,`.escher-container .settingsBackground {
  box-sizing: border-box;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9;
  background: rgba(0,0,0,.4);
  padding: 5% 0 80px;
  text-align: center;
}

.escher-container .scale-editor .domain-input {
  color: #333;
}

.escher-container .settingsBoxContainer button {
  position: absolute;
  top: 5px;
  right: 20px;
  z-index: 10;
  text-align: center;
  vertical-align: middle;
  font-weight: normal!important;
  width: 34px;
  height: 30px;
  margin: 0;
  padding: unset;
  font-size: 14px!important;
  border-radius: 3px;
  -ms-touch-action: none;
  touch-action: none;
}

.escher-container .settingsBoxContainer button:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}

.escher-container .settingsBoxContainer .discardChanges {
  right: 60px;
}

.escher-container .settingsBoxContainer {
  color: rgb(119, 119, 119);
  display: inline-block;
  position: relative;
  width: 90%;
  max-width: 520px;
  height: 100%;
  z-index: 10;
}

.escher-container .settingsBox {
  font-size: 13px;
  box-sizing: border-box;
  display: inline-block;
  max-height: 100%;
  width: 100%;
  overflow-y: scroll;
  overflow-x: hidden;
  background: rgba(255, 255, 255, 0.953);
  padding: 8px;
  margin: 0;
  border: 1px solid #ddd;
  text-align: left;
}

.escher-container .settingsBox * {
  box-sizing: border-box;
}

.escher-container .settingsBox .title {
  font-size: 17px;
  font-weight: 700;
  color: #777777;
}

.escher-container .settingsBox .subheading {
  font-size: 13px;
  font-weight: 700;
  margin-top: 15px;
  color: #777777;
}

.escher-container .settingsBox table {
  border-collapse: collapse;
}

.escher-container .settingsBox label {
  display: inline;
}

.escher-container .settingsBox .radioSelection {
  cursor: default;
}

.escher-container .radioSelection td {
  padding: 3px 5px;
}

.escher-container .radioSelection input[type=radio] {
  margin: 0;
  margin-top: 4px;
  margin-right: 4px;
}

.escher-container .radioSelection .optionLabel {
  width: 88px;
}

.escher-container .radioSelection .optionLabelWide {
  width: 192px;
}

.escher-container .radioSelection .optionGroup {
  margin-right: 10px
}

.escher-container .settingsBox .singleLine {
  display: flex;
}

.escher-container .settingsContainer label {
  display: block;
  margin-bottom: 0;
}

.escher-container .settingsBoxContainer input[type=checkbox] {
  margin: 0;
  margin-top: 4px;
  margin-right: 4px;
}

.escher-container .settingsTip {
  font-size: 13px;
}

.escher-container .settingsBoxContainer hr {
  margin: 18px 0;
  border: 0;
  border-top: 1px solid #dddddd;
}

.escher-container .scaleTitle {
  margin-top: 15px;
  display: flex;
  justify-content: space-between;
}

.escher-container .selector {
  position: relative;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  padding-top: 2px;
}

.escher-container .selectorTitle {
  background-color: white;
  border: 1px solid #a9a9a9;
  padding-left: 4px;
  cursor: default;
  width: 162px;
}

.escher-container .selectorTitle:hover:not(.disabled) {
  border-color: black;
}

.escher-container .selectorTitle.disabled {
  background-color: #f1ecfa;
}

.escher-container .selectorMenu {
  position: absolute;
  z-index: 4;
  background-color: white;
  border: 1px solid #a9a9a9;
  min-width: 162px;
}

.escher-container .scaleSelection {
  cursor: default;
  padding: 0 6px;
  display: flex;
  justify-content: space-between;
}

.escher-container .scaleSelection:hover {
  background-color: dodgerblue;
  color: white;
}

.escher-container .settingsBox .icon-sort-down {
  position: absolute;
  top: 0;
}

.escher-container .settingsBox .tooltipOption {
  margin-left: 10px;
}
`,"",{version:3,sources:["webpack://./src/SettingsMenu.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,UAAU;EACV,0BAA0B;EAC1B,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,sBAAsB;EACtB,6BAA6B;EAC7B,WAAW;EACX,YAAY;EACZ,SAAS;EACT,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,+DAA+D;AACjE;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,yBAAyB;EACzB,qBAAqB;EACrB,kBAAkB;EAClB,UAAU;EACV,gBAAgB;EAChB,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,qBAAqB;EACrB,gBAAgB;EAChB,WAAW;EACX,kBAAkB;EAClB,kBAAkB;EAClB,sCAAsC;EACtC,YAAY;EACZ,SAAS;EACT,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,YAAY;AACd;;AAEA;EACE;AACF;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,SAAS;EACT,6BAA6B;AAC/B;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,8BAA8B;AAChC;;AAEA;EACE,kBAAkB;EAClB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;EACvB,yBAAyB;EACzB,iBAAiB;EACjB,eAAe;EACf,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,uBAAuB;EACvB,yBAAyB;EACzB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,cAAc;EACd,aAAa;EACb,8BAA8B;AAChC;;AAEA;EACE,4BAA4B;EAC5B,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,MAAM;AACR;;AAEA;EACE,iBAAiB;AACnB",sourcesContent:[`.escher-container .settingsBackground {
  box-sizing: border-box;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9;
  background: rgba(0,0,0,.4);
  padding: 5% 0 80px;
  text-align: center;
}

.escher-container .scale-editor .domain-input {
  color: #333;
}

.escher-container .settingsBoxContainer button {
  position: absolute;
  top: 5px;
  right: 20px;
  z-index: 10;
  text-align: center;
  vertical-align: middle;
  font-weight: normal!important;
  width: 34px;
  height: 30px;
  margin: 0;
  padding: unset;
  font-size: 14px!important;
  border-radius: 3px;
  -ms-touch-action: none;
  touch-action: none;
}

.escher-container .settingsBoxContainer button:active {
  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);
}

.escher-container .settingsBoxContainer .discardChanges {
  right: 60px;
}

.escher-container .settingsBoxContainer {
  color: rgb(119, 119, 119);
  display: inline-block;
  position: relative;
  width: 90%;
  max-width: 520px;
  height: 100%;
  z-index: 10;
}

.escher-container .settingsBox {
  font-size: 13px;
  box-sizing: border-box;
  display: inline-block;
  max-height: 100%;
  width: 100%;
  overflow-y: scroll;
  overflow-x: hidden;
  background: rgba(255, 255, 255, 0.953);
  padding: 8px;
  margin: 0;
  border: 1px solid #ddd;
  text-align: left;
}

.escher-container .settingsBox * {
  box-sizing: border-box;
}

.escher-container .settingsBox .title {
  font-size: 17px;
  font-weight: 700;
  color: #777777;
}

.escher-container .settingsBox .subheading {
  font-size: 13px;
  font-weight: 700;
  margin-top: 15px;
  color: #777777;
}

.escher-container .settingsBox table {
  border-collapse: collapse;
}

.escher-container .settingsBox label {
  display: inline;
}

.escher-container .settingsBox .radioSelection {
  cursor: default;
}

.escher-container .radioSelection td {
  padding: 3px 5px;
}

.escher-container .radioSelection input[type=radio] {
  margin: 0;
  margin-top: 4px;
  margin-right: 4px;
}

.escher-container .radioSelection .optionLabel {
  width: 88px;
}

.escher-container .radioSelection .optionLabelWide {
  width: 192px;
}

.escher-container .radioSelection .optionGroup {
  margin-right: 10px
}

.escher-container .settingsBox .singleLine {
  display: flex;
}

.escher-container .settingsContainer label {
  display: block;
  margin-bottom: 0;
}

.escher-container .settingsBoxContainer input[type=checkbox] {
  margin: 0;
  margin-top: 4px;
  margin-right: 4px;
}

.escher-container .settingsTip {
  font-size: 13px;
}

.escher-container .settingsBoxContainer hr {
  margin: 18px 0;
  border: 0;
  border-top: 1px solid #dddddd;
}

.escher-container .scaleTitle {
  margin-top: 15px;
  display: flex;
  justify-content: space-between;
}

.escher-container .selector {
  position: relative;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  padding-top: 2px;
}

.escher-container .selectorTitle {
  background-color: white;
  border: 1px solid #a9a9a9;
  padding-left: 4px;
  cursor: default;
  width: 162px;
}

.escher-container .selectorTitle:hover:not(.disabled) {
  border-color: black;
}

.escher-container .selectorTitle.disabled {
  background-color: #f1ecfa;
}

.escher-container .selectorMenu {
  position: absolute;
  z-index: 4;
  background-color: white;
  border: 1px solid #a9a9a9;
  min-width: 162px;
}

.escher-container .scaleSelection {
  cursor: default;
  padding: 0 6px;
  display: flex;
  justify-content: space-between;
}

.escher-container .scaleSelection:hover {
  background-color: dodgerblue;
  color: white;
}

.escher-container .settingsBox .icon-sort-down {
  position: absolute;
  top: 0;
}

.escher-container .settingsBox .tooltipOption {
  margin-left: 10px;
}
`],sourceRoot:""}]);const pe=U},314:z=>{z.exports=function(R){var S=[];return S.toString=function(){return this.map(function(T){var V="",j=typeof T[5]<"u";return T[4]&&(V+="@supports (".concat(T[4],") {")),T[2]&&(V+="@media ".concat(T[2]," {")),j&&(V+="@layer".concat(T[5].length>0?" ".concat(T[5]):""," {")),V+=R(T),j&&(V+="}"),T[2]&&(V+="}"),T[4]&&(V+="}"),V}).join("")},S.i=function(T,V,j,U,pe){typeof T=="string"&&(T=[[null,T,void 0]]);var X={};if(j)for(var Z=0;Z<this.length;Z++){var H=this[Z][0];H!=null&&(X[H]=!0)}for(var ie=0;ie<T.length;ie++){var oe=[].concat(T[ie]);j&&X[oe[0]]||(typeof pe<"u"&&(typeof oe[5]>"u"||(oe[1]="@layer".concat(oe[5].length>0?" ".concat(oe[5]):""," {").concat(oe[1],"}")),oe[5]=pe),V&&(oe[2]&&(oe[1]="@media ".concat(oe[2]," {").concat(oe[1],"}")),oe[2]=V),U&&(oe[4]?(oe[1]="@supports (".concat(oe[4],") {").concat(oe[1],"}"),oe[4]=U):oe[4]="".concat(U)),S.push(oe))}},S}},417:z=>{z.exports=function(R,S){return S||(S={}),R&&(R=String(R.__esModule?R.default:R),/^['"].*['"]$/.test(R)&&(R=R.slice(1,-1)),S.hash&&(R+=S.hash),/["'() \t\n]|(%20)/.test(R)||S.needQuotes?'"'.concat(R.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):R)}},354:z=>{z.exports=function(R){var S=R[1],K=R[3];if(!K)return S;if(typeof btoa=="function"){var T=btoa(unescape(encodeURIComponent(JSON.stringify(K)))),V="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(T),j="/*# ".concat(V," */");return[S].concat([j]).join(`
`)}return[S].join(`
`)}},280:(z,R,S)=>{S.d(R,{Pq:()=>Pe,Qq:()=>nt});var K="$";function T(){}T.prototype=V.prototype={constructor:T,has:function(te){return K+te in this},get:function(te){return this[K+te]},set:function(te,we){return this[K+te]=we,this},remove:function(te){var we=K+te;return we in this&&delete this[we]},clear:function(){for(var te in this)te[0]===K&&delete this[te]},keys:function(){var te=[];for(var we in this)we[0]===K&&te.push(we.slice(1));return te},values:function(){var te=[];for(var we in this)we[0]===K&&te.push(this[we]);return te},entries:function(){var te=[];for(var we in this)we[0]===K&&te.push({key:we.slice(1),value:this[we]});return te},size:function(){var te=0;for(var we in this)we[0]===K&&++te;return te},empty:function(){for(var te in this)if(te[0]===K)return!1;return!0},each:function(te){for(var we in this)we[0]===K&&te(this[we],we.slice(1),this)}};function V(te,we){var me=new T;if(te instanceof T)te.each(function(Ye,He){me.set(He,Ye)});else if(Array.isArray(te)){var xe=-1,Be=te.length,rt;if(we==null)for(;++xe<Be;)me.set(xe,te[xe]);else for(;++xe<Be;)me.set(we(rt=te[xe],xe,te),rt)}else if(te)for(var ye in te)me.set(ye,te[ye]);return me}const j=V;function U(){}var pe=j.prototype;U.prototype={constructor:U,has:pe.has,add:function(te){return te+="",this[K+te]=te,this},remove:pe.remove,clear:pe.clear,values:pe.keys,size:pe.size,empty:pe.empty,each:pe.each};var X={value:function(){}};function Z(){for(var te=0,we=arguments.length,me={},xe;te<we;++te){if(!(xe=arguments[te]+"")||xe in me||/[\s.]/.test(xe))throw new Error("illegal type: "+xe);me[xe]=[]}return new H(me)}function H(te){this._=te}function ie(te,we){return te.trim().split(/^|\s+/).map(function(me){var xe="",Be=me.indexOf(".");if(Be>=0&&(xe=me.slice(Be+1),me=me.slice(0,Be)),me&&!we.hasOwnProperty(me))throw new Error("unknown type: "+me);return{type:me,name:xe}})}H.prototype=Z.prototype={constructor:H,on:function(te,we){var me=this._,xe=ie(te+"",me),Be,rt=-1,ye=xe.length;if(arguments.length<2){for(;++rt<ye;)if((Be=(te=xe[rt]).type)&&(Be=oe(me[Be],te.name)))return Be;return}if(we!=null&&typeof we!="function")throw new Error("invalid callback: "+we);for(;++rt<ye;)if(Be=(te=xe[rt]).type)me[Be]=ue(me[Be],te.name,we);else if(we==null)for(Be in me)me[Be]=ue(me[Be],te.name,null);return this},copy:function(){var te={},we=this._;for(var me in we)te[me]=we[me].slice();return new H(te)},call:function(te,we){if((Be=arguments.length-2)>0)for(var me=new Array(Be),xe=0,Be,rt;xe<Be;++xe)me[xe]=arguments[xe+2];if(!this._.hasOwnProperty(te))throw new Error("unknown type: "+te);for(rt=this._[te],xe=0,Be=rt.length;xe<Be;++xe)rt[xe].value.apply(we,me)},apply:function(te,we,me){if(!this._.hasOwnProperty(te))throw new Error("unknown type: "+te);for(var xe=this._[te],Be=0,rt=xe.length;Be<rt;++Be)xe[Be].value.apply(we,me)}};function oe(te,we){for(var me=0,xe=te.length,Be;me<xe;++me)if((Be=te[me]).name===we)return Be.value}function ue(te,we,me){for(var xe=0,Be=te.length;xe<Be;++xe)if(te[xe].name===we){te[xe]=X,te=te.slice(0,xe).concat(te.slice(xe+1));break}return me!=null&&te.push({name:we,value:me}),te}const se=Z;function ce(te,we){var me,xe=se("beforesend","progress","load","error"),Be,rt=j(),ye=new XMLHttpRequest,Ye=null,He=null,Ue,Qe,De=0;typeof XDomainRequest<"u"&&!("withCredentials"in ye)&&/^(http(s)?:)?\/\//.test(te)&&(ye=new XDomainRequest),"onload"in ye?ye.onload=ye.onerror=ye.ontimeout=Oe:ye.onreadystatechange=function(Ce){ye.readyState>3&&Oe(Ce)};function Oe(Ce){var Ie=ye.status,We;if(!Ie&&be(ye)||Ie>=200&&Ie<300||Ie===304){if(Ue)try{We=Ue.call(me,ye)}catch(yt){xe.call("error",me,yt);return}else We=ye;xe.call("load",me,We)}else xe.call("error",me,Ce)}return ye.onprogress=function(Ce){xe.call("progress",me,Ce)},me={header:function(Ce,Ie){return Ce=(Ce+"").toLowerCase(),arguments.length<2?rt.get(Ce):(Ie==null?rt.remove(Ce):rt.set(Ce,Ie+""),me)},mimeType:function(Ce){return arguments.length?(Be=Ce==null?null:Ce+"",me):Be},responseType:function(Ce){return arguments.length?(Qe=Ce,me):Qe},timeout:function(Ce){return arguments.length?(De=+Ce,me):De},user:function(Ce){return arguments.length<1?Ye:(Ye=Ce==null?null:Ce+"",me)},password:function(Ce){return arguments.length<1?He:(He=Ce==null?null:Ce+"",me)},response:function(Ce){return Ue=Ce,me},get:function(Ce,Ie){return me.send("GET",Ce,Ie)},post:function(Ce,Ie){return me.send("POST",Ce,Ie)},send:function(Ce,Ie,We){return ye.open(Ce,te,!0,Ye,He),Be!=null&&!rt.has("accept")&&rt.set("accept",Be+",*/*"),ye.setRequestHeader&&rt.each(function(yt,Jt){ye.setRequestHeader(Jt,yt)}),Be!=null&&ye.overrideMimeType&&ye.overrideMimeType(Be),Qe!=null&&(ye.responseType=Qe),De>0&&(ye.timeout=De),We==null&&typeof Ie=="function"&&(We=Ie,Ie=null),We!=null&&We.length===1&&(We=ae(We)),We!=null&&me.on("error",We).on("load",function(yt){We(null,yt)}),xe.call("beforesend",me,ye),ye.send(Ie??null),me},abort:function(){return ye.abort(),me},on:function(){var Ce=xe.on.apply(xe,arguments);return Ce===xe?me:Ce}},me}function ae(te){return function(we,me){te(we==null?me:null)}}function be(te){var we=te.responseType;return we&&we!=="text"?te.response:te.responseText}function Se(te,we){return function(me,xe){var Be=ce(me).mimeType(te).response(we);if(xe!=null){if(typeof xe!="function")throw new Error("invalid callback: "+xe);return Be.get(xe)}return Be}}const Pe=Se("application/json",function(te){return JSON.parse(te.responseText)}),nt=Se("text/plain",function(te){return te.responseText});var Je={},le={},ne=34,Ee=10,ee=13;function he(te){return new Function("d","return {"+te.map(function(we,me){return JSON.stringify(we)+": d["+me+'] || ""'}).join(",")+"}")}function Te(te,we){var me=he(te);return function(xe,Be){return we(me(xe),Be,te)}}function Ne(te){var we=Object.create(null),me=[];return te.forEach(function(xe){for(var Be in xe)Be in we||me.push(we[Be]=Be)}),me}function Le(te,we){var me=te+"",xe=me.length;return xe<we?new Array(we-xe+1).join(0)+me:me}function vt(te){return te<0?"-"+Le(-te,6):te>9999?"+"+Le(te,6):Le(te,4)}function wn(te){var we=te.getUTCHours(),me=te.getUTCMinutes(),xe=te.getUTCSeconds(),Be=te.getUTCMilliseconds();return isNaN(te)?"Invalid Date":vt(te.getUTCFullYear())+"-"+Le(te.getUTCMonth()+1,2)+"-"+Le(te.getUTCDate(),2)+(Be?"T"+Le(we,2)+":"+Le(me,2)+":"+Le(xe,2)+"."+Le(Be,3)+"Z":xe?"T"+Le(we,2)+":"+Le(me,2)+":"+Le(xe,2)+"Z":me||we?"T"+Le(we,2)+":"+Le(me,2)+"Z":"")}function sr(te){var we=new RegExp('["'+te+`
\r]`),me=te.charCodeAt(0);function xe(De,Oe){var Ce,Ie,We=Be(De,function(yt,Jt){if(Ce)return Ce(yt,Jt-1);Ie=yt,Ce=Oe?Te(yt,Oe):he(yt)});return We.columns=Ie||[],We}function Be(De,Oe){var Ce=[],Ie=De.length,We=0,yt=0,Jt,si=Ie<=0,Nn=!1;De.charCodeAt(Ie-1)===Ee&&--Ie,De.charCodeAt(Ie-1)===ee&&--Ie;function Mo(){if(si)return le;if(Nn)return Nn=!1,Je;var Ln,li=We,Br;if(De.charCodeAt(li)===ne){for(;We++<Ie&&De.charCodeAt(We)!==ne||De.charCodeAt(++We)===ne;);return(Ln=We)>=Ie?si=!0:(Br=De.charCodeAt(We++))===Ee?Nn=!0:Br===ee&&(Nn=!0,De.charCodeAt(We)===Ee&&++We),De.slice(li+1,Ln-1).replace(/""/g,'"')}for(;We<Ie;){if((Br=De.charCodeAt(Ln=We++))===Ee)Nn=!0;else if(Br===ee)Nn=!0,De.charCodeAt(We)===Ee&&++We;else if(Br!==me)continue;return De.slice(li,Ln)}return si=!0,De.slice(li,Ie)}for(;(Jt=Mo())!==le;){for(var Mr=[];Jt!==Je&&Jt!==le;)Mr.push(Jt),Jt=Mo();Oe&&(Mr=Oe(Mr,yt++))==null||Ce.push(Mr)}return Ce}function rt(De,Oe){return De.map(function(Ce){return Oe.map(function(Ie){return Qe(Ce[Ie])}).join(te)})}function ye(De,Oe){return Oe==null&&(Oe=Ne(De)),[Oe.map(Qe).join(te)].concat(rt(De,Oe)).join(`
`)}function Ye(De,Oe){return Oe==null&&(Oe=Ne(De)),rt(De,Oe).join(`
`)}function He(De){return De.map(Ue).join(`
`)}function Ue(De){return De.map(Qe).join(te)}function Qe(De){return De==null?"":De instanceof Date?wn(De):we.test(De+="")?'"'+De.replace(/"/g,'""')+'"':De}return{parse:xe,parseRows:Be,format:ye,formatBody:Ye,formatRows:He,formatRow:Ue,formatValue:Qe}}sr(","),sr("	")},213:function(z,R,S){var K,T,V;(function(j,U){T=[],K=U,V=typeof K=="function"?K.apply(R,T):K,V!==void 0&&(z.exports=V)})(this,function(){function j(oe,ue){return typeof ue>"u"?ue={autoBom:!1}:typeof ue!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ue={autoBom:!ue}),ue.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(oe.type)?new Blob(["\uFEFF",oe],{type:oe.type}):oe}function U(oe,ue,se){var ce=new XMLHttpRequest;ce.open("GET",oe),ce.responseType="blob",ce.onload=function(){ie(ce.response,ue,se)},ce.onerror=function(){console.error("could not download file")},ce.send()}function pe(oe){var ue=new XMLHttpRequest;ue.open("HEAD",oe,!1);try{ue.send()}catch{}return 200<=ue.status&&299>=ue.status}function X(oe){try{oe.dispatchEvent(new MouseEvent("click"))}catch{var ue=document.createEvent("MouseEvents");ue.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),oe.dispatchEvent(ue)}}var Z=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof S.g=="object"&&S.g.global===S.g?S.g:void 0,H=Z.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ie=Z.saveAs||(typeof window!="object"||window!==Z?function(){}:"download"in HTMLAnchorElement.prototype&&!H?function(oe,ue,se){var ce=Z.URL||Z.webkitURL,ae=document.createElement("a");ue=ue||oe.name||"download",ae.download=ue,ae.rel="noopener",typeof oe=="string"?(ae.href=oe,ae.origin===location.origin?X(ae):pe(ae.href)?U(oe,ue,se):X(ae,ae.target="_blank")):(ae.href=ce.createObjectURL(oe),setTimeout(function(){ce.revokeObjectURL(ae.href)},4e4),setTimeout(function(){X(ae)},0))}:"msSaveOrOpenBlob"in navigator?function(oe,ue,se){if(ue=ue||oe.name||"download",typeof oe!="string")navigator.msSaveOrOpenBlob(j(oe,se),ue);else if(pe(oe))U(oe,ue,se);else{var ce=document.createElement("a");ce.href=oe,ce.target="_blank",setTimeout(function(){X(ce)})}}:function(oe,ue,se,ce){if(ce=ce||open("","_blank"),ce&&(ce.document.title=ce.document.body.innerText="downloading..."),typeof oe=="string")return U(oe,ue,se);var ae=oe.type==="application/octet-stream",be=/constructor/i.test(Z.HTMLElement)||Z.safari,Se=/CriOS\/[\d]+/.test(navigator.userAgent);if((Se||ae&&be||H)&&typeof FileReader<"u"){var Pe=new FileReader;Pe.onloadend=function(){var le=Pe.result;le=Se?le:le.replace(/^data:[^;]*;/,"data:attachment/file;"),ce?ce.location.href=le:location=le,ce=null},Pe.readAsDataURL(oe)}else{var nt=Z.URL||Z.webkitURL,Je=nt.createObjectURL(oe);ce?ce.location=Je:location.href=Je,ce=null,setTimeout(function(){nt.revokeObjectURL(Je)},4e4)}});Z.saveAs=ie.saveAs=ie,z.exports=ie})},529:z=>{(function(R){z.exports=R()})(function(){return function R(S,K,T){function V(U,pe){if(!K[U]){if(!S[U]){var X=void 0;if(!pe&&X)return UN(U);var Z=new Error("Cannot find module '"+U+"'");throw Z.code="MODULE_NOT_FOUND",Z}var H=K[U]={exports:{}};S[U][0].call(H.exports,function(ie){var oe=S[U][1][ie];return V(oe||ie)},H,H.exports,R,S,K,T)}return K[U].exports}for(var j=0;j<T.length;j++)V(T[j]);return V}({1:[function(R,S,K){function T(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}S.exports=T,T.EventEmitter=T,T.prototype._events=void 0,T.prototype._maxListeners=void 0,T.defaultMaxListeners=10,T.prototype.setMaxListeners=function(X){if(!j(X)||X<0||isNaN(X))throw TypeError("n must be a positive number");return this._maxListeners=X,this},T.prototype.emit=function(X){var Z,H,ie,oe,ue,se;if(this._events||(this._events={}),X==="error"&&(!this._events.error||U(this._events.error)&&!this._events.error.length)){if(Z=arguments[1],Z instanceof Error)throw Z;var ce=new Error('Uncaught, unspecified "error" event. ('+Z+")");throw ce.context=Z,ce}if(H=this._events[X],pe(H))return!1;if(V(H))switch(arguments.length){case 1:H.call(this);break;case 2:H.call(this,arguments[1]);break;case 3:H.call(this,arguments[1],arguments[2]);break;default:oe=Array.prototype.slice.call(arguments,1),H.apply(this,oe)}else if(U(H))for(oe=Array.prototype.slice.call(arguments,1),se=H.slice(),ie=se.length,ue=0;ue<ie;ue++)se[ue].apply(this,oe);return!0},T.prototype.addListener=function(X,Z){var H;if(!V(Z))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",X,V(Z.listener)?Z.listener:Z),this._events[X]?U(this._events[X])?this._events[X].push(Z):this._events[X]=[this._events[X],Z]:this._events[X]=Z,U(this._events[X])&&!this._events[X].warned&&(pe(this._maxListeners)?H=T.defaultMaxListeners:H=this._maxListeners,H&&H>0&&this._events[X].length>H&&(this._events[X].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[X].length),typeof console.trace=="function"&&console.trace())),this},T.prototype.on=T.prototype.addListener,T.prototype.once=function(X,Z){if(!V(Z))throw TypeError("listener must be a function");var H=!1;function ie(){this.removeListener(X,ie),H||(H=!0,Z.apply(this,arguments))}return ie.listener=Z,this.on(X,ie),this},T.prototype.removeListener=function(X,Z){var H,ie,oe,ue;if(!V(Z))throw TypeError("listener must be a function");if(!this._events||!this._events[X])return this;if(H=this._events[X],oe=H.length,ie=-1,H===Z||V(H.listener)&&H.listener===Z)delete this._events[X],this._events.removeListener&&this.emit("removeListener",X,Z);else if(U(H)){for(ue=oe;ue-- >0;)if(H[ue]===Z||H[ue].listener&&H[ue].listener===Z){ie=ue;break}if(ie<0)return this;H.length===1?(H.length=0,delete this._events[X]):H.splice(ie,1),this._events.removeListener&&this.emit("removeListener",X,Z)}return this},T.prototype.removeAllListeners=function(X){var Z,H;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[X]&&delete this._events[X],this;if(arguments.length===0){for(Z in this._events)Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events={},this}if(H=this._events[X],V(H))this.removeListener(X,H);else if(H)for(;H.length;)this.removeListener(X,H[H.length-1]);return delete this._events[X],this},T.prototype.listeners=function(X){var Z;return!this._events||!this._events[X]?Z=[]:V(this._events[X])?Z=[this._events[X]]:Z=this._events[X].slice(),Z},T.prototype.listenerCount=function(X){if(this._events){var Z=this._events[X];if(V(Z))return 1;if(Z)return Z.length}return 0},T.listenerCount=function(X,Z){return X.listenerCount(Z)};function V(X){return typeof X=="function"}function j(X){return typeof X=="number"}function U(X){return typeof X=="object"&&X!==null}function pe(X){return X===void 0}},{}],2:[function(R,S,K){var T,V,j,U,pe;pe=navigator.userAgent.toLowerCase(),U=navigator.platform.toLowerCase(),T=pe.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],j=T[1]==="ie"&&document.documentMode,V={name:T[1]==="version"?T[3]:T[1],version:j||parseFloat(T[1]==="opera"&&T[4]?T[4]:T[2]),platform:{name:pe.match(/ip(?:ad|od|hone)/)?"ios":(pe.match(/(?:webos|android)/)||U.match(/mac|win|linux/)||["other"])[0]}},V[V.name]=!0,V[V.name+parseInt(V.version,10)]=!0,V.platform[V.platform.name]=!0,S.exports=V},{}],3:[function(R,S,K){var T,V,j,U=function(H,ie){for(var oe in ie)pe.call(ie,oe)&&(H[oe]=ie[oe]);function ue(){this.constructor=H}return ue.prototype=ie.prototype,H.prototype=new ue,H.__super__=ie.prototype,H},pe={}.hasOwnProperty,X=[].indexOf||function(H){for(var ie=0,oe=this.length;ie<oe;ie++)if(ie in this&&this[ie]===H)return ie;return-1},Z=[].slice;T=R("events").EventEmitter,j=R("./browser.coffee"),V=function(H){var ie,oe;U(ue,H),ie={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},oe={delay:500,copy:!1};function ue(se){var ce,ae,be;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(se);for(ae in ie)be=ie[ae],(ce=this.options)[ae]==null&&(ce[ae]=be)}return ue.prototype.setOption=function(se,ce){if(this.options[se]=ce,this._canvas!=null&&(se==="width"||se==="height"))return this._canvas[se]=ce},ue.prototype.setOptions=function(se){var ce,ae,be;ae=[];for(ce in se)pe.call(se,ce)&&(be=se[ce],ae.push(this.setOption(ce,be)));return ae},ue.prototype.addFrame=function(se,ce){var ae,be;ce==null&&(ce={}),ae={},ae.transparent=this.options.transparent;for(be in oe)ae[be]=ce[be]||oe[be];if(this.options.width==null&&this.setOption("width",se.width),this.options.height==null&&this.setOption("height",se.height),typeof ImageData<"u"&&ImageData!==null&&se instanceof ImageData)ae.data=se.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&se instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&se instanceof WebGLRenderingContext)ce.copy?ae.data=this.getContextData(se):ae.context=se;else if(se.childNodes!=null)ce.copy?ae.data=this.getImageData(se):ae.image=se;else throw new Error("Invalid image");return this.frames.push(ae)},ue.prototype.render=function(){var se,ce,ae;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var be,Se,Pe;for(Pe=[],be=0,Se=this.frames.length;0<=Se?be<Se:be>Se;0<=Se?++be:--be)Pe.push(null);return Pe}).call(this),ce=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(se=0,ae=ce;0<=ae?se<ae:se>ae;0<=ae?++se:--se)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},ue.prototype.abort=function(){for(var se;se=this.activeWorkers.shift(),se!=null;)this.log("killing active worker"),se.terminate();return this.running=!1,this.emit("abort")},ue.prototype.spawnWorkers=function(){var se,ce,ae;return se=Math.min(this.options.workers,this.frames.length),(function(){ae=[];for(var be=ce=this.freeWorkers.length;ce<=se?be<se:be>se;ce<=se?be++:be--)ae.push(be);return ae}).apply(this).forEach(function(be){return function(Se){var Pe;return be.log("spawning worker "+Se),Pe=new Worker(be.options.workerScript),Pe.onmessage=function(nt){return be.activeWorkers.splice(be.activeWorkers.indexOf(Pe),1),be.freeWorkers.push(Pe),be.frameFinished(nt.data)},be.freeWorkers.push(Pe)}}(this)),se},ue.prototype.frameFinished=function(se){var ce,ae;if(this.log("frame "+se.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[se.index]=se,this.options.globalPalette===!0&&(this.options.globalPalette=se.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(ce=1,ae=this.freeWorkers.length;1<=ae?ce<ae:ce>ae;1<=ae?++ce:--ce)this.renderNextFrame();return X.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},ue.prototype.finishRendering=function(){var se,ce,ae,be,Se,Pe,nt,Je,le,ne,Ee,ee,he,Te,Ne,Le;for(Je=0,Te=this.imageParts,Se=0,le=Te.length;Se<le;Se++)ce=Te[Se],Je+=(ce.data.length-1)*ce.pageSize+ce.cursor;for(Je+=ce.pageSize-ce.cursor,this.log("rendering finished - filesize "+Math.round(Je/1e3)+"kb"),se=new Uint8Array(Je),ee=0,Ne=this.imageParts,Pe=0,ne=Ne.length;Pe<ne;Pe++)for(ce=Ne[Pe],Le=ce.data,ae=nt=0,Ee=Le.length;nt<Ee;ae=++nt)he=Le[ae],se.set(he,ee),ae===ce.data.length-1?ee+=ce.cursor:ee+=ce.pageSize;return be=new Blob([se],{type:"image/gif"}),this.emit("finished",be,se)},ue.prototype.renderNextFrame=function(){var se,ce,ae;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return se=this.frames[this.nextFrame++],ae=this.freeWorkers.shift(),ce=this.getTask(se),this.log("starting frame "+(ce.index+1)+" of "+this.frames.length),this.activeWorkers.push(ae),ae.postMessage(ce)},ue.prototype.getContextData=function(se){return se.getImageData(0,0,this.options.width,this.options.height).data},ue.prototype.getImageData=function(se){var ce;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),ce=this._canvas.getContext("2d"),ce.setFill=this.options.background,ce.fillRect(0,0,this.options.width,this.options.height),ce.drawImage(se,0,0),this.getContextData(ce)},ue.prototype.getTask=function(se){var ce,ae;if(ce=this.frames.indexOf(se),ae={index:ce,last:ce===this.frames.length-1,delay:se.delay,transparent:se.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:j.name==="chrome"},se.data!=null)ae.data=se.data;else if(se.context!=null)ae.data=this.getContextData(se.context);else if(se.image!=null)ae.data=this.getImageData(se.image);else throw new Error("Invalid frame");return ae},ue.prototype.log=function(){var se;if(se=1<=arguments.length?Z.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,se)},ue}(T),S.exports=V},{"./browser.coffee":2,events:1}]},{},[3])(3)})},894:(z,R)=>{Object.defineProperty(R,"__esModule",{value:!0});function S(le){return typeof le=="object"&&!("toString"in le)?Object.prototype.toString.call(le).slice(8,-1):le}var K=typeof process=="object"&&!0;function T(le,ne){if(!le)throw K?new Error("Invariant failed"):new Error(ne())}R.invariant=T;var V=Object.prototype.hasOwnProperty,j=Array.prototype.splice,U=Object.prototype.toString;function pe(le){return U.call(le).slice(8,-1)}var X=Object.assign||function(le,ne){return Z(ne).forEach(function(Ee){V.call(ne,Ee)&&(le[Ee]=ne[Ee])}),le},Z=typeof Object.getOwnPropertySymbols=="function"?function(le){return Object.keys(le).concat(Object.getOwnPropertySymbols(le))}:function(le){return Object.keys(le)};function H(le){return Array.isArray(le)?X(le.constructor(le.length),le):pe(le)==="Map"?new Map(le):pe(le)==="Set"?new Set(le):le&&typeof le=="object"?X(Object.create(Object.getPrototypeOf(le)),le):le}var ie=function(){function le(){this.commands=X({},oe),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(ne,Ee){return ne===Ee},this.update.newContext=function(){return new le().update}}return Object.defineProperty(le.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(ne){this.update.isEquals=ne},enumerable:!0,configurable:!0}),le.prototype.extend=function(ne,Ee){this.commands[ne]=Ee},le.prototype.update=function(ne,Ee){var ee=this,he=typeof Ee=="function"?{$apply:Ee}:Ee;Array.isArray(ne)&&Array.isArray(he)||T(!Array.isArray(he),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),T(typeof he=="object"&&he!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(ee.commands).join(", ")+".")});var Te=ne;return Z(he).forEach(function(Ne){if(V.call(ee.commands,Ne)){var Le=ne===Te;Te=ee.commands[Ne](he[Ne],Te,he,ne),Le&&ee.isEquals(Te,ne)&&(Te=ne)}else{var vt=pe(ne)==="Map"?ee.update(ne.get(Ne),he[Ne]):ee.update(ne[Ne],he[Ne]),wn=pe(Te)==="Map"?Te.get(Ne):Te[Ne];(!ee.isEquals(vt,wn)||typeof vt>"u"&&!V.call(ne,Ne))&&(Te===ne&&(Te=H(ne)),pe(Te)==="Map"?Te.set(Ne,vt):Te[Ne]=vt)}}),Te},le}();R.Context=ie;var oe={$push:function(le,ne,Ee){return se(ne,Ee,"$push"),le.length?ne.concat(le):ne},$unshift:function(le,ne,Ee){return se(ne,Ee,"$unshift"),le.length?le.concat(ne):ne},$splice:function(le,ne,Ee,ee){return ae(ne,Ee),le.forEach(function(he){be(he),ne===ee&&he.length&&(ne=H(ee)),j.apply(ne,he)}),ne},$set:function(le,ne,Ee){return Pe(Ee),le},$toggle:function(le,ne){ce(le,"$toggle");var Ee=le.length?H(ne):ne;return le.forEach(function(ee){Ee[ee]=!ne[ee]}),Ee},$unset:function(le,ne,Ee,ee){return ce(le,"$unset"),le.forEach(function(he){Object.hasOwnProperty.call(ne,he)&&(ne===ee&&(ne=H(ee)),delete ne[he])}),ne},$add:function(le,ne,Ee,ee){return Je(ne,"$add"),ce(le,"$add"),pe(ne)==="Map"?le.forEach(function(he){var Te=he[0],Ne=he[1];ne===ee&&ne.get(Te)!==Ne&&(ne=H(ee)),ne.set(Te,Ne)}):le.forEach(function(he){ne===ee&&!ne.has(he)&&(ne=H(ee)),ne.add(he)}),ne},$remove:function(le,ne,Ee,ee){return Je(ne,"$remove"),ce(le,"$remove"),le.forEach(function(he){ne===ee&&ne.has(he)&&(ne=H(ee)),ne.delete(he)}),ne},$merge:function(le,ne,Ee,ee){return nt(ne,le),Z(le).forEach(function(he){le[he]!==ne[he]&&(ne===ee&&(ne=H(ee)),ne[he]=le[he])}),ne},$apply:function(le,ne){return Se(le),le(ne)}},ue=new ie;R.isEquals=ue.update.isEquals,R.extend=ue.extend,R.default=ue.update,R.default.default=z.exports=X(R.default,R);function se(le,ne,Ee){T(Array.isArray(le),function(){return"update(): expected target of "+S(Ee)+" to be an array; got "+S(le)+"."}),ce(ne[Ee],Ee)}function ce(le,ne){T(Array.isArray(le),function(){return"update(): expected spec of "+S(ne)+" to be an array; got "+S(le)+". Did you forget to wrap your parameter in an array?"})}function ae(le,ne){T(Array.isArray(le),function(){return"Expected $splice target to be an array; got "+S(le)}),be(ne.$splice)}function be(le){T(Array.isArray(le),function(){return"update(): expected spec of $splice to be an array of arrays; got "+S(le)+". Did you forget to wrap your parameters in an array?"})}function Se(le){T(typeof le=="function",function(){return"update(): expected spec of $apply to be a function; got "+S(le)+"."})}function Pe(le){T(Object.keys(le).length===1,function(){return"Cannot have more than one key in an object with $set"})}function nt(le,ne){T(ne&&typeof ne=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+S(ne)}),T(le&&typeof le=="object",function(){return"update(): $merge expects a target of type 'object'; got "+S(le)})}function Je(le,ne){var Ee=pe(le);T(Ee==="Map"||Ee==="Set",function(){return"update(): "+S(ne)+" expects a target of type Set or Map; got "+S(Ee)})}},411:(z,R,S)=>{var K;(function(T,V,j){if(!T)return;for(var U={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},pe={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},X={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},Z={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},H,ie=1;ie<20;++ie)U[111+ie]="f"+ie;for(ie=0;ie<=9;++ie)U[ie+96]=ie.toString();function oe(ee,he,Te){if(ee.addEventListener){ee.addEventListener(he,Te,!1);return}ee.attachEvent("on"+he,Te)}function ue(ee){if(ee.type=="keypress"){var he=String.fromCharCode(ee.which);return ee.shiftKey||(he=he.toLowerCase()),he}return U[ee.which]?U[ee.which]:pe[ee.which]?pe[ee.which]:String.fromCharCode(ee.which).toLowerCase()}function se(ee,he){return ee.sort().join(",")===he.sort().join(",")}function ce(ee){var he=[];return ee.shiftKey&&he.push("shift"),ee.altKey&&he.push("alt"),ee.ctrlKey&&he.push("ctrl"),ee.metaKey&&he.push("meta"),he}function ae(ee){if(ee.preventDefault){ee.preventDefault();return}ee.returnValue=!1}function be(ee){if(ee.stopPropagation){ee.stopPropagation();return}ee.cancelBubble=!0}function Se(ee){return ee=="shift"||ee=="ctrl"||ee=="alt"||ee=="meta"}function Pe(){if(!H){H={};for(var ee in U)ee>95&&ee<112||U.hasOwnProperty(ee)&&(H[U[ee]]=ee)}return H}function nt(ee,he,Te){return Te||(Te=Pe()[ee]?"keydown":"keypress"),Te=="keypress"&&he.length&&(Te="keydown"),Te}function Je(ee){return ee==="+"?["+"]:(ee=ee.replace(/\+{2}/g,"+plus"),ee.split("+"))}function le(ee,he){var Te,Ne,Le,vt=[];for(Te=Je(ee),Le=0;Le<Te.length;++Le)Ne=Te[Le],Z[Ne]&&(Ne=Z[Ne]),he&&he!="keypress"&&X[Ne]&&(Ne=X[Ne],vt.push("shift")),Se(Ne)&&vt.push(Ne);return he=nt(Ne,vt,he),{key:Ne,modifiers:vt,action:he}}function ne(ee,he){return ee===null||ee===V?!1:ee===he?!0:ne(ee.parentNode,he)}function Ee(ee){var he=this;if(ee=ee||V,!(he instanceof Ee))return new Ee(ee);he.target=ee,he._callbacks={},he._directMap={};var Te={},Ne,Le=!1,vt=!1,wn=!1;function sr(ye){ye=ye||{};var Ye=!1,He;for(He in Te){if(ye[He]){Ye=!0;continue}Te[He]=0}Ye||(wn=!1)}function te(ye,Ye,He,Ue,Qe,De){var Oe,Ce,Ie=[],We=He.type;if(!he._callbacks[ye])return[];for(We=="keyup"&&Se(ye)&&(Ye=[ye]),Oe=0;Oe<he._callbacks[ye].length;++Oe)if(Ce=he._callbacks[ye][Oe],!(!Ue&&Ce.seq&&Te[Ce.seq]!=Ce.level)&&We==Ce.action&&(We=="keypress"&&!He.metaKey&&!He.ctrlKey||se(Ye,Ce.modifiers))){var yt=!Ue&&Ce.combo==Qe,Jt=Ue&&Ce.seq==Ue&&Ce.level==De;(yt||Jt)&&he._callbacks[ye].splice(Oe,1),Ie.push(Ce)}return Ie}function we(ye,Ye,He,Ue){he.stopCallback(Ye,Ye.target||Ye.srcElement,He,Ue)||ye(Ye,He)===!1&&(ae(Ye),be(Ye))}he._handleKey=function(ye,Ye,He){var Ue=te(ye,Ye,He),Qe,De={},Oe=0,Ce=!1;for(Qe=0;Qe<Ue.length;++Qe)Ue[Qe].seq&&(Oe=Math.max(Oe,Ue[Qe].level));for(Qe=0;Qe<Ue.length;++Qe){if(Ue[Qe].seq){if(Ue[Qe].level!=Oe)continue;Ce=!0,De[Ue[Qe].seq]=1,we(Ue[Qe].callback,He,Ue[Qe].combo,Ue[Qe].seq);continue}Ce||we(Ue[Qe].callback,He,Ue[Qe].combo)}var Ie=He.type=="keypress"&&vt;He.type==wn&&!Se(ye)&&!Ie&&sr(De),vt=Ce&&He.type=="keydown"};function me(ye){typeof ye.which!="number"&&(ye.which=ye.keyCode);var Ye=ue(ye);if(Ye){if(ye.type=="keyup"&&Le===Ye){Le=!1;return}he.handleKey(Ye,ce(ye),ye)}}function xe(){clearTimeout(Ne),Ne=setTimeout(sr,1e3)}function Be(ye,Ye,He,Ue){Te[ye]=0;function Qe(We){return function(){wn=We,++Te[ye],xe()}}function De(We){we(He,We,ye),Ue!=="keyup"&&(Le=ue(We)),setTimeout(sr,10)}for(var Oe=0;Oe<Ye.length;++Oe){var Ce=Oe+1===Ye.length,Ie=Ce?De:Qe(Ue||le(Ye[Oe+1]).action);rt(Ye[Oe],Ie,Ue,ye,Oe)}}function rt(ye,Ye,He,Ue,Qe){he._directMap[ye+":"+He]=Ye,ye=ye.replace(/\s+/g," ");var De=ye.split(" "),Oe;if(De.length>1){Be(ye,De,Ye,He);return}Oe=le(ye,He),he._callbacks[Oe.key]=he._callbacks[Oe.key]||[],te(Oe.key,Oe.modifiers,{type:Oe.action},Ue,ye,Qe),he._callbacks[Oe.key][Ue?"unshift":"push"]({callback:Ye,modifiers:Oe.modifiers,action:Oe.action,seq:Ue,level:Qe,combo:ye})}he._bindMultiple=function(ye,Ye,He){for(var Ue=0;Ue<ye.length;++Ue)rt(ye[Ue],Ye,He)},oe(ee,"keypress",me),oe(ee,"keydown",me),oe(ee,"keyup",me)}Ee.prototype.bind=function(ee,he,Te){var Ne=this;return ee=ee instanceof Array?ee:[ee],Ne._bindMultiple.call(Ne,ee,he,Te),Ne},Ee.prototype.unbind=function(ee,he){var Te=this;return Te.bind.call(Te,ee,function(){},he)},Ee.prototype.trigger=function(ee,he){var Te=this;return Te._directMap[ee+":"+he]&&Te._directMap[ee+":"+he]({},ee),Te},Ee.prototype.reset=function(){var ee=this;return ee._callbacks={},ee._directMap={},ee},Ee.prototype.stopCallback=function(ee,he){var Te=this;if((" "+he.className+" ").indexOf(" mousetrap ")>-1||ne(he,Te.target))return!1;if("composedPath"in ee&&typeof ee.composedPath=="function"){var Ne=ee.composedPath()[0];Ne!==ee.target&&(he=Ne)}return he.tagName=="INPUT"||he.tagName=="SELECT"||he.tagName=="TEXTAREA"||he.isContentEditable},Ee.prototype.handleKey=function(){var ee=this;return ee._handleKey.apply(ee,arguments)},Ee.addKeycodes=function(ee){for(var he in ee)ee.hasOwnProperty(he)&&(U[he]=ee[he]);H=null},Ee.init=function(){var ee=Ee(V);for(var he in ee)he.charAt(0)!=="_"&&(Ee[he]=function(Te){return function(){return ee[Te].apply(ee,arguments)}}(he))},Ee.init(),T.Mousetrap=Ee,z.exports&&(z.exports=Ee),K=(function(){return Ee}).call(R,S,R,z),K!==j&&(z.exports=K)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},72:z=>{var R=[];function S(V){for(var j=-1,U=0;U<R.length;U++)if(R[U].identifier===V){j=U;break}return j}function K(V,j){for(var U={},pe=[],X=0;X<V.length;X++){var Z=V[X],H=j.base?Z[0]+j.base:Z[0],ie=U[H]||0,oe="".concat(H," ").concat(ie);U[H]=ie+1;var ue=S(oe),se={css:Z[1],media:Z[2],sourceMap:Z[3],supports:Z[4],layer:Z[5]};if(ue!==-1)R[ue].references++,R[ue].updater(se);else{var ce=T(se,j);j.byIndex=X,R.splice(X,0,{identifier:oe,updater:ce,references:1})}pe.push(oe)}return pe}function T(V,j){var U=j.domAPI(j);U.update(V);var pe=function(Z){if(Z){if(Z.css===V.css&&Z.media===V.media&&Z.sourceMap===V.sourceMap&&Z.supports===V.supports&&Z.layer===V.layer)return;U.update(V=Z)}else U.remove()};return pe}z.exports=function(V,j){j=j||{},V=V||[];var U=K(V,j);return function(X){X=X||[];for(var Z=0;Z<U.length;Z++){var H=U[Z],ie=S(H);R[ie].references--}for(var oe=K(X,j),ue=0;ue<U.length;ue++){var se=U[ue],ce=S(se);R[ce].references===0&&(R[ce].updater(),R.splice(ce,1))}U=oe}}},659:z=>{var R={};function S(T){if(typeof R[T]>"u"){var V=document.querySelector(T);if(window.HTMLIFrameElement&&V instanceof window.HTMLIFrameElement)try{V=V.contentDocument.head}catch{V=null}R[T]=V}return R[T]}function K(T,V){var j=S(T);if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");j.appendChild(V)}z.exports=K},540:z=>{function R(S){var K=document.createElement("style");return S.setAttributes(K,S.attributes),S.insert(K,S.options),K}z.exports=R},56:(z,R,S)=>{function K(T){var V=S.nc;V&&T.setAttribute("nonce",V)}z.exports=K},825:z=>{function R(T,V,j){var U="";j.supports&&(U+="@supports (".concat(j.supports,") {")),j.media&&(U+="@media ".concat(j.media," {"));var pe=typeof j.layer<"u";pe&&(U+="@layer".concat(j.layer.length>0?" ".concat(j.layer):""," {")),U+=j.css,pe&&(U+="}"),j.media&&(U+="}"),j.supports&&(U+="}");var X=j.sourceMap;X&&typeof btoa<"u"&&(U+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(X))))," */")),V.styleTagTransform(U,T,V.options)}function S(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)}function K(T){if(typeof document>"u")return{update:function(){},remove:function(){}};var V=T.insertStyleElement(T);return{update:function(U){R(V,T,U)},remove:function(){S(V)}}}z.exports=K},113:z=>{function R(S,K){if(K.styleSheet)K.styleSheet.cssText=S;else{for(;K.firstChild;)K.removeChild(K.firstChild);K.appendChild(document.createTextNode(S))}}z.exports=R},587:z=>{function R(V){var j="    ";if(isNaN(parseInt(V)))j=V;else switch(V){case 1:j=" ";break;case 2:j="  ";break;case 3:j="   ";break;case 4:j="    ";break;case 5:j="     ";break;case 6:j="      ";break;case 7:j="       ";break;case 8:j="        ";break;case 9:j="         ";break;case 10:j="          ";break;case 11:j="           ";break;case 12:j="            ";break}for(var U=[`
`],pe=0;pe<100;pe++)U.push(U[pe]+j);return U}function S(){this.step="    ",this.shift=R(this.step)}S.prototype.xml=function(V,j){var U=V.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),pe=U.length,X=!1,Z=0,H="",ie=0,oe=j?R(j):this.shift;for(ie=0;ie<pe;ie++)U[ie].search(/<!/)>-1?(H+=oe[Z]+U[ie],X=!0,(U[ie].search(/-->/)>-1||U[ie].search(/\]>/)>-1||U[ie].search(/!DOCTYPE/)>-1)&&(X=!1)):U[ie].search(/-->/)>-1||U[ie].search(/\]>/)>-1?(H+=U[ie],X=!1):/^<\w/.exec(U[ie-1])&&/^<\/\w/.exec(U[ie])&&/^<[\w:\-\.\,]+/.exec(U[ie-1])==/^<\/[\w:\-\.\,]+/.exec(U[ie])[0].replace("/","")?(H+=U[ie],X||Z--):U[ie].search(/<\w/)>-1&&U[ie].search(/<\//)==-1&&U[ie].search(/\/>/)==-1?H=X?H+=U[ie]:H+=oe[Z++]+U[ie]:U[ie].search(/<\w/)>-1&&U[ie].search(/<\//)>-1?H=X?H+=U[ie]:H+=oe[Z]+U[ie]:U[ie].search(/<\//)>-1?H=X?H+=U[ie]:H+=oe[--Z]+U[ie]:U[ie].search(/\/>/)>-1?H=X?H+=U[ie]:H+=oe[Z]+U[ie]:U[ie].search(/<\?/)>-1||U[ie].search(/xmlns\:/)>-1||U[ie].search(/xmlns\=/)>-1?H+=oe[Z]+U[ie]:H+=U[ie];return H[0]==`
`?H.slice(1):H},S.prototype.json=function(V,U){var U=U||this.step;return typeof JSON>"u"?V:typeof V=="string"?JSON.stringify(JSON.parse(V),null,U):typeof V=="object"?JSON.stringify(V,null,U):V},S.prototype.css=function(V,j){var U=V.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),pe=U.length,X=0,Z="",H=0,ie=j?R(j):this.shift;for(H=0;H<pe;H++)/\{/.exec(U[H])?Z+=ie[X++]+U[H]:/\}/.exec(U[H])?Z+=ie[--X]+U[H]:(/\*\\/.exec(U[H]),Z+=ie[X]+U[H]);return Z.replace(/^\n{1,}/,"")};function K(V,j){return j-(V.replace(/\(/g,"").length-V.replace(/\)/g,"").length)}function T(V,j){return V.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+j+j+"AND ").replace(/ BETWEEN /ig,"~::~"+j+"BETWEEN ").replace(/ CASE /ig,"~::~"+j+"CASE ").replace(/ ELSE /ig,"~::~"+j+"ELSE ").replace(/ END /ig,"~::~"+j+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+j+"ON ").replace(/ OR /ig,"~::~"+j+j+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+j+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+j).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+j+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}S.prototype.sql=function(V,j){var U=V.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),pe=U.length,X=[],Z=0,H=this.step,ie=0,oe="",ue=0,se=j?R(j):this.shift;for(ue=0;ue<pe;ue++)ue%2?X=X.concat(U[ue]):X=X.concat(T(U[ue],H));for(pe=X.length,ue=0;ue<pe;ue++)ie=K(X[ue],ie),/\s{0,}\s{0,}SELECT\s{0,}/.exec(X[ue])&&(X[ue]=X[ue].replace(/\,/g,`,
`+H+H)),/\s{0,}\s{0,}SET\s{0,}/.exec(X[ue])&&(X[ue]=X[ue].replace(/\,/g,`,
`+H+H)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(X[ue])?(Z++,oe+=se[Z]+X[ue]):/\'/.exec(X[ue])?(ie<1&&Z&&Z--,oe+=X[ue]):(oe+=se[Z]+X[ue],ie<1&&Z&&Z--);return oe=oe.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),oe},S.prototype.xmlmin=function(V,j){var U=j?V:V.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return U.replace(/>\s{0,}</g,"><")},S.prototype.jsonmin=function(V){return typeof JSON>"u"?V:JSON.stringify(JSON.parse(V),null,0)},S.prototype.cssmin=function(V,j){var U=j?V:V.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return U.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},S.prototype.sqlmin=function(V){return V.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},z.exports=new S},37:(z,R,S)=>{z.exports=S.p+"539f46271b6b7d9eced4.eot?9130959"},792:z=>{z.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxtZXRhZGF0YT5Db3B5cmlnaHQgKEMpIDIwMTcgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbTwvbWV0YWRhdGE+CjxkZWZzPgo8Zm9udCBpZD0iZm9udGVsbG8iIGhvcml6LWFkdi14PSIxMDAwIiA+Cjxmb250LWZhY2UgZm9udC1mYW1pbHk9ImZvbnRlbGxvIiBmb250LXdlaWdodD0iNDAwIiBmb250LXN0cmV0Y2g9Im5vcm1hbCIgdW5pdHMtcGVyLWVtPSIxMDAwIiBhc2NlbnQ9Ijg1MCIgZGVzY2VudD0iLTE1MCIgLz4KPG1pc3NpbmctZ2x5cGggaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJvayIgdW5pY29kZT0iJiN4ZTgwMDsiIGQ9Ik05MzMgNTM0cTAtMjItMTYtMzhsLTQwNC00MDQtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtNzYgNzYtMjAyIDIwMnEtMTUgMTYtMTUgMzh0MTUgMzhsNzYgNzZxMTYgMTYgMzggMTZ0MzgtMTZsMTY0LTE2NSAzNjYgMzY3cTE2IDE2IDM4IDE2dDM4LTE2bDc2LTc2cTE2LTE1IDE2LTM4eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2FuY2VsIiB1bmljb2RlPSImI3hlODAxOyIgZD0iTTcyNCAxMTJxMC0yMi0xNS0zOGwtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtMTY0IDE2NS0xNjQtMTY1cS0xNi0xNS0zOC0xNXQtMzggMTVsLTc2IDc2cS0xNiAxNi0xNiAzOHQxNiAzOGwxNjQgMTY0LTE2NCAxNjRxLTE2IDE2LTE2IDM4dDE2IDM4bDc2IDc2cTE2IDE2IDM4IDE2dDM4LTE2bDE2NC0xNjQgMTY0IDE2NHExNiAxNiAzOCAxNnQzOC0xNmw3Ni03NnExNS0xNSAxNS0zOHQtMTUtMzhsLTE2NC0xNjQgMTY0LTE2NHExNS0xNSAxNS0zOHoiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJwbHVzIiB1bmljb2RlPSImI3hlODAyOyIgZD0iTTc4NiA0Mzl2LTEwN3EwLTIyLTE2LTM4dC0zOC0xNWgtMjMydi0yMzNxMC0yMi0xNi0zN3QtMzgtMTZoLTEwN3EtMjIgMC0zOCAxNnQtMTUgMzd2MjMzaC0yMzJxLTIzIDAtMzggMTV0LTE2IDM4djEwN3EwIDIzIDE2IDM4dDM4IDE2aDIzMnYyMzJxMCAyMiAxNSAzOHQzOCAxNmgxMDdxMjMgMCAzOC0xNnQxNi0zOHYtMjMyaDIzMnEyMyAwIDM4LTE2dDE2LTM4eiIgaG9yaXotYWR2LXg9Ijc4NS43IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9ImRvd24tYmlnIiB1bmljb2RlPSImI3hlODAzOyIgZD0iTTg5OSAzODZxMC0zMC0yMS01MGwtMzYzLTM2NHEtMjItMjEtNTEtMjEtMjkgMC01MCAyMWwtMzYzIDM2NHEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWw0MSA0MXEyMiAyMSA1MSAyMSAyOSAwIDUwLTIxbDE2NC0xNjR2MzkzcTAgMjkgMjEgNTB0NTEgMjJoNzFxMjkgMCA1MC0yMnQyMS01MHYtMzkzbDE2NSAxNjRxMjAgMjEgNTAgMjEgMjkgMCA1MS0yMWw0MS00MXEyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNDsiIGQ9Ik04NTcgMzUwdi03MXEwLTMwLTE4LTUxdC00Ny0yMWgtMzkzbDE2NC0xNjRxMjEtMjAgMjEtNTB0LTIxLTUwbC00Mi00M3EtMjEtMjAtNTEtMjAtMjkgMC01MCAyMGwtMzY0IDM2NHEtMjAgMjEtMjAgNTAgMCAyOSAyMCA1MWwzNjQgMzYzcTIxIDIxIDUwIDIxIDI5IDAgNTEtMjFsNDItNDFxMjEtMjIgMjEtNTF0LTIxLTUxbC0xNjQtMTY0aDM5M3EyOSAwIDQ3LTIwdDE4LTUxeiIgaG9yaXotYWR2LXg9Ijg1Ny4xIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9InJpZ2h0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNTsiIGQ9Ik04MjEgMzE0cTAtMzAtMjAtNTBsLTM2My0zNjRxLTIyLTIwLTUxLTIwLTI5IDAtNTAgMjBsLTQyIDQycS0yMiAyMS0yMiA1MXQyMiA1MWwxNjMgMTYzaC0zOTNxLTI5IDAtNDcgMjF0LTE4IDUxdjcxcTAgMzAgMTggNTF0NDcgMjBoMzkzbC0xNjMgMTY1cS0yMiAyMC0yMiA1MHQyMiA1MGw0MiA0MnEyMSAyMSA1MCAyMSAyOSAwIDUxLTIxbDM2My0zNjNxMjAtMjAgMjAtNTF6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idXAtYmlnIiB1bmljb2RlPSImI3hlODA2OyIgZD0iTTg5OSAzMDhxMC0yOC0yMS01MGwtNDEtNDJxLTIyLTIxLTUxLTIxLTMwIDAtNTAgMjFsLTE2NSAxNjR2LTM5M3EwLTI5LTIwLTQ3dC01MS0xOWgtNzFxLTMwIDAtNTEgMTl0LTIxIDQ3djM5M2wtMTY0LTE2NHEtMjAtMjEtNTAtMjF0LTUwIDIxbC00MiA0MnEtMjEgMjEtMjEgNTAgMCAzMCAyMSA1MWwzNjMgMzYzcTIwIDIxIDUwIDIxIDMwIDAgNTEtMjFsMzYzLTM2M3EyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LW9wZW4iIHVuaWNvZGU9IiYjeGU4MDc7IiBkPSJNNjU0IDY4MmwtMjk3LTI5NiAyOTctMjk3cTEwLTEwIDEwLTI1dC0xMC0yNWwtOTMtOTNxLTExLTEwLTI1LTEwdC0yNSAxMGwtNDE0IDQxNXEtMTEgMTAtMTEgMjV0MTEgMjVsNDE0IDQxNHExMCAxMSAyNSAxMXQyNS0xMWw5My05M3ExMC0xMCAxMC0yNXQtMTAtMjV6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmlnaHQtb3BlbiIgdW5pY29kZT0iJiN4ZTgwODsiIGQ9Ik02MTggMzYxbC00MTQtNDE1cS0xMS0xMC0yNS0xMHQtMjUgMTBsLTkzIDkzcS0xMSAxMS0xMSAyNXQxMSAyNWwyOTYgMjk3LTI5NiAyOTZxLTExIDExLTExIDI1dDExIDI1bDkzIDkzcTEwIDExIDI1IDExdDI1LTExbDQxNC00MTRxMTAtMTEgMTAtMjV0LTEwLTI1eiIgaG9yaXotYWR2LXg9IjcxNC4zIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9IndyZW5jaCIgdW5pY29kZT0iJiN4ZTgwOTsiIGQ9Ik0yMTQgMjlxMCAxNC0xMCAyNXQtMjUgMTAtMjUtMTAtMTEtMjUgMTEtMjUgMjUtMTEgMjUgMTEgMTAgMjV6IG0zNjAgMjM0bC0zODEtMzgxcS0yMS0yMC01MC0yMC0yOSAwLTUxIDIwbC01OSA2MXEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWwzODAgMzgwcTIyLTU1IDY0LTk3dDk3LTY0eiBtMzU0IDI0M3EwLTIyLTEzLTU5LTI3LTc1LTkyLTEyMnQtMTQ0LTQ2cS0xMDQgMC0xNzcgNzN0LTczIDE3NyA3MyAxNzYgMTc3IDc0cTMyIDAgNjctMTB0NjAtMjZxOS02IDktMTV0LTktMTZsLTE2My05NHYtMTI1bDEwOC02MHEyIDIgNDQgMjd0NzUgNDUgNDAgMjBxOCAwIDEzLTV0NS0xNHoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJyZXNpemUtZnVsbCIgdW5pY29kZT0iJiN4ZTgwYTsiIGQ9Ik00MjEgMjYxcTAtNy01LTEzbC0xODUtMTg1IDgwLTgxcTEwLTEwIDEwLTI1dC0xMC0yNS0yNS0xMWgtMjUwcS0xNSAwLTI1IDExdC0xMSAyNXYyNTBxMCAxNSAxMSAyNXQyNSAxMSAyNS0xMWw4MC04MCAxODYgMTg1cTUgNiAxMiA2dDEzLTZsNjQtNjNxNS02IDUtMTN6IG00MzYgNDgydi0yNTBxMC0xNS0xMC0yNXQtMjYtMTEtMjUgMTFsLTgwIDgwLTE4NS0xODVxLTYtNi0xMy02dC0xMyA2bC02NCA2NHEtNSA1LTUgMTJ0NSAxM2wxODYgMTg1LTgxIDgxcS0xMCAxMC0xMCAyNXQxMCAyNSAyNSAxMWgyNTBxMTUgMCAyNi0xMXQxMC0yNXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJjdyIgdW5pY29kZT0iJiN4ZTgwYjsiIGQ9Ik04NTcgNzA3di0yNTBxMC0xNC0xMC0yNXQtMjYtMTFoLTI1MHEtMjMgMC0zMiAyMy0xMCAyMiA3IDM4bDc3IDc3cS04MiA3Ny0xOTQgNzctNTggMC0xMTEtMjN0LTkxLTYxLTYxLTkxLTIzLTExMSAyMy0xMTEgNjEtOTEgOTEtNjEgMTExLTIzcTY2IDAgMTI1IDI5dDEwMCA4MnE0IDYgMTMgNyA4IDAgMTQtNWw3Ni03N3E1LTQgNi0xMXQtNS0xM3EtNjAtNzQtMTQ3LTExNHQtMTgyLTQxcS04NyAwLTE2NyAzNHQtMTM2IDkyLTkyIDEzNy0zNCAxNjYgMzQgMTY2IDkyIDEzNyAxMzYgOTIgMTY3IDM0cTgyIDAgMTU4LTMxdDEzNy04OGw3MiA3MnExNyAxOCAzOSA4IDIyLTkgMjItMzN6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idHJhc2gtZW1wdHkiIHVuaWNvZGU9IiYjeGU4MGU7IiBkPSJNMjg2IDQzOXYtMzIxcTAtOC01LTEzdC0xMy01aC0zNnEtOCAwLTEzIDV0LTUgMTN2MzIxcTAgOCA1IDEzdDEzIDVoMzZxOCAwIDEzLTV0NS0xM3ogbTE0MyAwdi0zMjFxMC04LTUtMTN0LTEzLTVoLTM2cS04IDAtMTMgNXQtNSAxM3YzMjFxMCA4IDUgMTN0MTMgNWgzNnE4IDAgMTMtNXQ1LTEzeiBtMTQyIDB2LTMyMXEwLTgtNS0xM3QtMTItNWgtMzZxLTggMC0xMyA1dC01IDEzdjMyMXEwIDggNSAxM3QxMyA1aDM2cTcgMCAxMi01dDUtMTN6IG03Mi00MDR2NTI5aC01MDB2LTUyOXEwLTEyIDQtMjJ0OC0xNSA2LTVoNDY0cTIgMCA2IDV0OCAxNSA0IDIyeiBtLTM3NSA2MDFoMjUwbC0yNyA2NXEtNCA1LTkgNmgtMTc3cS02LTEtMTAtNnogbTUxOC0xOHYtMzZxMC04LTUtMTN0LTEzLTVoLTU0di01MjlxMC00Ni0yNi04MHQtNjMtMzRoLTQ2NHEtMzcgMC02MyAzM3QtMjcgNzl2NTMxaC01M3EtOCAwLTEzIDV0LTUgMTN2MzZxMCA4IDUgMTN0MTMgNWgxNzJsMzkgOTNxOSAyMSAzMSAzNXQ0NCAxNWgxNzhxMjMgMCA0NC0xNXQzMC0zNWwzOS05M2gxNzNxOCAwIDEzLTV0NS0xM3oiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJmb250IiB1bmljb2RlPSImI3hlODBmOyIgZD0iTTQwNSA1MzhsLTk1LTI1MXExOCAwIDc2LTF0ODktMXExMSAwIDMyIDEtNDggMTQxLTEwMiAyNTJ6IG0tNDA1LTYxN2wxIDQ0cTEzIDQgMzEgN3QzMiA2IDI4IDggMjUgMTcgMTcgMjhsMTMyIDM0NCAxNTYgNDA0aDcycTQtOCA2LTEybDExNC0yNjhxMTktNDMgNjAtMTQ0dDYzLTE1M3E5LTE5IDMzLTgwdDQwLTk0cTExLTI2IDE5LTMyIDExLTkgNDktMTd0NDctMTFxNC0yMiA0LTMyIDAtMy0xLTh0MC03cS0zNSAwLTEwNiA1dC0xMDcgNHEtNDIgMC0xMjAtNHQtOTktNHEwIDI0IDIgNDNsNzMgMTZxMSAwIDcgMXQ5IDIgOCAzIDkgNCA2IDQgNSA2IDEgOHEwIDktMTcgNTR0LTQwIDk5LTI0IDU2bC0yNTEgMXEtMTQtMzItNDMtMTA5dC0yOC05MXEwLTEyIDgtMjF0MjQtMTQgMjctNyAzMi01IDIzLTJxMS0xMSAxLTMyIDAtNS0xLTE2LTMzIDAtOTggNnQtOTcgNnEtNSAwLTE1LTN0LTEyLTJxLTQ1LTgtMTA1LTh6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iem9vbS1pbiIgdW5pY29kZT0iJiN4ZTgxMDsiIGQ9Ik01NzEgNDA0di0zNnEwLTctNS0xM3QtMTItNWgtMTI1di0xMjVxMC03LTYtMTN0LTEyLTVoLTM2cS03IDAtMTMgNXQtNSAxM3YxMjVoLTEyNXEtNyAwLTEyIDV0LTYgMTN2MzZxMCA3IDYgMTJ0MTIgNWgxMjV2MTI1cTAgOCA1IDEzdDEzIDVoMzZxNyAwIDEyLTV0Ni0xM3YtMTI1aDEyNXE3IDAgMTItNXQ1LTEyeiBtNzItMThxMCAxMDMtNzMgMTc2dC0xNzcgNzQtMTc3LTc0LTczLTE3NiA3My0xNzcgMTc3LTczIDE3NyA3MyA3MyAxNzd6IG0yODYtNDY1cTAtMjktMjEtNTB0LTUxLTIxcS0zMCAwLTUwIDIxbC0xOTEgMTkxcS0xMDAtNjktMjIzLTY5LTgwIDAtMTUzIDMxdC0xMjUgODQtODQgMTI1LTMxIDE1MyAzMSAxNTIgODQgMTI2IDEyNSA4NCAxNTMgMzEgMTUzLTMxIDEyNS04NCA4NC0xMjYgMzEtMTUycTAtMTIzLTY5LTIyM2wxOTEtMTkxcTIxLTIxIDIxLTUxeiIgaG9yaXotYWR2LXg9IjkyOC42IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Inpvb20tb3V0IiB1bmljb2RlPSImI3hlODExOyIgZD0iTTU3MSA0MDR2LTM2cTAtNy01LTEzdC0xMi01aC0zMjJxLTcgMC0xMiA1dC02IDEzdjM2cTAgNyA2IDEydDEyIDVoMzIycTcgMCAxMi01dDUtMTJ6IG03Mi0xOHEwIDEwMy03MyAxNzZ0LTE3NyA3NC0xNzctNzQtNzMtMTc2IDczLTE3NyAxNzctNzMgMTc3IDczIDczIDE3N3ogbTI4Ni00NjVxMC0yOS0yMS01MHQtNTEtMjFxLTMwIDAtNTAgMjFsLTE5MSAxOTFxLTEwMC02OS0yMjMtNjktODAgMC0xNTMgMzF0LTEyNSA4NC04NCAxMjUtMzEgMTUzIDMxIDE1MiA4NCAxMjYgMTI1IDg0IDE1MyAzMSAxNTMtMzEgMTI1LTg0IDg0LTEyNiAzMS0xNTJxMC0xMjMtNjktMjIzbDE5MS0xOTFxMjEtMjEgMjEtNTF6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0ibW92ZSIgdW5pY29kZT0iJiN4ZjA0NzsiIGQ9Ik0xMDAwIDM1MHEwLTE0LTExLTI1bC0xNDItMTQzcS0xMS0xMS0yNi0xMXQtMjUgMTEtMTAgMjV2NzJoLTIxNXYtMjE1aDcycTE0IDAgMjUtMTB0MTEtMjUtMTEtMjVsLTE0My0xNDNxLTEwLTExLTI1LTExdC0yNSAxMWwtMTQzIDE0M3EtMTEgMTAtMTEgMjV0MTEgMjUgMjUgMTBoNzJ2MjE1aC0yMTV2LTcycTAtMTQtMTAtMjV0LTI1LTExLTI1IDExbC0xNDMgMTQzcS0xMSAxMS0xMSAyNXQxMSAyNWwxNDMgMTQzcTEwIDExIDI1IDExdDI1LTExIDEwLTI1di03MmgyMTV2MjE1aC03MnEtMTQgMC0yNSAxMHQtMTEgMjUgMTEgMjZsMTQzIDE0MnExMSAxMSAyNSAxMXQyNS0xMWwxNDMtMTQycTExLTExIDExLTI2dC0xMS0yNS0yNS0xMGgtNzJ2LTIxNWgyMTV2NzJxMCAxNCAxMCAyNXQyNSAxMSAyNi0xMWwxNDItMTQzcTExLTEwIDExLTI1eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmVzaXplLWZ1bGwtYWx0IiB1bmljb2RlPSImI3hmMGIyOyIgZD0iTTcxNiA1NDhsLTE5OC0xOTggMTk4LTE5OCA4MCA4MHExNyAxOCAzOSA4IDIyLTkgMjItMzN2LTI1MHEwLTE0LTEwLTI1dC0yNi0xMWgtMjUwcS0yMyAwLTMyIDIzLTEwIDIxIDcgMzhsODEgODEtMTk4IDE5OC0xOTgtMTk4IDgwLTgxcTE3LTE3IDgtMzgtMTAtMjMtMzMtMjNoLTI1MHEtMTUgMC0yNSAxMXQtMTEgMjV2MjUwcTAgMjQgMjIgMzMgMjIgMTAgMzktOGw4MC04MCAxOTggMTk4LTE5OCAxOTgtODAtODBxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDktMjIgMzN2MjUwcTAgMTQgMTEgMjV0MjUgMTFoMjUwcTIzIDAgMzMtMjMgOS0yMS04LTM4bC04MC04MSAxOTgtMTk4IDE5OCAxOTgtODEgODFxLTE3IDE3LTcgMzggOSAyMyAzMiAyM2gyNTBxMTUgMCAyNi0xMXQxMC0yNXYtMjUwcTAtMjQtMjItMzMtNy0zLTE0LTMtMTQgMC0yNSAxMXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJibGFuayIgdW5pY29kZT0iJiN4ZjBjODsiIGQ9Ik04NTcgNjE4di01MzZxMC02Ni00Ny0xMTN0LTExNC00OGgtNTM1cS02NyAwLTExNCA0OHQtNDcgMTEzdjUzNnEwIDY2IDQ3IDExM3QxMTQgNDhoNTM1cTY3IDAgMTE0LTQ4dDQ3LTExM3oiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJzb3J0LWRvd24iIHVuaWNvZGU9IiYjeGYwZGQ7IiBkPSJNNTcxIDI0M3EwLTE1LTEwLTI1bC0yNTAtMjUwcS0xMS0xMS0yNS0xMXQtMjUgMTFsLTI1MCAyNTBxLTExIDEwLTExIDI1dDExIDI1IDI1IDExaDUwMHExNCAwIDI1LTExdDEwLTI1eiIgaG9yaXotYWR2LXg9IjU3MS40IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Im1vdXNlLXBvaW50ZXIiIHVuaWNvZGU9IiYjeGYyNDU7IiBkPSJNNjMyIDI2OHExOC0xNyA4LTM4LTktMjMtMzMtMjNoLTIxM2wxMTItMjY2cTYtMTMgMC0yN3QtMTktMTlsLTk5LTQycS0xNC02LTI3IDB0LTE5IDE5bC0xMDcgMjUyLTE3NC0xNzRxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDEwLTIyIDMzdjgzOXEwIDI0IDIyIDMzIDcgMyAxNCAzIDE1IDAgMjUtMTF6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+CjwvZm9udD4KPC9kZWZzPgo8L3N2Zz4="},359:(z,R,S)=>{z.exports=S.p+"a7bd2b418ecebc012361.ttf?9130959"},353:z=>{z.exports="data:font/woff2;base64,d09GMgABAAAAABKUAA8AAAAAJPQAABI7AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCFOAggCZZwEQgKnxyaVAE2AiQDWAsuAAQgBYVNB4IDDIEGG3UhBdwYumHjAJ55bgvZ/4fjjpUVOJbYEKqpuEgYY4RGw1xkC9qrly7T8mghbhYrHvTL5IwNHzluZQ3s/HCVNusnK5jg8CFWfFBkvTioSxtKCf//2Urv+7+qurp7ehZQRDgCgBHBamXAIATMnJkjPDmm9skdQkgQJAqA+X83/ZvWE3QrSdsBnVBzmECdpkbPg5YESkVhVGbOdk7YHGaVFFLmZRK6vlPazZ+IIE/sz2VGAQQczmWuiClj+qMnysBNTbpZ81pOz0xVSbnUgoMG4ofZ7U+7e5KNchL4f7R9s6IEn+aGt2IZzAbLN/B1EjRZK2qKerrqZPAGQMZdus1WakWb8u1Mq3/vtWfZIHcsYUI4+1+bZSvpECqqEIr62m70x/L6f82ClrU8PvLYPpj10hwAB6G7LsT2oX1oBxCqvPTY5aWt0jR9IJ2tR5+ipFk7hvjQYGz2h6tg6aIQsUlh20e/FwRULLeV7d7bTID2w2vbNoCJAvSuguNAPbxn7QO530DgTBG5JjGu6Wf0FhHsZfsKeC0O6RdWNDwy0aFXPHYbN4Ptv/6P+4knw1yYJt4tzwfo9cGBxfI06VNm+ye+x8WxrljhwMtA7+IWHX6tv+v7rfPv8Fu/ffkH/iTyaxymfbUrVhS95loM+F95hhOIJAoyJRU1LRra9NCrT78Bg4agBM1pAWizFTCEX1kZFCsYDApuGykYQqRgiFAwJCgYCigYMhQMJRQMFRQMNRQMLXhtGBp4PSCuvV4Q8PqAoPHfeiBo/Hcehn54b8AwAO9LLMUg/sfvliHUG13I4CZr9BuVewDBK06S9OYf7eNvSI9PkdUL5v/kM/WnI6blf3YJDBzbUeMc/ABtPOBR5+ARmB7PPAadiO90hPTTMN8rnBxPdj9HZ67pz4lj29GxPTVi/T67/ieppvDLCfMv1ZkVyzv1LBdi36EaEHnlmqiuMV/RdDZVe7GWra3LSR9bgywlg2s8Tcnj0EQELScicjsSJZAkND2aUPQEmEy9dVLjJ4gZqxg2URQnx3hwrFaqr/CXsrq81KmUbyfm7abspmiJY7fvxQE1CqlaL+SJoODmQGIWTKfvRIIJJBTsc4Z+USQGTwE1cLOax/+C61fuJNtzSm7IY3K5jKFoOPUkbDhDn6aE4b2qhFIyAxI0a9LPyp3gWqmehSU3Mn3Bdtv0wdXKuPijqbMaZuc4iYVau4xY6xMECUNdL2TRNebShvM0qJZk3CxjTxsoSrT4OpK7tIREc8bvvMn19ED0miPQv+AG6vzMaDOr74q2BPP04s1+rOFvnJZo/u2Hpw9vduKbvRumccNhAwv3o9LZdZDomdIoD/RYAmIaamvNm0JobMJ1O1bDBQQNvWuhShucZYkfvYYH6RtMJ5i0wJnsOGPsxk1747wrVNw5GyPCYZDcdvoFDGDOn+zZj/RI0IRaApWgGJRR/ru3O4941IS+W/vLhKc3m2vJM4jKYNMzhKqYDQtjI8LZqAhsgohsokhskijYZJHZFFG2TsUcx9sawafxNZ8OBGcAgDMBwFkA4GwAcA4AOBcAnAcAzgdg1QKoCyW2sFemN2pUvR7ZO6nIAo9KLQILzS9M8CyGNJOpk1Ye2OvU3nNlqHR7lth/S41ZHNDohmKHLLXIbm6vWgbdlbF1OeY4QlbwPSOrEFhJxr+gecdP7UFd5r0Nzwqdz0YzGVPA8oAXaSXaS51nVTof8ThtidWo5tBltZqB+GzqVf9Kx8oWxdfrMhOSMKzyMDq/4VkDGBN06SbnpeTmab9UpK4v56C1SQ1q+2kRJAi0ie6dPHT7Tvxp28Wymauki3EKwUSm+lmCj9GmmcBHJJuF7FU8jzGfGM5ykuQbS3Ok/HTZrXi0mERIbdpuaKX7U0y3bg1nzOp49hyzgTn2iVpWu00hSwNttDZAbrzt59dO9SSTZ53+CamTmCLHugee9bd8sgR2YgpUBC2lN5gLGq+sGeUZW3Xmmqv4UBa0k7lN0rNDXr2txpy0x6BVrSLl6/RsrL2GbqH8vrtb9eJuTG+CqbXYzaa7UV1q6yKPNz2bb620fZgtgnvmn3srWGMFhraBtdZXCp4iJd0DuQyBLYvMsz244pYFz+pv6tTag6Ke2ju2ai5q8MP/xCzwoOnwmmI6e27s3NZNLslHOw0R113sanLWVTpUqct3e6M7s37gEXxBzrWsCJ49rOjerYofPMfKo9/ZYvWW7YsynphaTXsJVK9+/5YvGvZNQge2BtyLHT8oPDukdYWH4YKO8HkQR4HQMQDoOAB0Avyp8Cd6ABEAEAkAGcCpMAKoDQAyAUDt4J+iA0CdAFAXANQNfhc9AOoFgPoAWNefN7fKxDRwYuZU+2FmXqYtoSQJL2dra1cLkhUu9OAeoIcAMzY8ag2NzF3odRFArweAbRilpI1zF3pTBNCbARiwJW8hMSbqU1GBmty5BMtctEy3672kdz6AgCKRz/aSan/DlwvUgD0BEOcAwK8jP3J4WLQ7sO+58G3wIGddEU2XpUnT0kSiRE5qSnKxQEM5CbKERlliisAV4nUCvsRGJZknHOjaSTtmdDlFpHUd0BupJIKhDYDbNQaeS5AeOSxiA9S1DHgRGezwLYEWSYXsM5nIIgjiZFPA27BRWeZrjpy1Pntu5Ywzm4y2P5+JOJ8FjPHMlLPZt3kG5pAslVUmoK2sHiqL4KIy8oqFjBzHcxDUmc41FEOWciGHb4iinql9zXNQNJFSW5NW7zRbaBVAsZhOndRWszY1Vm1ligJGu897zc1enhmoireWtvqDA5Q4EDA4Qvaw0RlMJ1sC0qUy3nfSVs0tdS0JHPWuWsS20FY7eF6DjWg1M9gEjLQpDDuezjSGJhHQaCoYIM6w2pVrCE0nBQKEIwQP50OcwRbjzF1rFDWROpiEou0uM94Wmjyv0BTLiaEYGuE6XZ5hxDCJwhNJfYC/eQwVgDmOkDRWUEDW6LlvfXs3hczTM0KQr+63kxkyp7luX706g3V0ICLTbLCYCUoYER0UMfmvIHKE5I4AbF9ixFxYpp0pD7WHSkoM7oCIYi6L0i9jNPhNcmjle9EbW1M3oPB6umMSgzRaoYvpTloEfNIeCqkfhMMW6pmWaw7AimPYJBmSIki2hGpOvmPmCmubk5M+CII9TnkuTYYgQd6pPDhwOVmArpocPk8muk0IeCuc2J0EaXcPOCpInco1GkrtSHbDLrb3s8mLPhOwA70CBbefwmQRc+tb4jlJs0mAknHQZu7RBM9AsUHzIL4zuFGSDMZ1sltLsybazWi+go6mxdszXeWL5IKyFUUjX3/9ZHkiEv2a96tGE9mKTHvXb9hGNJonko83or92e/KeTHtLkhhPUhe7HKf+UvBLkV+kxctuj6AR3Xffo491uyEx3/+KfRk3gl2p775Dv8YY/XWs06+Uvbp4v1Q9PEIoa8NXq/Cj+Aamp49JmA/qJR7xMe+0XEUcxZcqRrvrpWskx6an1WXqKbVKPTIiVypGhmuVhBtX4sJlrpKVtiilpcMjeqWaIcqIS5eOSdZIc0ReOHbJqy/TM2JFhodLZauL5WL8GKGSe0ehrd/US2lxkUPlZXKmVlU7PHzk+pbwpSfYrMysLEbKdHayYvbsOVYaPWenpFPfgJHmDw3268TsE/aJfZlZmZlbB5kguWWJ84NinuLD4rTN47stf+/dq1bqr6v0VdpsBr3e/QX6SmqTvespMDg6+sHoKSu0FF986tCiw5e69o2ohO6mvGg+Y/LGxON37mh1jLT0mwemgrveot4/o9XevYPzyCf4wmcPzNLfnVrtnTskj4yMefhvtU7sLZDFirGXHxgKwQMsj9/c3NK8STmUr9HkD22zs53341fWbF9zUAEITbNaQqoaZ7XdwHhevXFr/dno2cqzO7e61B2trvI36uuh+XLJreoE5mntLBWf7mT8hTgxKv6dxDP1HuFfQs7W3VEf2O6tO8wPUqvkVX6d/IdW/sVXCgtK1ekfpJdWcxcrCnmF6xmdB+/r5rGzB86vcTaBMU+kdD/QgNNpSFXh8bf+V19ec/OuseeA0TPe0LEZyWl5U7+/cPdv7PZrGv5+BRydAq04kViU44kXJS9q4PfqlsYVC/EVixOXmSw7H4CvjwyX8/v/F/+qEcCiWHiZHVkaqxC8vqAcl8V7evfti7+vizF346X8DiwuNnavvsv6ZOvo6PvQKP3WqOv92FGnxCJhyuTPPTdQa9ONlluHKk9BF1UnRtafWDMdfaJ6xKKiQbOtduC552q7yq6uKfGE1ZRTpqrC3s3znTjpkyp4DeFwA08vZU+e9DGnO1ip/pIUZ9L3gFUl4CSduHR6p0gWEbC6t1e8SrNaLTSfHCCZwxNAp7vO6MDBSSzQssnzkFYrEvh48f1tw9Ekb+bkQaBlujEThzn5j7T1x/N8JYqx4eSarq4agLGrp/oQFir/4DP//98Mp2Vj38EHfxkkthMRTBxODm5M7Lz/Sn920NM5/HB2to42E1ZfVA5/atn6b+IQzesfmxue/GoBOxzPet8PODLrqJvsr1l+P2DfznnB3F47bFs5O/w9R7ZPNIXUwWTjDN/pOHB7MMBsHCF0Uh1ZYsDUcRk2LiWcP8WYi6OEzkXBQ4bI4ygHP7V9ReecCefQrHXnyzRCnEjolNC0Cppd3Y6hbVDI3BnI3DQdokN01swN/IY/2c1l12GaSTbZTH1lOjTc9WVEplii4eoMrubjJsQ40u0Rb8treEhNOvjjWGMVUswOUkv7J9FS7d/5+RsBxsRh8ihTjk0XFae9PQSfPzisBSQ8D68KpiIPPk6wMI7tqmkONUUczWhC8dvnb6crVqHDxwmELh2LqMBt+jV3ZB1B7ndyubMyG3EQ7+fpjStQlFumLIpc+BhucntA7OdGdbEQTMeCLCr30LzBHdq1kwpfM+JRKS+oIltWyo4x20eZSGIsmFEkige0KXO77PY0lluVJeV0haKui1MUu/UcdVdy6Ja5r7vDpG/VNjfWV1fiFve0RGPxUwgtt+4qOUS3K1e8HAVkLUM82hgW3IkHyAb+ux+BOycAP4PjByZ9f6kKp4IseZ7jQaGUsN+KTp03VS2WlDhWhQ5pmhpVp7lJfnLL/jQvpIWMhwEHHG+SiV0qtBLKInYIyVPwMUSBijEqUqhSN8pNyOlSUOai7JJzk/dvuWzX2PVw07u+UW0RWS9nOVq2vsWpo3uHhClZF4GLbhQhBo9dQmjC/pEm6y32jRgnEXoYUVkVVVmMNSpylVs8SEImLIKOT/BBSzlKZF2hqlr7cG98/46q8sv5uFk/LW7g2p1XudhoRsXLbtt1zZmvrsrEsS1GJWadoIfuoHj358w97ZPT0Vtq28HXsGZ9FzQOomdJ/Na4udhONdR1qAiToTGkR5i1bP/8pHmVUf8HvjF+/kpiuMrf/Jdr/xXgxyPBi6/5/yRi9V+9FcgYCLv/9Vn8Vw6LVE3jFIevZbQGvG/F3xtxXh4b7QfsxGp58kQE3ysPooN+FR9vm9xa5gy7S7qGMd1yzwDP1Y+h3f1+kqV6jXAAIp/FevOMgi3znMxuHkYcmhepOTUvkbk6r2KRO9evGfCOo1AC9/n4ZZ7o3TPPaGsaOmvEEgwYsWVeZPhhTBhxY17FGT3ztmrm/v6FpLRlb53A3ds99Lu9CVRboMsP4qMKoIo44gzPYCgKhkBtTQ0Z+I22BMXDeHypf+TsKUKv3Y02/8KIrATrkq+TV7YvYsAwNfDJ/VuQmBaope1E0rzTqavMvTck2WKe5Qi4YxS7h363N4GKdAIJhL1ICchVCuGYmIHPEZp+EAkk4YC0de/wDQu/ibVK/+4V5uz2vP0flq8967FDr90V4F86CmnFqK3lttmqh33SLoyEmiW6O/jst0Nib7mANNG2SFgkZGy0bLFXusXutUcBFfSXNNzkCopKKpRVqlKtlhq11aNe6IN+GIBBGIJhGEFGHi1PtIoaw1EKJZ/VtI6tytuzgEZ2+jysYN9+UtKFy8xSwnjRhcMncbJmjNpdMma/w5YpIRzo9aWwyq6FTZLtkS9sebojalo+nsXPTEWOGlrhbY6SLRXkuAoqLs8zsbRkeY/XDZWMrUQ+CvLenr3dmdv8EHTSNAf96pvc5Af87371YOEuuwBHQQndcTwQFWruRb0QlH0mjgc0Eg12+2XQ0ZafKlNH2/zR5ltk5LmXQAGIqTo6QNywYLeJll7gREGcnDtQ5BAxJ/xRYDcAAA=="},759:z=>{z.exports="data:font/woff;base64,d09GRgABAAAAABXUAA8AAAAAJPQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+I1MqY21hcAAAAdgAAADTAAACuIda97BjdnQgAAACrAAAABMAAAAgBtX+/mZwZ20AAALAAAAFkAAAC3CKkZBZZ2FzcAAACFAAAAAIAAAACAAAABBnbHlmAAAIWAAACf0AAA+aE9DL/mhlYWQAABJYAAAAMgAAADYPoZfIaGhlYQAAEowAAAAfAAAAJAc7A2hobXR4AAASrAAAAC0AAABYSVz//GxvY2EAABLcAAAALgAAAC4p+yYIbWF4cAAAEwwAAAAgAAAAIAElDApuYW1lAAATLAAAAXcAAALNzJ0dH3Bvc3QAABSkAAAAswAAAQOd6TSHcHJlcAAAFVgAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZA5jnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGD65Mgf9z2KIYg5imAkUZgTJAQDhCgvVAHic7ZLBccIwEEWfwCEBjMFJ3AIn2mDoiYI4caIKmvB9jxoaIH+9mwM9sJrnGf2RZM0+AR/AXBxEA+VKweuitEz5nNWUN5w132lova2tr6d6q/c6Po7PpxKse01eqmjfXqf9D09mOqnRDRZ88sVS/1nTsqFjq9U93/zwy6ClC97V+qe0ORu844F7skQ9xZLJU+JuLXHnlqj3WCILWCIfWCIzWOJvwRLZ0jsI/HbWBTKIbQM82wV41gfySz0FMk29BXJOvQeyTx0DvQMex4DhD8NHSkgAeJxjYEADEhDIHPQ/HYQBEloD1wB4nK1WaXfTRhQdeUmchCwlCy1qYcTEabBGJmzBgAlBsmMgXZytlaCLFDvpvvGJ3+Bf82Tac+g3flrvGy8kkLTncJqTo3fnzdXM22USWpLYC+uRlJsvxdTWJo3sPAnphk3LUXwoO3shZYrJ3wVREK2W2rcdh0REIlC1rrBEEPseWZpkfOhRRsu2pFdNyi096S5b40G9Vd9+GjrKsTuhpGYzdGg9siVVGFWiSKY9UtKmZaj6K0krvL/CzFfNUMKITiJpvBnG0EjeG2e0ymg1tuMoimyy3ChSJJrhQRR5lNUS5+SKCQzKB82Q8sqnEeXD/Iis2KOcVrBLttP8vi95p3c5P7Ffb1G25EAfyI7s4Ox0JV+EW1th3LST7ShUEXbXd0Js2exU/2aP8ppGA7crMr3QjGCpfIUQKz+hzP4hWS2cT/mSR6NaspETQetlTuxLPoHW44gpcc0YWdDd0QkR1P2SMwz2mD4e/PHeKZYLEwJ4HMt6RyWcCBMpYXM0SdowcmAlZYsqqfWumDjldVrEW8J+7drRl85o41B3YjxbDx1bOVHJ8WhSp5lMndpJzaMpDaKUdCZ4zK8DKD+iSV5tYzWJlUfTOGbGhEQiAi3cS1NBLDuxpCkEzaMZvbkbprl2LVqkyQP13KP39OZWuLnTU9oO9LNGf1anYjrYC9PpaeQv8Wna5SJF6frpGX5M4kHWAjKRLTbDlIMHb/0O0svXlhyF1wbY7u3zK6h91kTwpAH7G9AeT9UpCUyFmFWIVkBirWtZlsnVrBapyNR3Q5pWvqzTBIpyHBfHvoxx/V8zM5aYEr7fidOzIy49c+1LCNMcfJt1PZrXqcVyAXFmeU6nWZbv6zTH8gOd5lme1+kIS1unoyw/1GmB5Uc6HWN5QQuadN/BkIsw5AIOkDCEpQNDWF6CISwVDGG5CENYFmEIyyUYwvJjGMJyGYawvKxl1dRTSePamVgGbEJgYo4eucxF5WoquVRCu2hUakOeEm6VVBTPqn9loF488oY5sBZIl8iaXzHOlY9G5fjWFS1vGjtXwLHqbx+O9jnxUtaLhT8F/9XWVCW9Ys3Dk6vwG4aebCeqNql4dE2Xz1U9uv5fVFRYC/QbSIVYKMqybHBnIoSPOp2GaqCVQ8xszDy063XLmp/D/TcxQhZQ/fg3FBoL3INOWUlZ7eCs1dfbstw7g3I4EyxJMTfz+lb4IiOz0n6RWcqej3wecAWMSmXYagOtFbzZJzEPmd4kzwRxW1E2SNrYzgSJDRzzgHnznQQmYeqqDeRO4YYN+AVhbsF5J1yieqMsh+5F7PMopPxbp+JE9qhojMCz2Rthr+9Cym9xDCQ0+aV+DFQVoakYNRXQNFJuqAZfxtm6bULGDvQjKnbDsqziw8cW95WSbRmEfKSI1aOjn9Zeok6q3H5mFJfvnb4FwSA1MX9733RxkMq7WskyR20DU7calVPXmkPjVYfq5lH1vePsEzlrmm66Jx56X9Oq28HFXCyw9m0O0lImF9T1YYUNosvFpVDqZTRJ77gHGBYY0O9Qio3/q/rYfJ4rVYXRcSTfTtS30edgDPwP2H9H9QPQ92Pocg0uz/eaE59u9OFsma6iF+un6Dcwa625WboG3NB0A+IhR62OuMoNfKcGcXqkuRzpIeBj3RXiAcAmgMXgE921jOZTAKP5jDk+wOfMYdBkDoMt5jDYZs4awA5zGOwyh8Eecxh8wZx1gC+ZwyBkDoOIOQyeMCcAeMocBl8xh8HXzGHwDXPuA3zLHAYxcxgkzGGwr+nWMMwtXtBdoLZBVaADU09Y3MPiUFNlyP6OF4b9vUHM/sEgpv6o6faQ+hMvDPVng5j6i0FM/VXTnSH1N14Y6u8GMfUPg5j6TL8Yy2UGv4x8lwoHlF1sPufvifcP28VAuQABAAH//wAPeJyVV1tsXMUZnn/m3M96r3POWdu7x3vzrr12nODd9cLacTa32iYb4YSoxCAb04ZA7VysKgJUmhdSVU3VGmQFlCKU0sZ+qdoIWioEDw1SJR5QpfIADVLV54ZWFQ9FSDXNSf+ZXSdpIwRdrebMnPln/vv3/4cAwR/boBeJQ9LNnggQgClCgZ4mOD2Nm8e5x5nqDQHXQcuVoFjdBWOjfSAHl21Eg0x0OBr8LRJp4XMdTuHYilLXxY1IBFy5jG7A6Wi0FcFLyc1P6Af0+6RA/GZvrjuqK8huigEl9DSA4JfiXFGTQ/08ggy3gy4GwbW0xbouWeO259IP2mzX22zwGb29jkTW1yMrrphsbETuJoyMCAIp079YnNkkTwabRaIwRWq/ogJD4xzBByNHKRBGWvlKf76S19SeIXC4VsrjoOdzxXoNh1KtOlav4DAOo67nVEZdFs+41zPuspuB654PuPC9ZZyIxZvi7ccuvnU+7rx1M4JcyvNHdg7l8UmmmU5G6C2nMNjyilPzpJX+1y0xIcOo68TaRmLnnOBFt4GD4wzic73sT6XLG3zcHXTgOZ8HFxwHTsilsw7n02UYTgVPrwtiKccP2Bz9B0mTQjNLKGtHxQqRZiHCKkQYpei5eSkLWiOf9VzpOCFSHbY8lUVjzBXS8uqyM+4EFziHE07DLbf5FmBhyi+v8wk+1NmAZSmxuz4gQrQtSw1l8aUsjLLT4u0KmgXoEUIpHCVAoeX2F++wSztwsrniTqiOedlOBHlolxqXdim77uXg6XShkIbzl12URjDm0BCW4bzsTDiX0WJ+GTZQNJQ1eJFLWV5n5+hf2/6J6pQw9A8j7DQGCRA0Ehz3nFpHjnYUx9qBUot1wrnekeMcKjnONwb6OuojDxRgAgcHqilpHiEfFFNwvmM7YRkUXsrxDr3I9hFOtv0WZOoeeK0we7Rpt00DEIKZ3qZ5K5Xn3vA8qrpDJr3bR3Q1uAaDljVvp+zgG7YNlyzfmrfoL4KPgmtyasFP8QmXbHve8js+eYee6fA3vxL/VFzy77imbsItj3C6hGxT9jyyHgg+kkyQmQXfCh5rSwWDMNAmEIQi8sjNp9irmCcGSjBC5prRIihsoBRnVEHmhKE4WRSnhzAFw0WhmNcCZkjHSV1CuuQXbB6fezOV35aMq2r3UL1aDFMfxvq35AYf+rkehlKuiPmG2S7s6XhjQhf3T9znNNmThOPBOYyncfTod90j8JOu3uceeHJt7cnM17pN8/IJWj6QjVjpsEvjmbjS81lwjvOdmInw3fqRv7j9BxZg7f0XKI9qcX3h7ATt3sYtghKK2HsYdU6SHeSe5shAXzdqGw9hMgKd6qghEpUBu43hDe711IUmIFGzHYuIV5OwhaaYu2H4b7CVQAIb6luzFo9sRji4KXv2bTWsNVV4g2fM2bc0MVffPiT3XVB17a1Dlo+EYSSnISTQdmnw51uLJh7uUIj4uRmgLnOoyw6ys9nYBqCKIEItCDD03knMcmB0maiohwqLhCqKTHXlqNCzVSolSoXKFhYPQa64C4r5XJhyn1ZGx+pCOR/QS3puhE4yVMarjyEM8eiml4gdPLzSWGqNjLSWGnueGlRiWkul2sSVRx96dWVaaT5z8ZHDF3dOx4bp7zfD7rbowYNIeAbpGzUN1INKWLt/FvaduXTl0pl9k/dNxxOojyZ9I+pIhPSR7WSc7CVPkGPNxx7aTzVjMNsdw7gX+qmol0Y0ICcVSomuEX2ZhIlphM3FSBc1QhbVwNAWiG7b+hGi6/ZRYut26/Fjjy08Mvfg4QdaM1O7d/ECL4pfPqqmhwS8CAPUYp3q8yXrRCwb4z5UsqOTAJVSsZTXdFUaMSYgHGMjlm+D5jigHUUg9IGIBt8yCoYlh+dvT1ctvT3VrekgZBgU3qeGEZzf7FXU1zUF/m4ZY9X+YEd/FWqC7pclc9j9tVc2S78yLHgzuCpewm4xfsE8OEZjNz4Jccvi9PHdKobKg8jxxicj+/aM0IQUYt5Jgc/nrU6O/Az9oJNZ8pumOTmWNRWVCXSyEA7K7bRALzCVnsSowgRa1jWMrlNEFLXDoiX6usDz+3sPvGbfdUIBqjGqLWOB0e4+8f9cPzfXTBiGMWvMtg7cPzPeKOd7DxmIj6B7bmW0XkTbK/VeqHgJH7BB8Fw5oJ+8XFHPafnqLiogB/+lanE7DYOHTsVkriONnsNc0EoavPhoq9FnOzuCGnQVUilX+94r09q3E4ddc0fUNuyWqVDIrxbKrzh0RtdYTKEoes5Lfh5uQDRjZxyssNnnMiqn22jP5wDw40AbVjTNSkbhKFwIBZ8OvVdNfCfbo5lR5lrMohYYyUQUKXVKNUUxHx67FzIvh0NxC68G21HtEAY4YTdv3lxCP3Vh3zVM9pP55sN9ScqURBz7LtalYTHdCzqMgqmriGwa0xTEBECvgn6SWERTLG0RmzNRdBlZxPemoZuLxDC6jJmdE7UKTzg8X+T5vC1SZKtfK93Zr43Dnf2aVx0BjbuYE1zgoJYXwKH41OPoEDpu6WdDWkEPwVndgpB2Vga8WEyvvb+Gf/DLE/zqsWdn155s0okTq+urJyZg/1UHLrQPhcAy2ofOisA+a3U/sUZfeu+i9qPg5XTZubp/cumFn6+eaih7jr908NljVx1yh40iiPj3kPHmvaaB2iJUM+KDytgU4g7CCV0U9RhhcxEjS1WYukgUpUuZ8fJohWJeV3vbFsi29cbM/3Jtg99JPWHPV9RQqvblSom+YYldZ4fJPjLbPGiDaemWqZ/sAt2wdGNZE0UAiEw0/C5gyyEwMOOJAQvEskLTmERdbGZ3c+fE+H3VyshwAtG838kmeFi4WTY2CF154dBO81WUjhbO71Q3rNJpqIgg6LTNrsA+RzTvsmu+bq/aPr82HXbt57ENed52w9PXuJiIdWcDe5GtDSSHhbD9VejuvJl0eklRz/eT0eb2yVolp1BWzWZ647EoBROr3ZQCottVb38hFRv13sZ9svDpoqSlQaJ7CetfCV2nS6gXXsbiXtLRr6UOlI96Lpb/eqlYlzGvI0qIXfqHd9+djQ2LumhasUNiYVqeqPjDsVlc2WFdd7Gme5Yp1odilumJeu/qetimBaSIJ5JYJj1HHD4UczwkTibi8iwz794yUd8t3edkvYw1w7ealVpF9IiyY862S1Zdfj4s7L3x8d6Fhb3U27tAl25c37MAi7tpUjzkXR/SCfCwkHpN0aOLT6atG4tc3Nh/OxrEhRjhm+iaTXQNfBp2/xnBpb3ZaU7EfU/QH2KMpki26YdFd419CX6DEUAMglPomBCdGejNy29jafOEqyGDomiihMlR8PpYZdSjz8QtM/nhihbq+ma4R1u+0janrkcwudAgwWddKbWMu/++YjPLY1PSPP8B8cyO5QAAAHicY2BkYGAA4vf7ZCPi+W2+MnAzvwCKMFzz0xKF0f///U9nfsEcBORyMDCBRAFSLwwtAAB4nGNgZGBgDvqfBSRf/P/3/z/zCwagCAoQAwC2mQeoAHicY37BwMAMwoJQvACII6EYyGY6BcEI8f//4OoW/P8Pxi8QepisIeoBt34RkgAAAAAAAAAAOACCAMoBDgFUAZoB3gIeAl4C2AM+A6YEagU+BdAGOgbABz4HZAeMB80AAAABAAAAFgBoAAYAAAAAAAIAIAAwAHMAAAB1C3AAAAAAeJx1kN1qwjAYht/Mn20K29hgp8vRUMbqDwxBEASHnmwnMjwdtda2UhtJo+Bt7B52MbuJXcte2ziGspY0z/fky5evAXCNbwjkzxNHzgJnjHI+wSl6lgv0z5aL5BfLJVTxZrlM/265ggcElqu4wQcriOI5owU+LQtciUvLJ7gQd5YL9I+Wi+Se5RJuxavlMr1nuYKJSC1XcS++Bmq11VEQGlkb1GW72erI6VYqqihxY+muTah0KvtyrhLjx7FyPLXc89gP1rGr9+F+nvg6jVQiW05zr0Z+4mvX+LNd9XQTtI2Zy7lWSzm0GXKl1cL3jBMas+o2Gn/PwwAKK2yhEfGqQhhI1GjrnNtoooUOacoMycw8K0ICFzGNizV3hNlKyrjPMWeU0PrMiMkOPH6XR35MCrg/ZhV9tHoYT0i7M6LMS/blsLvDrBEpyTLdzM5+e0+x4WltWsNduy511pXE8KCG5H3s1hY0Hr2T3Yqh7aLB95//+wHmboRRAHicbY5JDsIwFEPjUkoH5vEUOVQpvzQizY8yUMHpUcuGBd74yZYli0R8VYr/OiPBDCnmyLBAjgIlKiyxwhobbLHDHgccccIZF5HwI2tq05BOrY4+v/Fg5FXdc01tGKFw6t5NlEU7BVPDlkz5rUbMBkem6SpHXr1JtlHrpBmq4GrfSepteKUtm7B4M/dSmXxyjiHt+Umbn5WsdZhfdW0ehWcX5Phn1XP0JC0rE8gJ8QFXpkEUAHicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA="},51:z=>{if(typeof _>"u"){var R=new Error("Cannot find module '@jupyter-widgets/base'");throw R.code="MODULE_NOT_FOUND",R}z.exports=_}},C={};function b(z){var R=C[z];if(R!==void 0)return R.exports;var S=C[z]={id:z,exports:{}};return w[z].call(S.exports,S,S.exports,b),S.exports}b.m=w,b.n=z=>{var R=z&&z.__esModule?()=>z.default:()=>z;return b.d(R,{a:R}),R},b.d=(z,R)=>{for(var S in R)b.o(R,S)&&!b.o(z,S)&&Object.defineProperty(z,S,{enumerable:!0,get:R[S]})},b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),b.o=(z,R)=>Object.prototype.hasOwnProperty.call(z,R),b.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},(()=>{var z;b.g.importScripts&&(z=b.g.location+"");var R=b.g.document;if(!z&&R&&(R.currentScript&&R.currentScript.tagName.toUpperCase()==="SCRIPT"&&(z=R.currentScript.src),!z)){var S=R.getElementsByTagName("script");if(S.length)for(var K=S.length-1;K>-1&&(!z||!/^http(s?):/.test(z));)z=S[K--].src}if(!z)throw new Error("Automatic publicPath is not supported in this browser");z=z.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),b.p=z})(),b.b=document.baseURI||self.location.href,b.nc=void 0;var L={};return(()=>{b.r(L),b.d(L,{Behavior:()=>Um,Builder:()=>oh,CobraModel:()=>Cf,DataMenu:()=>yI,EscherMapModel:()=>Ov,EscherMapView:()=>Dv,KeyManager:()=>Vm,Map:()=>Nf,SearchIndex:()=>Gm,Settings:()=>ov,UndoStack:()=>Wm,ZoomContainer:()=>zm,dataStyles:()=>K,default:()=>oh,libs:()=>DI,utils:()=>G,version:()=>TI});var z={};b.r(z),b.d(z,{VERSION:()=>T,after:()=>d0,all:()=>kd,allKeys:()=>Bo,any:()=>Md,assign:()=>ts,before:()=>md,bind:()=>_d,bindAll:()=>a0,chain:()=>o0,chunk:()=>j0,clone:()=>Ub,collect:()=>Tr,compact:()=>O0,compose:()=>h0,constant:()=>Nn,contains:()=>Fn,countBy:()=>k0,create:()=>jb,debounce:()=>c0,default:()=>U0,defaults:()=>ad,defer:()=>l0,delay:()=>gd,detect:()=>wu,difference:()=>zd,drop:()=>is,each:()=>Rn,escape:()=>Qb,every:()=>kd,extend:()=>od,extendOwn:()=>ts,filter:()=>ci,find:()=>wu,findIndex:()=>Au,findKey:()=>vd,findLastIndex:()=>bd,findWhere:()=>g0,first:()=>Cu,flatten:()=>z0,foldl:()=>xu,foldr:()=>Cd,forEach:()=>Rn,functions:()=>fu,get:()=>ud,groupBy:()=>E0,has:()=>Yb,head:()=>Cu,identity:()=>pu,include:()=>Fn,includes:()=>Fn,indexBy:()=>C0,indexOf:()=>xd,initial:()=>Od,inject:()=>xu,intersection:()=>N0,invert:()=>id,invoke:()=>v0,isArguments:()=>yt,isArray:()=>Ce,isArrayBuffer:()=>xe,isBoolean:()=>Te,isDataView:()=>Oe,isDate:()=>sr,isElement:()=>Ne,isEmpty:()=>Tb,isEqual:()=>Db,isError:()=>we,isFinite:()=>Jt,isFunction:()=>ye,isMap:()=>Ib,isMatch:()=>Kh,isNaN:()=>si,isNull:()=>ee,isNumber:()=>wn,isObject:()=>Ee,isRegExp:()=>te,isSet:()=>Nb,isString:()=>vt,isSymbol:()=>me,isTypedArray:()=>Zh,isUndefined:()=>he,isWeakMap:()=>Pb,isWeakSet:()=>Lb,iteratee:()=>gu,keys:()=>bt,last:()=>D0,lastIndexOf:()=>_0,map:()=>Tr,mapObject:()=>Vb,matcher:()=>To,matches:()=>To,max:()=>Bd,memoize:()=>s0,methods:()=>fu,min:()=>b0,mixin:()=>Id,negate:()=>bu,noop:()=>fd,now:()=>Oo,object:()=>R0,omit:()=>T0,once:()=>p0,pairs:()=>Rb,partial:()=>ns,partition:()=>M0,pick:()=>Dd,pluck:()=>Eu,property:()=>_u,propertyOf:()=>Gb,random:()=>mu,range:()=>F0,reduce:()=>xu,reduceRight:()=>Cd,reject:()=>m0,rest:()=>is,restArguments:()=>ne,result:()=>n0,sample:()=>Td,select:()=>ci,shuffle:()=>w0,size:()=>B0,some:()=>Md,sortBy:()=>x0,sortedIndex:()=>Ad,tail:()=>is,take:()=>Cu,tap:()=>Wb,template:()=>t0,templateSettings:()=>qb,throttle:()=>u0,times:()=>Hb,toArray:()=>Sd,toPath:()=>ld,transpose:()=>Mu,unescape:()=>Zb,union:()=>P0,uniq:()=>ku,unique:()=>ku,uniqueId:()=>i0,unzip:()=>Mu,values:()=>ui,where:()=>y0,without:()=>I0,wrap:()=>f0,zip:()=>L0});var R={};b.r(R),b.d(R,{Component:()=>Ct,Fragment:()=>No,cloneElement:()=>X0,createContext:()=>Z0,createElement:()=>B,createRef:()=>Y0,h:()=>B,hydrate:()=>qd,isValidElement:()=>Nd,options:()=>lt,render:()=>Lu,toChildArray:()=>Gd});var S={};b.r(S),b.d(S,{$:()=>Xp,Bus:()=>ac,CompositeUnsubscribe:()=>jo,Desc:()=>_e,End:()=>vs,Error:()=>fr,Event:()=>ms,EventStream:()=>gt,Initial:()=>_i,Next:()=>pi,Observable:()=>xi,Property:()=>kn,Value:()=>Fo,_:()=>je,combine:()=>tw,combineAsArray:()=>Yo,combineTemplate:()=>Wp,combineTwo:()=>Ep,combineWith:()=>xp,concatAll:()=>dw,constant:()=>Ai,fromArray:()=>qw,fromBinder:()=>Wn,fromCallback:()=>lx,fromESObservable:()=>cx,fromEvent:()=>Vp,fromEventTarget:()=>Vp,fromNodeCallback:()=>ux,fromPoll:()=>bs,fromPromise:()=>ix,getScheduler:()=>dA,groupSimultaneous:()=>$A,hasValue:()=>Pt,interval:()=>kp,isEnd:()=>mi,isError:()=>Cn,isEvent:()=>fp,isInitial:()=>hp,isNext:()=>BA,isProperty:()=>ws,later:()=>wi,mergeAll:()=>Rp,more:()=>Re,never:()=>bi,noMore:()=>Ke,nullSink:()=>Ir,nullVoidSink:()=>up,onValues:()=>$w,once:()=>Un,repeat:()=>Gp,repeatedly:()=>ex,retry:()=>tx,sequentially:()=>nx,setScheduler:()=>pA,silence:()=>Hp,spy:()=>vw,try:()=>fx,update:()=>Xw,version:()=>hx,when:()=>Uo,zipAsArray:()=>jw,zipWith:()=>Up});var K={};b.r(K),b.d(K,{default:()=>Lt});var T="1.13.7",V=typeof self=="object"&&self.self===self&&self||typeof Xl=="object"&&Xl.global===Xl&&Xl||Function("return this")()||{},j=Array.prototype,U=Object.prototype,pe=typeof Symbol<"u"?Symbol.prototype:null,X=j.push,Z=j.slice,H=U.toString,ie=U.hasOwnProperty,oe=typeof ArrayBuffer<"u",ue=typeof DataView<"u",se=Array.isArray,ce=Object.keys,ae=Object.create,be=oe&&ArrayBuffer.isView,Se=isNaN,Pe=isFinite,nt=!{toString:null}.propertyIsEnumerable("toString"),Je=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],le=Math.pow(2,53)-1;function ne(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function Ee(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function ee(t){return t===null}function he(t){return t===void 0}function Te(t){return t===!0||t===!1||H.call(t)==="[object Boolean]"}function Ne(t){return!!(t&&t.nodeType===1)}function Le(t){var e="[object "+t+"]";return function(n){return H.call(n)===e}}const vt=Le("String"),wn=Le("Number"),sr=Le("Date"),te=Le("RegExp"),we=Le("Error"),me=Le("Symbol"),xe=Le("ArrayBuffer");var Be=Le("Function"),rt=V.document&&V.document.childNodes;typeof Int8Array!="object"&&typeof rt!="function"&&(Be=function(t){return typeof t=="function"||!1});const ye=Be,Ye=Le("Object");var He=ue&&(!/\[native code\]/.test(String(DataView))||Ye(new DataView(new ArrayBuffer(8)))),Ue=typeof Map<"u"&&Ye(new Map),Qe=Le("DataView");function De(t){return t!=null&&ye(t.getInt8)&&xe(t.buffer)}const Oe=He?De:Qe,Ce=se||Le("Array");function Ie(t,e){return t!=null&&ie.call(t,e)}var We=Le("Arguments");(function(){We(arguments)||(We=function(t){return Ie(t,"callee")})})();const yt=We;function Jt(t){return!me(t)&&Pe(t)&&!isNaN(parseFloat(t))}function si(t){return wn(t)&&Se(t)}function Nn(t){return function(){return t}}function Mo(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=le}}function Mr(t){return function(e){return e==null?void 0:e[t]}}const Ln=Mr("byteLength"),li=Mo(Ln);var Br=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Bb(t){return be?be(t)&&!Oe(t):li(t)&&Br.test(H.call(t))}const Zh=oe?Bb:Nn(!1),Ft=Mr("length");function Sb(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function qh(t,e){e=Sb(e);var n=Je.length,r=t.constructor,i=ye(r)&&r.prototype||U,o="constructor";for(Ie(t,o)&&!e.contains(o)&&e.push(o);n--;)o=Je[n],o in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function bt(t){if(!Ee(t))return[];if(ce)return ce(t);var e=[];for(var n in t)Ie(t,n)&&e.push(n);return nt&&qh(t,e),e}function Tb(t){if(t==null)return!0;var e=Ft(t);return typeof e=="number"&&(Ce(t)||vt(t)||yt(t))?e===0:Ft(bt(t))===0}function Kh(t,e){var n=bt(e),r=n.length;if(t==null)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function $e(t){if(t instanceof $e)return t;if(!(this instanceof $e))return new $e(t);this._wrapped=t}$e.VERSION=T,$e.prototype.value=function(){return this._wrapped},$e.prototype.valueOf=$e.prototype.toJSON=$e.prototype.value,$e.prototype.toString=function(){return String(this._wrapped)};function Jh(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Ln(t))}var $h="[object DataView]";function su(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:ed(t,e,n,r)}function ed(t,e,n,r){t instanceof $e&&(t=t._wrapped),e instanceof $e&&(e=e._wrapped);var i=H.call(t);if(i!==H.call(e))return!1;if(He&&i=="[object Object]"&&Oe(t)){if(!Oe(e))return!1;i=$h}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return pe.valueOf.call(t)===pe.valueOf.call(e);case"[object ArrayBuffer]":case $h:return ed(Jh(t),Jh(e),n,r)}var o=i==="[object Array]";if(!o&&Zh(t)){var a=Ln(t);if(a!==Ln(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if(typeof t!="object"||typeof e!="object")return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(ye(s)&&s instanceof s&&ye(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!su(t[u],e[u],n,r))return!1}else{var c=bt(t),h;if(u=c.length,bt(e).length!==u)return!1;for(;u--;)if(h=c[u],!(Ie(e,h)&&su(t[h],e[h],n,r)))return!1}return n.pop(),r.pop(),!0}function Db(t,e){return su(t,e)}function Bo(t){if(!Ee(t))return[];var e=[];for(var n in t)e.push(n);return nt&&qh(t,e),e}function lu(t){var e=Ft(t);return function(n){if(n==null)return!1;var r=Bo(n);if(Ft(r))return!1;for(var i=0;i<e;i++)if(!ye(n[t[i]]))return!1;return t!==rd||!ye(n[uu])}}var uu="forEach",td="has",cu=["clear","delete"],nd=["get",td,"set"],Ob=cu.concat(uu,nd),rd=cu.concat(nd),zb=["add"].concat(cu,uu,td);const Ib=Ue?lu(Ob):Le("Map"),Pb=Ue?lu(rd):Le("WeakMap"),Nb=Ue?lu(zb):Le("Set"),Lb=Le("WeakSet");function ui(t){for(var e=bt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Rb(t){for(var e=bt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function id(t){for(var e={},n=bt(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function fu(t){var e=[];for(var n in t)ye(t[n])&&e.push(n);return e.sort()}function hu(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];(!e||n[u]===void 0)&&(n[u]=o[u])}return n}}const od=hu(Bo),ts=hu(bt),ad=hu(Bo,!0);function Fb(){return function(){}}function sd(t){if(!Ee(t))return{};if(ae)return ae(t);var e=Fb();e.prototype=t;var n=new e;return e.prototype=null,n}function jb(t,e){var n=sd(t);return e&&ts(n,e),n}function Ub(t){return Ee(t)?Ce(t)?t.slice():od({},t):t}function Wb(t,e){return e(t),t}function ld(t){return Ce(t)?t:[t]}$e.toPath=ld;function So(t){return $e.toPath(t)}function du(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function ud(t,e,n){var r=du(t,So(e));return he(r)?n:r}function Yb(t,e){e=So(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!Ie(t,i))return!1;t=t[i]}return!!n}function pu(t){return t}function To(t){return t=ts({},t),function(e){return Kh(e,t)}}function _u(t){return t=So(t),function(e){return du(e,t)}}function Do(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,o){return t.call(e,r,i,o)};case 4:return function(r,i,o,a){return t.call(e,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function cd(t,e,n){return t==null?pu:ye(t)?Do(t,e,n):Ee(t)&&!Ce(t)?To(t):_u(t)}function gu(t,e){return cd(t,e,1/0)}$e.iteratee=gu;function jt(t,e,n){return $e.iteratee!==gu?$e.iteratee(t,e):cd(t,e,n)}function Vb(t,e,n){e=jt(e,n);for(var r=bt(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o}function fd(){}function Gb(t){return t==null?fd:function(e){return ud(t,e)}}function Hb(t,e,n){var r=Array(Math.max(0,t));e=Do(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function mu(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Oo=Date.now||function(){return new Date().getTime()};function hd(t){var e=function(o){return t[o]},n="(?:"+bt(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,e):o}}const dd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Qb=hd(dd),Xb=id(dd),Zb=hd(Xb),qb=$e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var vu=/(.)^/,Kb={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Jb=/\\|'|\r|\n|\u2028|\u2029/g;function $b(t){return"\\"+Kb[t]}var e0=/^\s*(\w|\$)+\s*$/;function t0(t,e,n){!e&&n&&(e=n),e=ad({},e,$e.templateSettings);var r=RegExp([(e.escape||vu).source,(e.interpolate||vu).source,(e.evaluate||vu).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(u,c,h,p,g){return o+=t.slice(i,g).replace(Jb,$b),i=g+u.length,c?o+=`'+
((__t=(`+c+`))==null?'':_.escape(__t))+
'`:h?o+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:p&&(o+=`';
`+p+`
__p+='`),u}),o+=`';
`;var a=e.variable;if(a){if(!e0.test(a))throw new Error("variable is not a bare identifier: "+a)}else o=`with(obj||{}){
`+o+`}
`,a="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var s;try{s=new Function(a,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return s.call(this,u,$e)};return l.source="function("+a+`){
`+o+"}",l}function n0(t,e,n){e=So(e);var r=e.length;if(!r)return ye(n)?n.call(t):n;for(var i=0;i<r;i++){var o=t==null?void 0:t[e[i]];o===void 0&&(o=n,i=r),t=ye(o)?o.call(t):o}return t}var r0=0;function i0(t){var e=++r0+"";return t?t+e:e}function o0(t){var e=$e(t);return e._chain=!0,e}function pd(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=sd(t.prototype),a=t.apply(o,i);return Ee(a)?a:o}var yu=ne(function(t,e){var n=yu.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return pd(t,r,this,this,a)};return r});yu.placeholder=$e;const ns=yu,_d=ne(function(t,e,n){if(!ye(t))throw new TypeError("Bind must be called on a function");var r=ne(function(i){return pd(t,r,e,this,n.concat(i))});return r}),$t=Mo(Ft);function Sr(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,o=0,a=Ft(t);o<a;o++){var s=t[o];if($t(s)&&(Ce(s)||yt(s)))if(e>1)Sr(s,e-1,n,r),i=r.length;else for(var l=0,u=s.length;l<u;)r[i++]=s[l++];else n||(r[i++]=s)}return r}const a0=ne(function(t,e){e=Sr(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=_d(t[r],t)}return t});function s0(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return Ie(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}const gd=ne(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),l0=ns(gd,$e,1);function u0(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Oo(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var c=Oo();!s&&n.leading===!1&&(s=c);var h=e-(c-s);return i=this,o=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,h)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u}function c0(t,e,n){var r,i,o,a,s,l=function(){var c=Oo()-i;e>c?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},u=ne(function(c){return s=this,o=c,i=Oo(),r||(r=setTimeout(l,e),n&&(a=t.apply(s,o))),a});return u.cancel=function(){clearTimeout(r),r=o=s=null},u}function f0(t,e){return ns(e,t)}function bu(t){return function(){return!t.apply(this,arguments)}}function h0(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function d0(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function md(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const p0=ns(md,2);function vd(t,e,n){e=jt(e,n);for(var r=bt(t),i,o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i}function yd(t){return function(e,n,r){n=jt(n,r);for(var i=Ft(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}const Au=yd(1),bd=yd(-1);function Ad(t,e,n,r){n=jt(n,r,1);for(var i=n(e),o=0,a=Ft(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function wd(t,e,n){return function(r,i,o){var a=0,s=Ft(r);if(typeof o=="number")t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(Z.call(r,a,s),si),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}const xd=wd(1,Au,Ad),_0=wd(-1,bd);function wu(t,e,n){var r=$t(t)?Au:vd,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function g0(t,e){return wu(t,To(e))}function Rn(t,e,n){e=Do(e,n);var r,i;if($t(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=bt(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function Tr(t,e,n){e=jt(e,n);for(var r=!$t(t)&&bt(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function Ed(t){var e=function(n,r,i,o){var a=!$t(n)&&bt(n),s=(a||n).length,l=t>0?0:s-1;for(o||(i=n[a?a[l]:l],l+=t);l>=0&&l<s;l+=t){var u=a?a[l]:l;i=r(i,n[u],u,n)}return i};return function(n,r,i,o){var a=arguments.length>=3;return e(n,Do(r,o,4),i,a)}}const xu=Ed(1),Cd=Ed(-1);function ci(t,e,n){var r=[];return e=jt(e,n),Rn(t,function(i,o,a){e(i,o,a)&&r.push(i)}),r}function m0(t,e,n){return ci(t,bu(jt(e)),n)}function kd(t,e,n){e=jt(e,n);for(var r=!$t(t)&&bt(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function Md(t,e,n){e=jt(e,n);for(var r=!$t(t)&&bt(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Fn(t,e,n,r){return $t(t)||(t=ui(t)),(typeof n!="number"||r)&&(n=0),xd(t,e,n)>=0}const v0=ne(function(t,e,n){var r,i;return ye(e)?i=e:(e=So(e),r=e.slice(0,-1),e=e[e.length-1]),Tr(t,function(o){var a=i;if(!a){if(r&&r.length&&(o=du(o,r)),o==null)return;a=o[e]}return a==null?a:a.apply(o,n)})});function Eu(t,e){return Tr(t,_u(e))}function y0(t,e){return ci(t,To(e))}function Bd(t,e,n){var r=-1/0,i=-1/0,o,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=$t(t)?t:ui(t);for(var s=0,l=t.length;s<l;s++)o=t[s],o!=null&&o>r&&(r=o)}else e=jt(e,n),Rn(t,function(u,c,h){a=e(u,c,h),(a>i||a===-1/0&&r===-1/0)&&(r=u,i=a)});return r}function b0(t,e,n){var r=1/0,i=1/0,o,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=$t(t)?t:ui(t);for(var s=0,l=t.length;s<l;s++)o=t[s],o!=null&&o<r&&(r=o)}else e=jt(e,n),Rn(t,function(u,c,h){a=e(u,c,h),(a<i||a===1/0&&r===1/0)&&(r=u,i=a)});return r}var A0=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Sd(t){return t?Ce(t)?Z.call(t):vt(t)?t.match(A0):$t(t)?Tr(t,pu):ui(t):[]}function Td(t,e,n){if(e==null||n)return $t(t)||(t=ui(t)),t[mu(t.length-1)];var r=Sd(t),i=Ft(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=mu(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,e)}function w0(t){return Td(t,1/0)}function x0(t,e,n){var r=0;return e=jt(e,n),Eu(Tr(t,function(i,o,a){return{value:i,index:r++,criteria:e(i,o,a)}}).sort(function(i,o){var a=i.criteria,s=o.criteria;if(a!==s){if(a>s||a===void 0)return 1;if(a<s||s===void 0)return-1}return i.index-o.index}),"value")}function rs(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=jt(r,i),Rn(n,function(a,s){var l=r(a,s,n);t(o,a,l)}),o}}const E0=rs(function(t,e,n){Ie(t,n)?t[n].push(e):t[n]=[e]}),C0=rs(function(t,e,n){t[n]=e}),k0=rs(function(t,e,n){Ie(t,n)?t[n]++:t[n]=1}),M0=rs(function(t,e,n){t[n?0:1].push(e)},!0);function B0(t){return t==null?0:$t(t)?t.length:bt(t).length}function S0(t,e,n){return e in n}const Dd=ne(function(t,e){var n={},r=e[0];if(t==null)return n;ye(r)?(e.length>1&&(r=Do(r,e[1])),e=Bo(t)):(r=S0,e=Sr(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),T0=ne(function(t,e){var n=e[0],r;return ye(n)?(n=bu(n),e.length>1&&(r=e[1])):(e=Tr(Sr(e,!1,!1),String),n=function(i,o){return!Fn(e,o)}),Dd(t,n,r)});function Od(t,e,n){return Z.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Cu(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:Od(t,t.length-e)}function is(t,e,n){return Z.call(t,e==null||n?1:e)}function D0(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:is(t,Math.max(0,t.length-e))}function O0(t){return ci(t,Boolean)}function z0(t,e){return Sr(t,e,!1)}const zd=ne(function(t,e){return e=Sr(e,!0,!0),ci(t,function(n){return!Fn(e,n)})}),I0=ne(function(t,e){return zd(t,e)});function ku(t,e,n,r){Te(e)||(r=n,n=e,e=!1),n!=null&&(n=jt(n,r));for(var i=[],o=[],a=0,s=Ft(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e&&!n?((!a||o!==u)&&i.push(l),o=u):n?Fn(o,u)||(o.push(u),i.push(l)):Fn(i,l)||i.push(l)}return i}const P0=ne(function(t){return ku(Sr(t,!0,!0))});function N0(t){for(var e=[],n=arguments.length,r=0,i=Ft(t);r<i;r++){var o=t[r];if(!Fn(e,o)){var a;for(a=1;a<n&&Fn(arguments[a],o);a++);a===n&&e.push(o)}}return e}function Mu(t){for(var e=t&&Bd(t,Ft).length||0,n=Array(e),r=0;r<e;r++)n[r]=Eu(t,r);return n}const L0=ne(Mu);function R0(t,e){for(var n={},r=0,i=Ft(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function F0(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function j0(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Z.call(t,r,r+=e));return n}function Bu(t,e){return t._chain?$e(e).chain():e}function Id(t){return Rn(fu(t),function(e){var n=$e[e]=t[e];$e.prototype[e]=function(){var r=[this._wrapped];return X.apply(r,arguments),Bu(this,n.apply($e,r))}}),$e}Rn(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=j[t];$e.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),Bu(this,n)}}),Rn(["concat","join","slice"],function(t){var e=j[t];$e.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),Bu(this,n)}});const U0=$e;var Su=Id(z);Su._=Su;const ge=Su;var zo,lt,Pd,Nd,Dr,Ld,Rd,Tu,Du,Ou,zu,Fd,Io={},jd=[],W0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,os=Array.isArray;function jn(t,e){for(var n in e)t[n]=e[n];return t}function Ud(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function B(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?zo.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return Po(t,a,r,i,null)}function Po(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Pd,__i:-1,__u:0};return i==null&&lt.vnode!=null&&lt.vnode(o),o}function Y0(){return{current:null}}function No(t){return t.children}function Ct(t,e){this.props=t,this.context=e}function fi(t,e){if(e==null)return t.__?fi(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?fi(t):null}function Wd(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Wd(t)}}function Iu(t){(!t.__d&&(t.__d=!0)&&Dr.push(t)&&!as.__r++||Ld!==lt.debounceRendering)&&((Ld=lt.debounceRendering)||Rd)(as)}function as(){var t,e,n,r,i,o,a,s;for(Dr.sort(Tu);t=Dr.shift();)t.__d&&(e=Dr.length,r=void 0,o=(i=(n=t).__v).__e,a=[],s=[],n.__P&&((r=jn({},i)).__v=i.__v+1,lt.vnode&&lt.vnode(r),Pu(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??fi(i),!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,Xd(a,r,s),r.__e!=o&&Wd(r)),Dr.length>e&&Dr.sort(Tu));as.__r=0}function Yd(t,e,n,r,i,o,a,s,l,u,c){var h,p,g,v,m,y=r&&r.__k||jd,A=e.length;for(n.__d=l,V0(n,e,y),l=n.__d,h=0;h<A;h++)(g=n.__k[h])!=null&&(p=g.__i===-1?Io:y[g.__i]||Io,g.__i=h,Pu(t,g,p,i,o,a,s,l,u,c),v=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&Nu(p.ref,null,g),c.push(g.ref,g.__c||v,g)),m==null&&v!=null&&(m=v),65536&g.__u||p.__k===g.__k?l=Vd(g,l,t):typeof g.type=="function"&&g.__d!==void 0?l=g.__d:v&&(l=v.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=l,n.__e=m}function V0(t,e,n){var r,i,o,a,s,l=e.length,u=n.length,c=u,h=0;for(t.__k=[],r=0;r<l;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+h,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Po(null,i,null,null,null):os(i)?Po(No,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Po(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,o=null,(s=i.__i=G0(i,n,a,c))!==-1&&(c--,(o=n[s])&&(o.__u|=131072)),o==null||o.__v===null?(s==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):s!==a&&(s==a-1?h--:s==a+1?h++:(s>a?h--:h++,i.__u|=65536))):i=t.__k[r]=null;if(c)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=fi(o)),Zd(o,o))}function Vd(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Vd(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=fi(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Gd(t,e){return e=e||[],t==null||typeof t=="boolean"||(os(t)?t.some(function(n){Gd(n,e)}):e.push(t)),e}function G0(t,e,n,r){var i=t.key,o=t.type,a=n-1,s=n+1,l=e[n];if(l===null||l&&i==l.key&&o===l.type&&!(131072&l.__u))return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||s<e.length;){if(a>=0){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a--}if(s<e.length){if((l=e[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s++}}return-1}function Hd(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||W0.test(e)?n:n+"px"}function ss(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Hd(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Hd(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=Du,t.addEventListener(e,o?zu:Ou,o)):t.removeEventListener(e,o?zu:Ou,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Qd(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Du++;else if(e.t<n.u)return;return n(lt.event?lt.event(e):e)}}}function Pu(t,e,n,r,i,o,a,s,l,u){var c,h,p,g,v,m,y,A,E,k,x,M,I,D,N,O,W=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[s=e.__e=n.__e]),(c=lt.__b)&&c(e);e:if(typeof W=="function")try{if(A=e.props,E="prototype"in W&&W.prototype.render,k=(c=W.contextType)&&r[c.__c],x=c?k?k.props.value:c.__:r,n.__c?y=(h=e.__c=n.__c).__=h.__E:(E?e.__c=h=new W(A,x):(e.__c=h=new Ct(A,x),h.constructor=W,h.render=Q0),k&&k.sub(h),h.props=A,h.state||(h.state={}),h.context=x,h.__n=r,p=h.__d=!0,h.__h=[],h._sb=[]),E&&h.__s==null&&(h.__s=h.state),E&&W.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=jn({},h.__s)),jn(h.__s,W.getDerivedStateFromProps(A,h.__s))),g=h.props,v=h.state,h.__v=e,p)E&&W.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),E&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(E&&W.getDerivedStateFromProps==null&&A!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(A,x),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(A,h.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=A,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(F){F&&(F.__=e)}),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(A,h.__s,x),E&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,v,m)})}if(h.context=x,h.props=A,h.__P=t,h.__e=!1,I=lt.__r,D=0,E){for(h.state=h.__s,h.__d=!1,I&&I(e),c=h.render(h.props,h.state,h.context),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[]}else do h.__d=!1,I&&I(e),c=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++D<25);h.state=h.__s,h.getChildContext!=null&&(r=jn(jn({},r),h.getChildContext())),E&&!p&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(g,v)),Yd(t,os(O=c!=null&&c.type===No&&c.key==null?c.props.children:c)?O:[O],e,n,r,i,o,a,s,l,u),h.base=e.__e,e.__u&=-161,h.__h.length&&a.push(h),y&&(h.__E=h.__=null)}catch(F){if(e.__v=null,l||o!=null){for(e.__u|=l?160:128;s&&s.nodeType===8&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,e.__e=s}else e.__e=n.__e,e.__k=n.__k;lt.__e(F,e,n)}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=H0(n.__e,e,n,r,i,o,a,l,u);(c=lt.diffed)&&c(e)}function Xd(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)Nu(n[r],n[++r],n[++r]);lt.__c&&lt.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){lt.__e(o,i.__v)}})}function H0(t,e,n,r,i,o,a,s,l){var u,c,h,p,g,v,m,y=n.props,A=e.props,E=e.type;if(E==="svg"?i="http://www.w3.org/2000/svg":E==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((g=o[u])&&"setAttribute"in g==!!E&&(E?g.localName===E:g.nodeType===3)){t=g,o[u]=null;break}}if(t==null){if(E===null)return document.createTextNode(A);t=document.createElementNS(i,E,A.is&&A),s&&(lt.__m&&lt.__m(e,o),s=!1),o=null}if(E===null)y===A||s&&t.data===A||(t.data=A);else{if(o=o&&zo.call(t.childNodes),y=n.props||Io,!s&&o!=null)for(y={},u=0;u<t.attributes.length;u++)y[(g=t.attributes[u]).name]=g.value;for(u in y)if(g=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=g;else if(!(u in A)){if(u=="value"&&"defaultValue"in A||u=="checked"&&"defaultChecked"in A)continue;ss(t,u,null,g,i)}}for(u in A)g=A[u],u=="children"?p=g:u=="dangerouslySetInnerHTML"?c=g:u=="value"?v=g:u=="checked"?m=g:s&&typeof g!="function"||y[u]===g||ss(t,u,g,y[u],i);if(c)s||h&&(c.__html===h.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(h&&(t.innerHTML=""),Yd(t,os(p)?p:[p],e,n,r,E==="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&fi(n,0),s,l),o!=null)for(u=o.length;u--;)Ud(o[u]);s||(u="value",E==="progress"&&v==null?t.removeAttribute("value"):v!==void 0&&(v!==t[u]||E==="progress"&&!v||E==="option"&&v!==y[u])&&ss(t,u,v,y[u],i),u="checked",m!==void 0&&m!==t[u]&&ss(t,u,m,y[u],i))}return t}function Nu(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){lt.__e(i,n)}}function Zd(t,e,n){var r,i;if(lt.unmount&&lt.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Nu(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){lt.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Zd(r[i],e,n||typeof t.type!="function");n||Ud(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Q0(t,e,n){return this.constructor(t,n)}function Lu(t,e,n){var r,i,o,a;lt.__&&lt.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],a=[],Pu(e,t=(!r&&n||e).__k=B(No,null,[t]),i||Io,Io,e.namespaceURI,!r&&n?[n]:i?null:e.firstChild?zo.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r,a),Xd(o,t,a)}function qd(t,e){Lu(t,e,qd)}function X0(t,e,n){var r,i,o,a,s=jn({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o]===void 0&&a!==void 0?a[o]:e[o];return arguments.length>2&&(s.children=arguments.length>3?zo.call(arguments,2):n),Po(t.type,s,r||t.key,i||t.ref,null)}function Z0(t,e){var n={__c:e="__cC"+Fd++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=new Set,(o={})[e]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.forEach(function(s){s.__e=!0,Iu(s)})},this.sub=function(a){i.add(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i&&i.delete(a),s&&s.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}zo=jd.slice,lt={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},Pd=0,Nd=function(t){return t!=null&&t.constructor==null},Ct.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=jn({},this.state),typeof t=="function"&&(t=t(jn({},n),this.props)),t&&jn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Iu(this))},Ct.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Iu(this))},Ct.prototype.render=No,Dr=[],Rd=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Tu=function(t,e){return t.__v.__b-e.__v.__b},as.__r=0,Du=0,Ou=Qd(!1),zu=Qd(!0),Fd=0;function kt(){}const Or=Array.isArray||function(t){return t instanceof Array};function zr(t){return t&&t._isObservable}function Ru(t,e){for(var n=0,r;n<t.length;n++)if(r=t[n],!e(r))return!1;return!0}function q0(t){return()=>t}function ls(t,e){for(var n=0,r;n<t.length;n++)if(r=t[n],e(r))return!0;return!1}function K0(t,e){return function(){return t.apply(e,arguments)}}function Kd(t,e){return us(t,e)!==-1}function J0(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];e(n,r)}}function $0(t){return t.length===0}function Fu(t,e){for(var n=[],r=0,i;r<e.length;r++)i=e[r],t(i)&&n.push(i);return n}function eA(t,e){return Uu(e,[],function(n,r){return n.concat(t(r))})}function ju(t){return(e,n)=>t(n,e)}function Uu(t,e,n){for(var r=0,i;r<t.length;r++)i=t[r],e=n(e,i);return e}function Jd(t){return t[0]}function tA(t){return t}function nA(t,e){return t.indexOf(e)}function rA(t,e){for(var n=0,r;n<t.length;n++)if(r=t[n],e===r)return n;return-1}const us=Array.prototype.indexOf?nA:rA;function iA(t,e){for(var n=0,r;n<t.length;n++)if(r=t[n],e(r))return n;return-1}function $d(t){return typeof t=="function"}function oA(t){return t[t.length-1]}function hi(t,e){for(var n=[],r=0,i;r<e.length;r++)i=e[r],n.push(t(i));return n}function aA(t){return function(e){return!t(e)}}function sA(t,e){var n=us(e,t);if(n>=0)return e.splice(n,1)}function ep(t){return t.slice(1,t.length)}function tp(t){return Or(t)?t:[t]}function cs(t){return typeof t=="function"?t:e=>t}function fs(t){var e={}.hasOwnProperty;try{if(hs++,t==null)return"undefined";if($d(t))return"function";if(Or(t))return hs>5?"[..]":"["+hi(fs,t).toString()+"]";if((t!=null?t.toString:void 0)!=null&&t.toString!==Object.prototype.toString)return t.toString();if(typeof t=="object"){if(hs>5)return"{..}";var n=[];for(var r in t){if(!e.call(t,r))continue;let i=function(){try{return t[r]}catch(o){return o}}();n.push(fs(r)+":"+fs(i))}return"{"+n+"}"}else return t}finally{hs--}}function lA(t,e){return Fu(function(n){return n!==t},e)}var je={indexOf:us,indexWhere:iA,head:Jd,always:q0,negate:aA,empty:$0,tail:ep,filter:Fu,map:hi,each:J0,toArray:tp,contains:Kd,id:tA,last:oA,all:Ru,any:ls,without:lA,remove:sA,fold:Uu,flatMap:eA,bind:K0,isFunction:$d,toFunction:cs,toString:fs},hs=0;const Re=void 0,Ke="<no-more>";function Wu(t,e){if(!e)throw new Error(t)}function uA(t){if(!(t!=null&&t._isEventStream))throw new Error("not an EventStream : "+t)}function cA(t){if(!(t!=null&&t._isObservable))throw new Error("not an Observable : "+t)}function Lo(t){return Wu("not a function : "+t,je.isFunction(t))}function fA(t){if(!Or(t))throw new Error("not an array : "+t)}function hA(t){return Wu("no arguments supported",t.length===0)}const xn={scheduler:{setTimeout(t,e){return setTimeout(t,e)},setInterval(t,e){return setInterval(t,e)},clearInterval(t){return clearInterval(t)},clearTimeout(t){return clearTimeout(t)},now(){return new Date().getTime()}}};function dA(){return xn.scheduler}function pA(t){xn.scheduler=t}var _n=void 0,lr=[],di={},ur=[],cn=0,ds={},Ro=!1;function _A(){return je.toString({rootEvent:_n,processingAfters:Ro,waiterObs:lr,waiters:di,aftersStack:ur,aftersStackHeight:cn,flushed:ds})}function np(t){t<=cn||(ur[t-1]||(ur[t-1]=[[],0]),cn=t)}function gA(){return _n!==void 0}function mA(t,e){_n?op(t,e):xn.scheduler.setTimeout(e,0)}function rp(t,e){if(_n||Ro){np(1);for(var n=0;n<cn-1&&!vA(t,ur[n][0]);)n++;var r=ur[n][0];r.push([t,e]),_n||ip()}else return e()}function vA(t,e){for(var n=0;n<e.length;n++)if(e[n][0].id==t.id)return!0;return!1}function ip(){let t=cn;if(!t)return;let e=!Ro;Ro=!0;try{for(;cn>=t;){var n=ur[cn-1];if(!n)throw new Error("Unexpected stack top: "+n);var[r,i]=n;if(i<r.length){var[,o]=r[i];n[1]++,np(cn+1);var a=!1;try{for(o(),a=!0;cn>t&&ur[cn-1][0].length==0;)cn--}finally{a||(ur=[],cn=0)}}else{n[0]=[],n[1]=0;break}}}finally{e&&(Ro=!1)}}function op(t,e){if(_n){var n=di[t.id];return n===void 0?(n=di[t.id]=[e],lr.push(t)):n.push(e)}else return e()}function yA(){for(;lr.length>0;)ap(0,!0);ds={}}function ap(t,e){var n=lr[t],r=n.id,i=di[r];lr.splice(t,1),delete di[r],e&&lr.length>0&&sp(n);for(var o=0,a;o<i.length;o++)a=i[o],a()}function sp(t){if(!ds[t.id]){for(var e=t.internalDeps(),n=0,r;n<e.length;n++)if(r=e[n],sp(r),di[r.id]){var i=je.indexOf(lr,r);ap(i,!1)}ds[t.id]=!0}}function bA(t,e,n,r){if(_n)return n.apply(e,r);_n=t;try{var i=n.apply(e,r);yA()}finally{_n=void 0,ip()}return i}function AA(){return _n?_n.id:void 0}function wA(t,e,n){Lo(n);let r=!1,i=!1,o=()=>{i=!0},a=()=>{r=!0,o()};return o=e(function(s){return rp(t,function(){if(!r){var l=n(s);l===Ke&&a()}}),Re}),i&&o(),a}function xA(){return lr.length>0}var It={toString:_A,whenDoneWith:op,hasWaiters:xA,inTransaction:bA,currentEventId:AA,wrappedSubscribe:wA,afterTransaction:rp,soonButNotYet:mA,isInTransaction:gA};class _e{constructor(e,n,r=[]){this._isDesc=!0,this.context=e,this.method=n,this.args=r}deps(){return this.cachedDeps||(this.cachedDeps=lp([this.context].concat(this.args))),this.cachedDeps}toString(){let e=je.map(je.toString,this.args);return je.toString(this.context)+"."+je.toString(this.method)+"("+e+")"}}function ps(t,e,...n){const r=t||e;return r&&r._isDesc?t||e:new _e(t,e,n)}function lp(t){return Or(t)?je.flatMap(lp,t):zr(t)?[t]:typeof t<"u"&&t!==null&&t._isSource?[t.obs]:[]}const Ir=()=>Re,up=()=>Re;function Yu(t,e,n){return n.transform(EA(t,e),new _e(n,"withStateMachine",[t,e]))}function EA(t,e){let n=t;return(r,i)=>{var o=e(n,r),[a,s]=o;n=a;for(var l=Re,u=0;u<s.length;u++){let c=s[u];if(l=i(c),l===Ke)return l}return l}}class cr{constructor(e){this._isSome=!0,this.isDefined=!0,this.value=e}getOrElse(e){return this.value}get(){return this.value}filter(e){return e(this.value)?new cr(this.value):_s}map(e){return new cr(e(this.value))}forEach(e){e(this.value)}toArray(){return[this.value]}inspect(){return"Some("+this.value+")"}toString(){return this.inspect()}}const _s={_isNone:!0,getOrElse(t){return t},get(){throw new Error("None.get()")},filter(){return _s},map(){return _s},forEach(){},isDefined:!1,toArray(){return[]},inspect(){return"None"},toString(){return this.inspect()}};function gs(){return _s}function CA(t){return t&&(t._isSome||t._isNone)?t:new cr(t)}function kA(t){return typeof t<"u"&&t!==null?t._isNone:!1}var MA=0;class ms{constructor(){this.id=++MA,this.isEvent=!0,this._isEvent=!0,this.isEnd=!1,this.isInitial=!1,this.isNext=!1,this.isError=!1,this.hasValue=!1}filter(e){return!0}inspect(){return this.toString()}log(){return this.toString()}toNext(){return this}}class Fo extends ms{constructor(e){if(super(),this.hasValue=!0,e instanceof ms)throw new fr("Wrapping an event inside other event");this.value=e}fmap(e){return this.apply(e(this.value))}filter(e){return e(this.value)}toString(){return je.toString(this.value)}log(){return this.value}}class pi extends Fo{constructor(e){super(e),this.isNext=!0,this._isNext=!0}apply(e){return new pi(e)}}class _i extends Fo{constructor(e){super(e),this.isInitial=!0,this._isInitial=!0}apply(e){return new _i(e)}toNext(){return new pi(this.value)}}class cp extends ms{constructor(){super(...arguments),this.hasValue=!1}fmap(e){return this}}class vs extends cp{constructor(){super(...arguments),this.isEnd=!0}toString(){return"<end>"}}class fr extends cp{constructor(e){super(),this.isError=!0,this.error=e}toString(){return"<error> "+je.toString(this.error)}}function Vu(t){return new _i(t)}function En(t){return new pi(t)}function et(){return new vs}function gi(t){return t&&t._isEvent?t:En(t)}function fp(t){return t&&t._isEvent}function hp(t){return t&&t._isInitial}function Cn(t){return t.isError}function Pt(t){return t.hasValue}function mi(t){return t.isEnd}function BA(t){return t.isNext}function SA(t,e){return t===e}function TA(t,e=SA){let n=new _e(t,"skipDuplicates",[]);return Yu(gs(),function(r,i){return Pt(i)?i.isInitial||kA(r)||!e(r.get(),i.value)?[new cr(i.value),[i]]:[r,[]]:[r,[i]]},t).withDesc(n)}function dp(t,e,n){return e.transform(pp(t),n||new _e(e,"take",[t]))}function pp(t){return(e,n)=>e.hasValue?(t--,t>0?n(e):(t===0&&n(e),n(et()),Ke)):n(e)}function DA(t,e){e.subscribe(function(n){return typeof console<"u"&&typeof console.log=="function"&&console.log(...t.concat([n.log()])),Re})}function OA(t){return(e,n)=>(typeof console<"u"&&console!==null&&typeof console.log=="function"&&console.log(...t.concat([e.log()])),n(e))}function zA(t){return(e,n)=>(Cn(e)&&t(e.error),n(e))}function IA(t){return(e,n)=>(Pt(e)&&t(e.value),n(e))}function PA(t){return(e,n)=>(mi(e)&&t(),n(e))}function _p(t,e,n){let r,i=e,o=!1;const a=s=>{var l=!1,u=kt,c=Re;const h=function(){return l||(l=o=!0,c=s(new _i(i)),c===Ke&&(u(),u=kt)),c};return u=t.subscribeInternal(function(p){if(Pt(p)){if(o&&p.isInitial)return Re;p.isInitial||h(),l=o=!0;var g=i,v=n(g,p.value);return i=v,s(p.apply(v))}else return p.isEnd&&(c=h()),c!==Ke?s(p):c}),It.whenDoneWith(r,h),u};return r=new kn(new _e(t,"scan",[e,n]),a)}function NA(t){let e=je.toFunction(t);return function(n,r){return mi(n)?(r(En(e(n))),r(et()),Ke):r(n)}}function LA(t){let e=je.toFunction(t);return function(n,r){return Cn(n)?r(En(e(n.error))):r(n)}}function RA(t){return t.transform(function(e,n){return Cn(e)?Re:n(e)},new _e(t,"skipErrors",[]))}function FA(t){var e;return t.transform(function(n,r){return mi(n)?(e&&r(e),r(et()),Ke):Pt(n)?(e=n,Re):r(n)}).withDesc(new _e(t,"last",[]))}class jo{constructor(e=[]){this.unsubscribed=!1,this.unsubscribe=je.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var n=0,r;n<e.length;n++)r=e[n],this.add(r)}add(e){if(!this.unsubscribed){var n=!1,r=kt;this.starting.push(e);var i=()=>{this.unsubscribed||(n=!0,this.remove(r),je.remove(e,this.starting))};r=e(this.unsubscribe,i),this.unsubscribed||n?r():this.subscriptions.push(r),je.remove(e,this.starting)}}remove(e){if(!this.unsubscribed&&je.remove(e,this.subscriptions)!==void 0)return e()}unsubscribe(){if(!this.unsubscribed){this.unsubscribed=!0;for(var e=this.subscriptions,n=0;n<e.length;n++)e[n]();this.subscriptions=[],this.starting=[]}}count(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length}empty(){return this.count()===0}}function gp(t,e){return function(n){var r=!1,i=!1,o=kt,a=Re,s=function(){if(!r)return t.forEach(function(l){if(r=!0,a=n(new _i(l)),a===Ke)return o(),o=kt,kt})};return o=e(function(l){return l instanceof Fo?l.isInitial&&!i?(t=new cr(l.value),Re):(l.isInitial||s(),r=!0,t=new cr(l.value),n(l)):(l.isEnd&&(a=s()),a!==Ke?n(l):a)}),i=!0,s(),o}}function Gu(t,e){return Lo(e),new kn(t,gp(gs(),e))}function Un(t){const e=new gt(new _e("Bacon","once",[t]),function(n){return It.soonButNotYet(e,function(){n(gi(t)),n(et())}),kt});return e}function vi(t,e,n={}){const r=e,i=[r],o=[],a=e._isProperty,s=a?Gu:Qw;let l=!1;const u=n.desc||new _e(e,"flatMap_",[t]),c=s(u,function(h){const p=new jo,g=[];function v(A){if(a&&A.isInitial){if(l)return Re;l=!0}const E=Hu(t(A));return o.push(E),p.add(function(k,x){return E.subscribeInternal(function(M){if(M.isEnd)return je.remove(E,o),m(),y(x),Ke;{M=M.toNext();const I=h(M);return I===Ke&&k(),I}})})}function m(){const A=g.shift();A&&v(A)}function y(A){return A(),p.empty()?h(et()):Re}return p.add(function(A,E){return r.subscribeInternal(function(k){return k.isEnd?y(E):k.isError&&!n.mapError?h(k):n.firstOnly&&p.count()>1?Re:p.unsubscribed?Ke:(n.limit&&p.count()>n.limit?g.push(k):v(k),Re)})}),p.unsubscribe});return c.internalDeps=function(){return o.length?i.concat(o):i},c}function ys(t){return typeof t=="function"?e=>Pt(e)?t(e.value):e:e=>t}function Hu(t){return zr(t)?t:Un(t)}function mp(t,e){return vi(e,t,{mapError:!0,desc:new _e(t,"flatMapEvent",[e])})}function jA(t){return t.transform((e,n)=>mi(e)?(n(En({})),n(et()),Ke):Re)}function UA(t,e=n=>!0){return t.transform((n,r)=>Cn(n)&&e(n.error)?(r(n),r(et())):r(n),new _e(t,"endOnError",[]))}class Qu{constructor(e,n){this._isSource=!0,this.flatten=!0,this.ended=!1,this.obs=e,this.sync=n}subscribe(e){return this.obs.subscribeInternal(e)}toString(){return this.obs.toString()}markEnded(){this.ended=!0}mayHave(e){return!0}}class yi extends Qu{consume(){return this.value}push(e){this.value=e}hasAtLeast(e){return!!this.value}}class WA extends Qu{constructor(e,n){super(e,n),this.flatten=!1,this.queue=[]}consume(){return this.queue.shift()}push(e){this.queue.push(e)}mayHave(e){return!this.ended||this.queue.length>=e}hasAtLeast(e){return this.queue.length>=e}}class YA extends Qu{constructor(e){super(e,!0),this.queue=[]}consume(){const e=this.queue;return this.queue=[],{value:e}}push(e){return this.queue.push(e.value)}hasAtLeast(e){return!0}}function VA(t){return t==null?!1:t._isSource?t.sync:t._isEventStream}function GA(t){return t!=null&&t._isSource?t:t!=null&&t._isProperty?new yi(t,!1):new WA(t,!0)}function bi(){return new gt(ps("Bacon","never"),t=>(t(et()),kt))}function Uo(...t){return Zu(Hw,t)}function Xu(...t){return Zu(Gu,t)}function Zu(t,e){if(e.length===0)return bi();var[n,r]=HA(vp(e));if(!n.length)return bi();var i=ls(n,s=>s.flatten)&&qA(hi(s=>s.obs,n)),o=new _e("Bacon","when",Array.prototype.slice.call(e)),a=t(o,function(s){var l=[],u=!1;function c(v){for(var m=0;m<v.ixs.length;m++){let y=v.ixs[m];if(!n[y.index].hasAtLeast(y.count))return!1}return!0}function h(v){for(var m=0;m<v.ixs.length;m++){let y=v.ixs[m];if(!n[y.index].mayHave(y.count))return!0}return!1}function p(v){return!v.source.flatten}function g(v){return function(m){function y(){return It.whenDoneWith(a,E)}function A(){var k;if((k=l.pop())!==void 0){for(var x=Re,M=0,I;M<r.length;M++)if(I=r[M],c(I)){const N=[];for(var D=0;D<I.ixs.length;D++){let W=n[I.ixs[D].index].consume();if(!W)throw new Error("Event was undefined");N.push(W.value)}let O=I.f.apply(null,N);return x=s(k.e.apply(O)),l.length&&(l=Fu(p,l)),x===Ke?x:A()}}return Re}function E(){var k=A();u&&(Ru(n,KA)||Ru(r,h))&&(k=Ke,s(et())),k===Ke&&m()}return v.subscribe(function(k){var x=Re;if(k.isEnd)u=!0,v.markEnded(),y();else if(k.isError)x=s(k);else{let M=k;v.push(M),v.sync&&(l.push({source:v,e:M}),i||It.hasWaiters()?y():E())}return x===Ke&&m(),x})}}return new jo(hi(g,n)).unsubscribe});return a}function HA(t){var e=[],n=[];for(let u=0;u<t.length;u++){let[c,h]=t[u];for(var r={f:h,ixs:[]},i=!1,o=0,a;o<c.length;o++){a=c[o];var s=us(e,a);i||(i=VA(a)),s<0&&(e.push(a),s=e.length-1);for(var l=0;l<r.ixs.length;l++){let p=r.ixs[l];p.index===s&&p.count++}r.ixs.push({index:s,count:1})}if(c.length>0&&!i)throw new Error("At least one EventStream required, none found in "+c);c.length>0&&n.push(r)}return[hi(GA,e),n]}function QA(t){for(var e=0,n=t.length,r=[];e<n;){let o=tp(t[e++]),a=cs(t[e++]);r.push([o,a])}var i="when: expecting arguments in the form (Observable+,function)+";return Wu(i,n%2===0),r}function XA(t){return t instanceof Array&&!zr(t[t.length-1])}function ZA(t){return t[0]instanceof Array}function vp(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(!XA(r))return QA(t);if(ZA(r))e.push([r[0],cs(r[1])]);else{let i=r.slice(0,r.length-1),o=cs(r[r.length-1]);e.push([i,o])}}return e}function qA(t,e=[]){function n(r){if(Kd(e,r))return!0;var i=r.internalDeps();return i.length?(e.push(r),ls(i,n)):(e.push(r),!1)}return ls(t,n)}function KA(t){return!t.sync||t.ended}function yp(t,e,n){var r=Uo([new yi(e.toProperty(),!1),new yi(t,!0),ju(n)]);return r.withDesc(new _e(t,"withLatestFrom",[e,n]))}function bp(t,e,n){var r=Xu([new yi(e.toProperty(),!1),new yi(t,!0),ju(n)]);return r.withDesc(new _e(t,"withLatestFrom",[e,n]))}function qu(t,e,n){if(t instanceof kn)return bp(t,e,n);if(t instanceof gt)return yp(t,e,n);throw new Error("Unknown observable: "+t)}function Ap(t,e){return e instanceof kn?qu(t,e,(n,r)=>r):t.transform(Wo(e),new _e(t,"map",[e]))}function Wo(t){let e=je.toFunction(t);return(n,r)=>r(n.fmap(e))}function Ai(t){return new kn(new _e("Bacon","constant",[t]),function(e){return e(Vu(t)),e(et()),kt})}function hr(t){return t=Array.prototype.slice.call(t),je.flatMap(JA,t)}function JA(t){return zr(t)?[t]:Or(t)?hr(t):[Ai(t)]}function wp(t){return je.isFunction(t[0])?[hr(Array.prototype.slice.call(t,1)),t[0]]:[hr(Array.prototype.slice.call(t,0,t.length-1)),je.last(t)]}function $A(...t){return Ku(hr(t))}function Ku(t,e){let n=je.map(i=>new YA(i),t);return Zu((i,o)=>new gt(i,o,void 0,e),[n,function(...i){return i}]).withDesc(new _e("Bacon","groupSimultaneous",t))}function ew(t,e){return Ku([t,e],Pr).map(n=>n[1].length===0).toProperty(!1).skipDuplicates().withDesc(new _e(t,"awaiting",[e]))}function Yo(...t){if(t=hr(t),t.length){for(var e=[],n=0;n<t.length;n++){let r=zr(t[n])?t[n]:Ai(t[n]);e.push(Ju(r))}return Xu([e,(...r)=>r]).withDesc(new _e("Bacon","combineAsArray",t))}else return Ai([])}function xp(...t){var[e,n]=wp(arguments),r=new _e("Bacon","combineWith",[n,...e]);return Yo(e).map(function(i){return n(...i)}).withDesc(r)}const tw=xp;function Ep(t,e,n){return Xu([[Ju(t),Ju(e)],n]).withDesc(new _e(t,"combine",[e,n]))}function Ju(t){return new yi(t,!0)}function nw(t,e){return t.transform((n,r)=>n.hasValue&&e>0?(e--,Re):r(n),new _e(t,"skip",[e]))}function Cp(t,e){return vi(ys(e),t,{desc:new _e(t,"flatMapConcat",[e]),limit:1})}function Wn(t,e=je.id){var n=new _e("Bacon","fromBinder",[t,e]);return new gt(n,function(r){var i=!1,o=!1,a=function(){if(!i)return typeof s<"u"&&s!==null?(s(),i=!0):o=!0},s=t(function(...l){var u=e(...l);let c=Or(u)&&fp(je.last(u))?u:[u];for(var h=Re,p=0;p<c.length;p++){let g=gi(c[p]);if(h=r(g),h===Ke||g.isEnd)return a(),h}return h});return o&&a(),a})}function bs(t,e){var n=new _e("Bacon","fromPoll",[t,e]);return Wn(function(r){var i=xn.scheduler.setInterval(r,t);return function(){return xn.scheduler.clearInterval(i)}},e).withDesc(n)}function kp(t,e){return bs(t,function(){return En(e)}).withDesc(new _e("Bacon","interval",[t,e]))}function rw(t){return typeof t=="function"?t:je.id}function iw(t,e,n){return t instanceof gt?ow(t,e,n):$u(t,e,n)}function $u(t,e,n){let r=rw(n);var i=qu(e,t,ju(r));return i.withDesc(new _e(t,"sampledBy",[e]))}function ow(t,e,n){return $u(t.toProperty(),e,n).withDesc(new _e(t,"sampledBy",[e]))}function aw(t,e){return $u(t,kp(e,{}),(n,r)=>n).withDesc(new _e(t,"sample",[e]))}function Mp(t,e,n){return new kn(new _e(t,"transform",[e]),r=>t.subscribeInternal(i=>e(i,r))).withDesc(n)}function sw(t,e,n){return new gt(new _e(t,"transform",[e]),r=>t.subscribeInternal(i=>e(i,r)),void 0,Pr).withDesc(n)}function As(t,e){let n;const r=i=>e(i,n);return(i,o)=>(n=o,t(i,r))}function lw(t){if(typeof t=="boolean")return je.always(t);if(typeof t!="function")throw new Error("Not a function: "+t);return t}function ec(t,e,n,r){return e instanceof kn?qu(t,e,(i,o)=>[i,o]).transform(As(n(i=>i[1]),Wo(i=>i[0])),r):t.transform(n(lw(e)),r)}function uw(t,e){return ec(t,e,tc,new _e(t,"filter",[e]))}function tc(t){return(e,n)=>e.filter(t)?n(e):Re}function Bp(t){return t.map(e=>!e).withDesc(new _e(t,"not",[]))}function cw(t,e){return t.combine(Sp(e),(n,r)=>!!(n&&r)).withDesc(new _e(t,"and",[e]))}function fw(t,e){return t.combine(Sp(e),(n,r)=>n||r).withDesc(new _e(t,"or",[e]))}function Sp(t){return ws(t)?t:Ai(t)}function Tp(t,e){return vi(ys(e),t,{firstOnly:!0,desc:new _e(t,"flatMapFirst",[e])})}function hw(t,e,n){return new gt(new _e(t,"concat",[e]),function(r){var i=kt,o=t.dispatcher.subscribe(function(a){return a.isEnd?(i=e.toEventStream().dispatcher.subscribe(r),Re):r(a)});return function(){return o(),i()}},void 0,n)}function dw(...t){let e=hr(t);return(e.length?Uu(ep(e),Jd(e).toEventStream(),(n,r)=>n.concat(r)):bi()).withDesc(new _e("Bacon","concatAll",e))}function pw(t,e,n){let r,i;const o=new gt(ps(t,"changes",[]),l=>t.dispatcher.subscribe(function(u){return!r&&hp(u)&&(r=u,It.whenDoneWith(s,function(){if(!i)throw new Error("Init sequence fail");i(r)})),u.isInitial?Re:l(u)}),void 0,Pr),a=e(o),s=Gu(n,l=>(i=l,a.dispatcher.subscribe(function(u){l(u)})));return s}function Dp(t,e,n){return t.scan(e,n).last().withDesc(new _e(t,"fold",[e,n]))}function _w(t,e){return Un(e).concat(t).withDesc(new _e(t,"startWith",[e]))}function gw(t,e){return t.scan(e,(n,r)=>r).withDesc(new _e(t,"startWith",[e]))}const Op={};function mw(t,e){let n=t.mapEnd(Op),r=Ku([n,e.skipErrors()],Pr);return t instanceof kn&&(r=r.toProperty()),r.transform(function(i,o){if(Pt(i)){var[a,s]=i.value;if(s.length)return o(et());for(var l=Re,u=0;u<a.length;u++){let c=a[u];if(c===Op)return o(et());l=o(En(c))}return l}else return o(i)},new _e(t,"takeUntil",[e]))}function nc(t,e){return vi(ys(e),t,{desc:new _e(t,"flatMap",[e])})}function zp(t,e){return vi(n=>{if(n instanceof fr){let r=n.error;return e(r)}else return n},t,{mapError:!0,desc:new _e(t,"flatMapError",[e])})}var rc=[],ic=!1;function Ip(t){if(rc.length&&!ic)try{ic=!0,rc.forEach(function(e){e(t)})}finally{ic=!1}}const vw=t=>rc.push(t);function Pp(t,e){let n=je.toFunction(e);var r=ws(t)?t.toEventStream(Pr):t;let i=nc(r,o=>Hu(n(o)).takeUntil(r));return ws(t)&&(i=i.toProperty()),i.withDesc(new _e(t,"flatMapLatest",[n]))}class Np{constructor(e,n,r){this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this._subscribe=n,this._handleEvent=r,this.subscribe=je.bind(this.subscribe,this),this.handleEvent=je.bind(this.handleEvent,this),this.subscriptions=[],this.observable=e,this.queue=[]}hasSubscribers(){return this.subscriptions.length>0}removeSub(e){return this.subscriptions=je.without(e,this.subscriptions),this.subscriptions}push(e){return e.isEnd&&(this.ended=!0),It.inTransaction(e,this,this.pushIt,[e])}pushToSubscriptions(e){try{let n=this.subscriptions;const r=n.length;for(let i=0;i<r;i++){const o=n[i];(o.sink(e)===Ke||e.isEnd)&&this.removeSub(o)}return!0}catch(n){throw this.pushing=!1,this.queue=[],n}}pushIt(e){if(this.pushing)return this.queue.push(e),Re;if(e===this.prevError)return;for(e.isError&&(this.prevError=e),this.pushing=!0,this.pushToSubscriptions(e),this.pushing=!1;;){let n=this.queue.shift();if(n)this.push(n);else break}return this.hasSubscribers()?Re:(this.unsubscribeFromSource(),Ke)}handleEvent(e){return this._handleEvent?this._handleEvent(e):this.push(e)}unsubscribeFromSource(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0}subscribe(e){if(this.ended)return e(et()),kt;{Lo(e);let n={sink:e};return this.subscriptions.push(n),this.subscriptions.length===1&&(this.unsubSrc=this._subscribe(this.handleEvent),Lo(this.unsubSrc)),()=>{if(this.removeSub(n),!this.hasSubscribers())return this.unsubscribeFromSource()}}}inspect(){return this.observable.toString()}}class yw extends Np{constructor(e,n,r){super(e,n,r),this.current=gs(),this.propertyEnded=!1,this.subscribe=je.bind(this.subscribe,this)}push(e){return e.isEnd&&(this.propertyEnded=!0),e instanceof Fo?(this.current=new cr(e),this.currentValueRootId=It.currentEventId()):e.hasValue&&console.error("Unknown event, two Bacons loaded?",e.constructor),super.push(e)}maybeSubSource(e,n){return n===Ke?kt:this.propertyEnded?(e(et()),kt):super.subscribe(e)}subscribe(e){var n=Re;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var r=It.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&r&&r!==i?(It.whenDoneWith(this.observable,()=>{if(this.currentValueRootId===i)return e(Vu(this.current.get().value))}),this.maybeSubSource(e,n)):(It.inTransaction(void 0,this,()=>(n=e(Vu(this.current.get().value)),n),[]),this.maybeSubSource(e,n))}else return this.maybeSubSource(e,n)}inspect(){return this.observable+" current= "+this.current}}function Lp(t,e,n){return vi(ys(n),t,{desc:new _e(t,"flatMapWithConcurrencyLimit",[e,n]),limit:e})}function bw(t,e){return oc(t,e,Number.MAX_VALUE).withDesc(new _e(t,"bufferWithTime",[e]))}function Aw(t,e){return oc(t,void 0,e).withDesc(new _e(t,"bufferWithCount",[e]))}function oc(t,e,n){const r=xw(e);function i(a){if(a.values.length===n)return a.flush();if(r!==void 0)return a.schedule(r)}var o=new _e(t,"bufferWithTimeOrCount",[e,n]);return Ew(t,i,i).withDesc(o)}class ww{constructor(e,n){this.push=r=>Re,this.scheduled=null,this.end=void 0,this.values=[],this.onFlush=e,this.onInput=n}flush(){if(this.scheduled&&(xn.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var e=this.values;this.values=[];var n=this.push(En(e));if(this.end!=null)return this.push(this.end);if(n!==Ke)return this.onFlush(this)}else if(this.end!=null)return this.push(this.end)}schedule(e){if(!this.scheduled)return this.scheduled=e(()=>this.flush())}}function xw(t){if(t!==void 0){if(typeof t=="number"){var e=t;return function(n){return xn.scheduler.setTimeout(n,e)}}return t}}function Ew(t,e=kt,n=kt){var r=Re,i=new ww(n,e);return t.transform((o,a)=>(i.push=a,Pt(o)?(i.values.push(o.value),e(i)):Cn(o)?r=a(o):mi(o)&&(i.end=o,i.scheduled||i.flush()),r)).withDesc(new _e(t,"buffer",[]))}function Cw(t,e){var n=!1;return function(i){const o=It.isInTransaction();n=!0;var a;function s(){var l=a||[];a=void 0;for(var u=0;u<l.length;u++){var c=l[u];i(c)}}try{return e(function(u){return n||a?(a?a.push(u):(a=[u],o?It.soonButNotYet(t,s):xn.scheduler.setTimeout(s,0)),Re):i(u)})}finally{n=!1}}}function Rp(...t){let e=hr(t);return e.length?new gt(new _e("Bacon","mergeAll",e),function(n){var r=0,i=function(a){return function(s){return a.subscribeInternal(function(l){if(l.isEnd)return r++,r===e.length?n(et()):Re;l=l.toNext();var u=n(l);return u===Ke&&s(),u})}},o=hi(i,e);return new jo(o).unsubscribe}):bi()}function wi(t,e){return Wn(function(n){var r=function(){return n([gi(e),et()])},i=xn.scheduler.setTimeout(r,t);return function(){return xn.scheduler.clearTimeout(i)}}).withDesc(new _e("Bacon","later",[t,e]))}function kw(t,e){return t.transformChanges(new _e(t,"delay",[e]),function(n){return n.flatMap(function(r){return wi(e,r)})})}function Mw(t,e){return t.transformChanges(new _e(t,"debounce",[e]),function(n){return n.flatMapLatest(function(r){return wi(e,r)})})}function Bw(t,e){return t.transformChanges(new _e(t,"debounceImmediate",[e]),function(n){return n.flatMapFirst(function(r){return Un(r).concat(wi(e,r).errors())})})}function Sw(t,e){return t.transformChanges(new _e(t,"throttle",[e]),n=>n.bufferWithTime(e).map(r=>r[r.length-1]))}function Tw(t,e){var n=new _e(t,"bufferingThrottle",[e]);return t.transformChanges(n,r=>r.flatMapConcat(i=>Un(i).concat(wi(e,i).errors())))}function Dw(t,e){return ec(t,e,Ow,new _e(t,"takeWhile",[e]))}function Ow(t){return(e,n)=>e.filter(t)?n(e):(n(et()),Ke)}function zw(t,e){var n=e.transform(As(pp(1),Wo(!0))).toProperty().startWith(!1);return t.filter(n).withDesc(new _e(t,"skipUntil",[e]))}function Iw(t,e){return ec(t,e,Pw,new _e(t,"skipWhile",[e]))}function Pw(t){var e=!1;return function(n,r){return e||!Pt(n)||!t(n.value)?(n.hasValue&&(e=!0),r(n)):Re}}function Fp(t,e,n=je.id){var r={};return t.transform(As(tc(i=>!r[e(i)]),Wo(function(i){var o=e(i),a=t.changes().filter(u=>e(u)===o),s=Un(i).concat(a),l=n(s,i).toEventStream().transform((u,c)=>{let h=c(u);return u.isEnd&&delete r[o],h});return r[o]=l,l})))}function Nw(t,e,n=0){return t.scan([],function(r,i){return r.concat([i]).slice(-e)}).filter(function(r){return r.length>=n}).withDesc(new _e(t,"slidingWindow",[e,n]))}const jp={};function Lw(t,e,n){return Mp(_p(t,[e,jp],(r,i)=>[i,n(r[0],i)]),As(tc(r=>r[1]!==jp),Wo(r=>r[1])),new _e(t,"diff",[e,n]))}function Rw(t,e,n){let r=e;return t.flatMapConcat(i=>Hu(n(r,i)).doAction(o=>r=o)).toProperty().startWith(e).withDesc(new _e(t,"flatScan",[e,n]))}function Fw(t,e){var n=!1,r=[],i=!1;return new gt(new _e(t,"holdWhen",[e]),function(o){var a=new jo,s=!1,l=function(u){return u&&u(),a.empty()&&s?o(et()):Re};return a.add(function(u,c){return e.subscribeInternal(function(h){if(Pt(h)){n=h.value;var p=Re;if(!n){var g=r;r=[];for(var v=0;v<g.length;v++)p=o(En(g[v]));i&&(o(et()),c(),p=Ke)}return p}else return h.isEnd?l(c):o(h)})}),a.add(function(u,c){return t.subscribeInternal(function(h){return n&&Pt(h)?(r.push(h.value),Re):h.isEnd&&r.length?(i=!0,l(c)):o(h)})}),s=!0,l(),a.unsubscribe})}function jw(...t){let e=je.map(n=>n.toEventStream(),hr(t));return Uo([e,(...n)=>n]).withDesc(new _e("Bacon","zipAsArray",t))}function Up(r,...n){var[n,r]=wp(arguments);return n=je.map(i=>i.toEventStream(),n),Uo([n,r]).withDesc(new _e("Bacon","zipWith",[r].concat(n)))}function Uw(t,e,n){return Up(n||Array,t,e).withDesc(new _e(t,"zip",[e]))}function Wp(t){function e(v){return v[v.length-1]}function n(v,m,y){return e(v)[m]=y,y}function r(v,m){return function(y,A){n(y,v,A[m])}}function i(v,m){return function(y){n(y,v,m)}}function o(v){return Or(v)?[]:{}}function a(v,m){return function(y){const A=o(m);n(y,v,A),y.push(A)}}function s(v){if(zr(v))return!0;if(v&&(v.constructor==Object||v.constructor==Array)){for(var m in v)if(Object.prototype.hasOwnProperty.call(v,m)){const y=v[m];if(s(y))return!0}}}function l(v,m){if(zr(m))p.push(m),h.push(r(v,p.length-1));else if(s(m)){const y=function(A){A.pop()};h.push(a(v,m)),c(m),h.push(y)}else h.push(i(v,m))}function u(v){const m=o(t),y=[m];for(var A=0,E;A<h.length;A++)E=h[A],E(y,v);return m}function c(v){je.each(v,l)}const h=[],p=[];return(s(t)?(c(t),Yo(p).map(u)):Ai(t)).withDesc(new _e("Bacon","combineTemplate",[t]))}function Ww(t,e){return t.combine(Wp(e),(n,r)=>r[n]).withDesc(new _e(t,"decode",[e]))}function Yw(t,e){const n=(r,i)=>t.subscribe(o=>(Pt(o)&&r(o.value),Cn(o)&&i(o.error),Ke));if(typeof e=="function")return new e(n);if(typeof Promise=="function")return new Promise(n);throw new Error("There isn't default Promise, use shim or parameter")}function Vw(t,e){return t.last().firstToPromise(e)}var Gw=0;class xi{constructor(e){this.id=++Gw,this._isObservable=!0,this.desc=e,this.initialDesc=e}awaiting(e){return ew(this,e)}bufferingThrottle(e){return Tw(this,e)}combine(e,n){return Ep(this,e,n).withDesc(new _e(this,"combine",[e,n]))}debounce(e){return Mw(this,e)}debounceImmediate(e){return Bw(this,e)}decode(e){return Ww(this,e)}delay(e){return kw(this,e)}deps(){return this.desc.deps()}diff(e,n){return Lw(this,e,n)}doAction(e){return this.transform(IA(e),new _e(this,"doAction",[e]))}doEnd(e){return this.transform(PA(e),new _e(this,"doEnd",[e]))}doError(e){return this.transform(zA(e),new _e(this,"doError",[e]))}doLog(...e){return this.transform(OA(e),new _e(this,"doLog",e))}endAsValue(){return jA(this)}endOnError(e=n=>!0){return UA(this,e)}errors(){return this.filter(e=>!1).withDesc(new _e(this,"errors"))}filter(e){return uw(this,e)}first(){return dp(1,this,new _e(this,"first"))}firstToPromise(e){return Yw(this,e)}fold(e,n){return Dp(this,e,n)}forEach(e=Ir){return this.onValue(e)}holdWhen(e){return Fw(this,e)}inspect(){return this.toString()}internalDeps(){return this.initialDesc.deps()}last(){return FA(this)}log(...e){return DA(e,this),this}mapEnd(e){return this.transform(NA(e),new _e(this,"mapEnd",[e]))}mapError(e){return this.transform(LA(e),new _e(this,"mapError",[e]))}name(e){return this._name=e,this}onEnd(e=up){return this.subscribe(function(n){return n.isEnd?e():Re})}onError(e=Ir){return this.subscribe(function(n){return Cn(n)?e(n.error):Re})}onValue(e=Ir){return this.subscribe(function(n){return Pt(n)?e(n.value):Re})}onValues(e){return this.onValue(function(n){return e(...n)})}reduce(e,n){return Dp(this,e,n)}sampledBy(e){return iw(this,e,arguments[1])}scan(e,n){return _p(this,e,n)}skip(e){return nw(this,e)}skipDuplicates(e){return TA(this,e)}skipErrors(){return RA(this)}skipUntil(e){return zw(this,e)}skipWhile(e){return Iw(this,e)}slidingWindow(e,n=0){return Nw(this,e,n)}subscribe(e=Ir){return It.wrappedSubscribe(this,n=>this.subscribeInternal(n),e)}take(e){return dp(e,this)}takeUntil(e){return mw(this,e)}takeWhile(e){return Dw(this,e)}throttle(e){return Sw(this,e)}toPromise(e){return Vw(this,e)}toString(){return this._name?this._name:this.desc.toString()}withDesc(e){return e&&(this.desc=e),this}withDescription(e,n,...r){return this.desc=ps(e,n,...r),this}zip(e,n){return Uw(this,e,n)}}class kn extends xi{constructor(e,n,r){super(e),this._isProperty=!0,Lo(n),this.dispatcher=new yw(this,n,r),Ip(this)}and(e){return cw(this,e)}changes(){return new gt(new _e(this,"changes",[]),e=>this.dispatcher.subscribe(function(n){return n.isInitial?Re:e(n)}))}concat(e){return this.transformChanges(ps(this,"concat",e),n=>n.concat(e))}transformChanges(e,n){return pw(this,n,e)}flatMap(e){return nc(this,e)}flatMapConcat(e){return Cp(this,e)}flatMapError(e){return zp(this,e)}flatMapEvent(e){return mp(this,e)}flatMapFirst(e){return Tp(this,e)}flatMapLatest(e){return Pp(this,e)}flatMapWithConcurrencyLimit(e,n){return Lp(this,e,n)}groupBy(e,n){return Fp(this,e,n)}map(e){return Ap(this,e)}not(){return Bp(this)}or(e){return fw(this,e)}sample(e){return aw(this,e)}startWith(e){return gw(this,e)}subscribeInternal(e=Ir){return this.dispatcher.subscribe(e)}toEventStream(e){return new gt(new _e(this,"toEventStream",[]),n=>this.subscribeInternal(function(r){return n(r.toNext())}),void 0,e)}toProperty(){return hA(arguments),this}transform(e,n){return Mp(this,e,n)}withLatestFrom(e,n){return bp(this,e,n)}withStateMachine(e,n){return Yu(e,n,this)}}function ws(t){return!!t._isProperty}const Pr={forceAsync:!1};class gt extends xi{constructor(e,n,r,i){super(e),this._isEventStream=!0,i!==Pr&&(n=Cw(this,n)),this.dispatcher=new Np(this,n,r),Ip(this)}bufferWithTime(e){return bw(this,e)}bufferWithCount(e){return Aw(this,e)}bufferWithTimeOrCount(e,n){return oc(this,e,n)}changes(){return this}concat(e,n){return hw(this,e,n)}transformChanges(e,n){return n(this).withDesc(e)}flatMap(e){return nc(this,e)}flatMapConcat(e){return Cp(this,e)}flatMapError(e){return zp(this,e)}flatMapFirst(e){return Tp(this,e)}flatMapLatest(e){return Pp(this,e)}flatMapWithConcurrencyLimit(e,n){return Lp(this,e,n)}flatMapEvent(e){return mp(this,e)}flatScan(e,n){return Rw(this,e,n)}groupBy(e,n){return Fp(this,e,n)}map(e){return Ap(this,e)}merge(e){return uA(e),Rp(this,e).withDesc(new _e(this,"merge",[e]))}not(){return Bp(this)}startWith(e){return _w(this,e)}subscribeInternal(e=Ir){return this.dispatcher.subscribe(e)}toEventStream(){return this}toProperty(e){let n=arguments.length?CA(e):gs(),r=this.dispatcher,i=new _e(this,"toProperty",Array.prototype.slice.apply(arguments)),o=r.subscribe;return new kn(i,gp(n,o))}transform(e,n){return sw(this,e,n)}withLatestFrom(e,n){return yp(this,e,n)}withStateMachine(e,n){return Yu(e,n,this)}}function Hw(t,e){return new gt(t,e)}function Qw(t,e){return new gt(t,e,void 0,Pr)}function xs(t){return typeof Symbol<"u"&&Symbol[t]?Symbol[t]:typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol[t]=Symbol.for(t):"@@"+t}class Yp{constructor(e){this.observable=e}subscribe(e,n,r){const i=typeof e=="function"?{next:e,error:n,complete:r}:e,o={closed:!1,unsubscribe:function(){o.closed=!0,a()}},a=this.observable.subscribe(function(s){Pt(s)&&i.next?i.next(s.value):Cn(s)?(i.error&&i.error(s.error),o.unsubscribe()):s.isEnd&&(o.closed=!0,i.complete&&i.complete())});return o}}Yp.prototype[xs("observable")]=function(){return this},xi.prototype.toESObservable=function(){return new Yp(this)},xi.prototype[xs("observable")]=xi.prototype.toESObservable;function Xw(t,...e){let n=vp(e);for(var r=0;r<n.length;r++){let i=n[r];i[1]=Zw(i[1])}return Uo(...n).scan(t,function(i,o){return o(i)}).withDesc(new _e("Bacon","update",[t,...e]))}function Zw(t){return function(...e){return function(n){return t(...[n].concat(e))}}}function qw(t){if(fA(t),t.length){var e=0,n=new gt(new _e("Bacon","fromArray",[t]),function(r){var i=!1,o=Re,a=!1,s=!1;function l(){if(s=!0,!a){if(e===t.length)return r(et()),!1;for(a=!0;s;)if(s=!1,o!==Ke&&!i){var u=t[e++];o=r(gi(u)),o!==Ke&&(e===t.length?r(et()):It.afterTransaction(n,l))}return a=!1,a}}return It.soonButNotYet(n,l),function(){return i=!0,i}});return n}else return bi().withDesc(new _e("Bacon","fromArray",t))}function Kw(t){return je.isFunction(t)}var Es=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],Jw=function(t){for(var e,n=0;n<Es.length;n++){e=Es[n];var r=[t[e[0]],t[e[1]]];if(r[0]&&r[1])return r}for(var i=0;i<Es.length;i++){e=Es[i];var o=t[e[0]];if(o)return[o,function(){}]}throw new Error("No suitable event methods in "+t)};function Vp(t,e,n){var[r,i]=Jw(t),o=new _e("Bacon","fromEvent",[t,e]);return Wn(function(a){return Kw(e)?(e(r.bind(t),a),function(){return e(i.bind(t),a)}):(r.call(t,e,a),function(){return i.call(t,e,a)})},n).withDesc(o)}function $w(...t){return Yo(t.slice(0,t.length-1)).onValues(t[arguments.length-1])}function Gp(t){var e=0;return Wn(function(n){var r=!1,i=Re,o=function(){};function a(l){return l.isEnd?(r?s():r=!0,Re):i=n(l)}function s(){var l;for(r=!0;r&&i!==Ke;)l=t(e++),r=!1,l?o=l.subscribeInternal(a):n(et());r=!0}return s(),()=>o()}).withDesc(new _e("Bacon","repeat",[t]))}function ex(t,e){var n=0;return bs(t,function(){return e[n++%e.length]}).withDesc(new _e("Bacon","repeatedly",[t,e]))}function Hp(t){return wi(t,"").filter(!1).withDesc(new _e("Bacon","silence",[t]))}function tx(t){if(!je.isFunction(t.source))throw new Error("'source' option has to be a function");var e=t.source,n=t.retries||0,r=0,i=t.delay||function(){return 0},o=t.isRetryable||function(){return!0},a=!1,s=null;return Gp(function(l){function u(){return e(l).endOnError().transform(function(p,g){return Cn(p)?(s=p,o(s.error)&&(n===0||r<n)?Re:(a=!0,g(p))):(Pt(p)&&(s=null,a=!0),g(p))})}if(!a)if(s){var c={error:s.error,retriesDone:r},h=Hp(i(c));return r++,h.concat(Un(null).flatMap(u))}else return u()}).withDesc(new _e("Bacon","retry",[t]))}function nx(t,e){var n=0;return bs(t,function(){var r=e[n++];return n<e.length?r:n===e.length?[gi(r),et()]:et()}).withDesc(new _e("Bacon","sequentially",[t,e]))}function rx(t){return[gi(t),et()]}function ix(t,e,n=rx){return Wn(function(r){const i=t.then(r,o=>r(new fr(o)));return i&&typeof i.done=="function"&&i.done(),e?function(){if(typeof t.abort=="function")return t.abort()}:function(){}},n).withDesc(new _e("Bacon","fromPromise",[t]))}function ox(t){return function(e,...n){if(typeof e=="object"&&n.length){var r=e,i=n[0];e=function(...o){return r[i](...o)},n=n.slice(1)}return t(e,...n)}}function ax(t,e){return function(...n){return t(...e.concat(n))}}const sx=ox(function(t,...e){return je.isFunction(t)?e.length?ax(t,e):t:je.always(t)});function Qp(t,e){return sx(t,...e)}function lx(t,...e){return Wn(function(n){return Qp(t,e)(n),kt},function(n){return[n,et()]}).withDesc(new _e("Bacon","fromCallback",[t,...e]))}function ux(t,...e){return Wn(function(n){return Qp(t,e)(n),kt},function(n,r){return n?[new fr(n),et()]:[r,et()]}).withDesc(new _e("Bacon","fromNodeCallback",[t,...e]))}function cx(t){var e;t[xs("observable")]?e=t[xs("observable")]():e=t;var n=new _e("Bacon","fromESObservable",[e]);return new gt(n,function(r){var i=e.subscribe({error:function(o){r(new fr(o)),r(new vs)},next:function(o){r(new pi(o))},complete:function(){r(new vs)}});return i.unsubscribe?function(){i.unsubscribe()}:i})}class ac extends gt{constructor(){super(new _e("Bacon","Bus",[]),e=>this.subscribeAll(e)),this.pushing=!1,this.pushQueue=void 0,this.ended=!1,this.subscriptions=[],this.unsubAll=je.bind(this.unsubAll,this),this.push=je.bind(this.push,this),this.subscriptions=[],this.ended=!1}plug(e){if(cA(e),!this.ended){var n={input:e,unsub:void 0};return this.subscriptions.push(n),typeof this.sink<"u"&&this.subscribeInput(n),()=>this.unsubscribeInput(e)}}end(){if(this.ended=!0,this.unsubAll(),typeof this.sink=="function")return this.sink(et())}push(e){if(!this.ended&&typeof this.sink=="function"){var n=!this.pushing;if(!n){this.pushQueue||(this.pushQueue=[]),this.pushQueue.push(e);return}this.pushing=!0;try{return this.sink(En(e))}finally{if(n&&this.pushQueue){for(var r=0;r<this.pushQueue.length;){var i=this.pushQueue[r];this.sink(En(i)),r++}this.pushQueue=void 0}this.pushing=!1}}}error(e){if(typeof this.sink=="function")return this.sink(new fr(e))}unsubAll(){for(var e=this.subscriptions,n=0,r;n<e.length;n++)r=e[n],typeof r.unsub=="function"&&r.unsub()}subscribeAll(e){if(this.ended)e(et());else{this.sink=e;for(var n=this.subscriptions.slice(),r=0,i;r<n.length;r++)i=n[r],this.subscribeInput(i)}return this.unsubAll}guardedSink(e){return n=>n.isEnd?(this.unsubscribeInput(e),Ke):this.sink?this.sink(n):Re}subscribeInput(e){return e.unsub=e.input.subscribeInternal(this.guardedSink(e.input)),e.unsub}unsubscribeInput(e){for(var n=this.subscriptions,r=0,i;r<n.length;r++)if(i=n[r],i.input===e){typeof i.unsub=="function"&&i.unsub(),this.subscriptions.splice(r,1);return}}}function fx(t){return function(e){try{return Un(t(e))}catch(n){return Un(new fr(n))}}}const Xp={asEventStream(t,e,n){return je.isFunction(e)&&(n=e,e=void 0),Wn(r=>(this.on(t,e,r),()=>this.off(t,e,r)),n).withDesc(new _e(this.selector||this,"asEventStream",[t]))},init(t){t.fn.asEventStream=Xp.asEventStream}},hx="3.0.18";var dx=b(411),sc=b.n(dx),px=b(587),Zp=b.n(px);function _x(){}function lc(t){return t==null?_x:function(){return this.querySelector(t)}}function gx(t){typeof t!="function"&&(t=lc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new en(r,this._parents)}function mx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vx(){return[]}function qp(t){return t==null?vx:function(){return this.querySelectorAll(t)}}function yx(t){return function(){return mx(t.apply(this,arguments))}}function bx(t){typeof t=="function"?t=yx(t):t=qp(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new en(r,i)}function Kp(t){return function(){return this.matches(t)}}function Jp(t){return function(e){return e.matches(t)}}var Ax=Array.prototype.find;function wx(t){return function(){return Ax.call(this.children,t)}}function xx(){return this.firstElementChild}function Ex(t){return this.select(t==null?xx:wx(typeof t=="function"?t:Jp(t)))}var Cx=Array.prototype.filter;function kx(){return Array.from(this.children)}function Mx(t){return function(){return Cx.call(this.children,t)}}function Bx(t){return this.selectAll(t==null?kx:Mx(typeof t=="function"?t:Jp(t)))}function Sx(t){typeof t!="function"&&(t=Kp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new en(r,this._parents)}function $p(t){return new Array(t.length)}function Tx(){return new en(this._enter||this._groups.map($p),this._parents)}function Cs(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Cs.prototype={constructor:Cs,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Dx(t){return function(){return t}}function Ox(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Cs(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function zx(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,h=o.length,p=new Array(c),g;for(s=0;s<c;++s)(l=e[s])&&(p[s]=g=a.call(l,l.__data__,s,e)+"",u.has(g)?i[s]=l:u.set(g,l));for(s=0;s<h;++s)g=a.call(t,o[s],s,o)+"",(l=u.get(g))?(r[s]=l,l.__data__=o[s],u.delete(g)):n[s]=new Cs(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(p[s])===l&&(i[s]=l)}function Ix(t){return t.__data__}function Px(t,e){if(!arguments.length)return Array.from(this,Ix);var n=e?zx:Ox,r=this._parents,i=this._groups;typeof t!="function"&&(t=Dx(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],p=h.length,g=Nx(t.call(c,c&&c.__data__,u,r)),v=g.length,m=s[u]=new Array(v),y=a[u]=new Array(v),A=l[u]=new Array(p);n(c,h,m,y,A,g,e);for(var E=0,k=0,x,M;E<v;++E)if(x=m[E]){for(E>=k&&(k=E+1);!(M=y[k])&&++k<v;);x._next=M||null}}return a=new en(a,r),a._enter=s,a._exit=l,a}function Nx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Lx(){return new en(this._exit||this._groups.map($p),this._parents)}function Rx(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Fx(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],h=u.length,p=s[l]=new Array(h),g,v=0;v<h;++v)(g=u[v]||c[v])&&(p[v]=g);for(;l<i;++l)s[l]=n[l];return new en(s,this._parents)}function jx(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ux(t){t||(t=Wx);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new en(i,this._parents).order()}function Wx(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Yx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Vx(){return Array.from(this)}function Gx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Hx(){let t=0;for(const e of this)++t;return t}function Qx(){return!this.node()}function Xx(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}var uc="http://www.w3.org/1999/xhtml";const e_={svg:"http://www.w3.org/2000/svg",xhtml:uc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ks(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),e_.hasOwnProperty(e)?{space:e_[e],local:t}:t}function Zx(t){return function(){this.removeAttribute(t)}}function qx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kx(t,e){return function(){this.setAttribute(t,e)}}function Jx(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $x(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function e1(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function t1(t,e){var n=ks(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?qx:Zx:typeof e=="function"?n.local?e1:$x:n.local?Jx:Kx)(n,e))}function t_(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function n1(t){return function(){this.style.removeProperty(t)}}function r1(t,e,n){return function(){this.style.setProperty(t,e,n)}}function i1(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function o1(t,e,n){return arguments.length>1?this.each((e==null?n1:typeof e=="function"?i1:r1)(t,e,n??"")):Ei(this.node(),t)}function Ei(t,e){return t.style.getPropertyValue(e)||t_(t).getComputedStyle(t,null).getPropertyValue(e)}function a1(t){return function(){delete this[t]}}function s1(t,e){return function(){this[t]=e}}function l1(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function u1(t,e){return arguments.length>1?this.each((e==null?a1:typeof e=="function"?l1:s1)(t,e)):this.node()[t]}function n_(t){return t.trim().split(/^|\s+/)}function cc(t){return t.classList||new r_(t)}function r_(t){this._node=t,this._names=n_(t.getAttribute("class")||"")}r_.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function i_(t,e){for(var n=cc(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function o_(t,e){for(var n=cc(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function c1(t){return function(){i_(this,t)}}function f1(t){return function(){o_(this,t)}}function h1(t,e){return function(){(e.apply(this,arguments)?i_:o_)(this,t)}}function d1(t,e){var n=n_(t+"");if(arguments.length<2){for(var r=cc(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?h1:e?c1:f1)(n,e))}function p1(){this.textContent=""}function _1(t){return function(){this.textContent=t}}function g1(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function m1(t){return arguments.length?this.each(t==null?p1:(typeof t=="function"?g1:_1)(t)):this.node().textContent}function v1(){this.innerHTML=""}function y1(t){return function(){this.innerHTML=t}}function b1(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function A1(t){return arguments.length?this.each(t==null?v1:(typeof t=="function"?b1:y1)(t)):this.node().innerHTML}function w1(){this.nextSibling&&this.parentNode.appendChild(this)}function x1(){return this.each(w1)}function E1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C1(){return this.each(E1)}function k1(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===uc&&e.documentElement.namespaceURI===uc?e.createElement(t):e.createElementNS(n,t)}}function M1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function a_(t){var e=ks(t);return(e.local?M1:k1)(e)}function B1(t){var e=typeof t=="function"?t:a_(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function S1(){return null}function T1(t,e){var n=typeof t=="function"?t:a_(t),r=e==null?S1:typeof e=="function"?e:lc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function D1(){var t=this.parentNode;t&&t.removeChild(this)}function O1(){return this.each(D1)}function z1(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function I1(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function P1(t){return this.select(t?I1:z1)}function N1(t){return arguments.length?this.property("__data__",t):this.node().__data__}function L1(t){return function(e){t.call(this,e,this.__data__)}}function R1(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function F1(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function j1(t,e,n){return function(){var r=this.__on,i,o=L1(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function U1(t,e,n){var r=R1(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?j1:F1,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function s_(t,e,n){var r=t_(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function W1(t,e){return function(){return s_(this,t,e)}}function Y1(t,e){return function(){return s_(this,t,e.apply(this,arguments))}}function V1(t,e){return this.each((typeof e=="function"?Y1:W1)(t,e))}function*G1(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var l_=[null];function en(t,e){this._groups=t,this._parents=e}function u_(){return new en([[document.documentElement]],l_)}function H1(){return this}en.prototype=u_.prototype={constructor:en,select:gx,selectAll:bx,selectChild:Ex,selectChildren:Bx,filter:Sx,data:Px,enter:Tx,exit:Lx,join:Rx,merge:Fx,selection:H1,order:jx,sort:Ux,call:Yx,nodes:Vx,node:Gx,size:Hx,empty:Qx,each:Xx,attr:t1,style:o1,property:u1,classed:d1,text:m1,html:A1,raise:x1,lower:C1,append:B1,insert:T1,remove:O1,clone:P1,datum:N1,on:U1,dispatch:V1,[Symbol.iterator]:G1};const Nr=u_;function ze(t){return typeof t=="string"?new en([[document.querySelector(t)]],[document.documentElement]):new en([[t]],l_)}var Ms=b(280),c_={},fc={},hc=34,Vo=10,dc=13;function f_(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Q1(t,e){var n=f_(t);return function(r,i){return e(n(r),i,t)}}function h_(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Ut(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function X1(t){return t<0?"-"+Ut(-t,6):t>9999?"+"+Ut(t,6):Ut(t,4)}function Z1(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":X1(t.getUTCFullYear())+"-"+Ut(t.getUTCMonth()+1,2)+"-"+Ut(t.getUTCDate(),2)+(i?"T"+Ut(e,2)+":"+Ut(n,2)+":"+Ut(r,2)+"."+Ut(i,3)+"Z":r?"T"+Ut(e,2)+":"+Ut(n,2)+":"+Ut(r,2)+"Z":n||e?"T"+Ut(e,2)+":"+Ut(n,2)+"Z":"")}function q1(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,p){var g,v,m=i(h,function(y,A){if(g)return g(y,A-1);v=y,g=p?Q1(y,p):f_(y)});return m.columns=v||[],m}function i(h,p){var g=[],v=h.length,m=0,y=0,A,E=v<=0,k=!1;h.charCodeAt(v-1)===Vo&&--v,h.charCodeAt(v-1)===dc&&--v;function x(){if(E)return fc;if(k)return k=!1,c_;var I,D=m,N;if(h.charCodeAt(D)===hc){for(;m++<v&&h.charCodeAt(m)!==hc||h.charCodeAt(++m)===hc;);return(I=m)>=v?E=!0:(N=h.charCodeAt(m++))===Vo?k=!0:N===dc&&(k=!0,h.charCodeAt(m)===Vo&&++m),h.slice(D+1,I-1).replace(/""/g,'"')}for(;m<v;){if((N=h.charCodeAt(I=m++))===Vo)k=!0;else if(N===dc)k=!0,h.charCodeAt(m)===Vo&&++m;else if(N!==n)continue;return h.slice(D,I)}return E=!0,h.slice(D,v)}for(;(A=x())!==fc;){for(var M=[];A!==c_&&A!==fc;)M.push(A),A=x();p&&(M=p(M,y++))==null||g.push(M)}return g}function o(h,p){return h.map(function(g){return p.map(function(v){return c(g[v])}).join(t)})}function a(h,p){return p==null&&(p=h_(h)),[p.map(c).join(t)].concat(o(h,p)).join(`
`)}function s(h,p){return p==null&&(p=h_(h)),o(h,p).join(`
`)}function l(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(t)}function c(h){return h==null?"":h instanceof Date?Z1(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}var K1=q1(","),J1=K1.parseRows,$1=b(529),eE=b.n($1);function Yn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var tn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ci={duration:.5,overwrite:!1,delay:0},pc,Bt,ut,fn=1e8,st=1/fn,_c=Math.PI*2,tE=_c/4,nE=0,p_=Math.sqrt,rE=Math.cos,iE=Math.sin,At=function(e){return typeof e=="string"},dt=function(e){return typeof e=="function"},Vn=function(e){return typeof e=="number"},gc=function(e){return typeof e>"u"},Mn=function(e){return typeof e=="object"},Wt=function(e){return e!==!1},mc=function(){return typeof window<"u"},Bs=function(e){return dt(e)||At(e)},__=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},St=Array.isArray,vc=/(?:-?\.?\d|\.)+/gi,g_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ki=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,yc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,m_=/[+-]=-?[.\d]+/,v_=/[^,'"\[\]\s]+/gi,oE=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ct,Bn,bc,Ac,nn={},Ss={},y_,b_=function(e){return(Ss=Rr(e,nn))&&Gt},wc=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Go=function(e,n){return!n&&console.warn(e)},A_=function(e,n){return e&&(nn[e]=n)&&Ss&&(Ss[e]=n)||nn},Ho=function(){return 0},aE={suppressEvents:!0,isStart:!0,kill:!1},Ts={suppressEvents:!0,kill:!1},sE={suppressEvents:!0},xc={},dr=[],Ec={},w_,rn={},Cc={},x_=30,Ds=[],kc="",Mc=function(e){var n=e[0],r,i;if(Mn(n)||dt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=Ds.length;i--&&!Ds[i].targetTest(n););r=Ds[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new J_(e[i],r)))||e.splice(i,1);return e},Lr=function(e){return e._gsap||Mc(pn(e))[0]._gsap},E_=function(e,n,r){return(r=e[n])&&dt(r)?e[n]():gc(r)&&e.getAttribute&&e.getAttribute(n)||r},Yt=function(e,n){return(e=e.split(",")).forEach(n)||e},pt=function(e){return Math.round(e*1e5)/1e5||0},wt=function(e){return Math.round(e*1e7)/1e7||0},Mi=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},lE=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Os=function(){var e=dr.length,n=dr.slice(0),r,i;for(Ec={},dr.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},C_=function(e,n,r,i){dr.length&&!Bt&&Os(),e.render(n,r,Bt&&n<0&&(e._initted||e._startAt)),dr.length&&!Bt&&Os()},k_=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(v_).length<2?n:At(e)?e.trim():e},M_=function(e){return e},hn=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},uE=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Rr=function(e,n){for(var r in n)e[r]=n[r];return e},B_=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Mn(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},zs=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Qo=function(e){var n=e.parent||ct,r=e.keyframes?uE(St(e.keyframes)):hn;if(Wt(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},cE=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},S_=function(e,n,r,i,o){var a=e[i],s;if(o)for(s=n[o];a&&a[o]>s;)a=a._prev;return a?(n._next=a._next,a._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=a,n.parent=n._dp=e,n},Is=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=n._prev,a=n._next;o?o._next=a:e[r]===n&&(e[r]=a),a?a._prev=o:e[i]===n&&(e[i]=o),n._next=n._prev=n.parent=null},pr=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Fr=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},fE=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Bc=function(e,n,r,i){return e._startAt&&(Bt?e._startAt.revert(Ts):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},hE=function t(e){return!e||e._ts&&t(e.parent)},T_=function(e){return e._repeat?Bi(e._tTime,e=e.duration()+e._rDelay)*e:0},Bi=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},Ps=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Ns=function(e){return e._end=wt(e._start+(e._tDur/Math.abs(e._ts||e._rts||st)||0))},Ls=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=wt(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Ns(e),r._dirty||Fr(r,e)),e},D_=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Ps(e.rawTime(),n),(!n._dur||Zo(0,n.totalDuration(),r)-n._tTime>st)&&n.render(r,!0)),Fr(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-st}},Sn=function(e,n,r,i){return n.parent&&pr(n),n._start=wt((Vn(r)?r:r||e!==ct?dn(e,r,n):e._time)+n._delay),n._end=wt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),S_(e,n,"_first","_last",e._sort?"_start":0),Sc(n)||(e._recent=n),i||D_(e,n),e._ts<0&&Ls(e,e._tTime),e},O_=function(e,n){return(nn.ScrollTrigger||wc("scrollTrigger",n))&&nn.ScrollTrigger.create(n,e)},z_=function(e,n,r,i,o){if(Rc(e,n,o),!e._initted)return 1;if(!r&&e._pt&&!Bt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&w_!==an.frame)return dr.push(e),e._lazy=[o,i],1},dE=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Sc=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},pE=function(e,n,r,i){var o=e.ratio,a=n<0||!n&&(!e._start&&dE(e)&&!(!e._initted&&Sc(e))||(e._ts<0||e._dp._ts<0)&&!Sc(e))?0:1,s=e._rDelay,l=0,u,c,h;if(s&&e._repeat&&(l=Zo(0,e._tDur,n),c=Bi(l,s),e._yoyo&&c&1&&(a=1-a),c!==Bi(e._tTime,s)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||Bt||i||e._zTime===st||!n&&e._zTime){if(!e._initted&&z_(e,n,i,r,l))return;for(h=e._zTime,e._zTime=n||(r?st:0),r||(r=n&&!h),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,u=e._pt;u;)u.r(a,u.d),u=u._next;n<0&&Bc(e,n,r,!0),e._onUpdate&&!r&&on(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&on(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===a&&(a&&pr(e,1),!r&&!Bt&&(on(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},_E=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Si=function(e,n,r,i){var o=e._repeat,a=wt(n)||0,s=e._tTime/e._tDur;return s&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:wt(a*(o+1)+e._rDelay*o):a,s>0&&!i&&Ls(e,e._tTime=e._tDur*s),e.parent&&Ns(e),r||Fr(e.parent,e),e},I_=function(e){return e instanceof Nt?Fr(e):Si(e,e._dur)},gE={_start:0,endTime:Ho,totalDuration:Ho},dn=function t(e,n,r){var i=e.labels,o=e._recent||gE,a=e.duration()>=fn?o.endTime(!1):e._dur,s,l,u;return At(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),u=n.substr(-1)==="%",s=n.indexOf("="),l==="<"||l===">"?(s>=0&&(n=n.replace(/=/,"")),(l==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(s<0?o:r).totalDuration()/100:1)):s<0?(n in i||(i[n]=a),i[n]):(l=parseFloat(n.charAt(s-1)+n.substr(s+1)),u&&r&&(l=l/100*(St(r)?r[0]:r).totalDuration()),s>1?t(e,n.substr(0,s-1),r)+l:a+l)):n==null?a:+n},Xo=function(e,n,r){var i=Vn(n[1]),o=(i?2:1)+(e<2?0:1),a=n[o],s,l;if(i&&(a.duration=n[1]),a.parent=r,e){for(s=a,l=r;l&&!("immediateRender"in s);)s=l.vars.defaults||{},l=Wt(l.vars.inherit)&&l.parent;a.immediateRender=Wt(s.immediateRender),e<2?a.runBackwards=1:a.startAt=n[o-1]}return new _t(n[0],a,n[o+1])},_r=function(e,n){return e||e===0?n(e):n},Zo=function(e,n,r){return r<e?e:r>n?n:r},Tt=function(e,n){return!At(e)||!(n=oE.exec(e))?"":n[1]},mE=function(e,n,r){return _r(r,function(i){return Zo(e,n,i)})},Tc=[].slice,P_=function(e,n){return e&&Mn(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Mn(e[0]))&&!e.nodeType&&e!==Bn},vE=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var o;return At(i)&&!n||P_(i,1)?(o=r).push.apply(o,pn(i)):r.push(i)})||r},pn=function(e,n,r){return ut&&!n&&ut.selector?ut.selector(e):At(e)&&!r&&(bc||!Di())?Tc.call((n||Ac).querySelectorAll(e),0):St(e)?vE(e,r):P_(e)?Tc.call(e,0):e?[e]:[]},Dc=function(e){return e=pn(e)[0]||Go("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return pn(n,r.querySelectorAll?r:r===e?Go("Invalid scope")||Ac.createElement("div"):e)}},N_=function(e){return e.sort(function(){return .5-Math.random()})},L_=function(e){if(dt(e))return e;var n=Mn(e)?e:{each:e},r=jr(n.ease),i=n.from||0,o=parseFloat(n.base)||0,a={},s=i>0&&i<1,l=isNaN(i)||s,u=n.axis,c=i,h=i;return At(i)?c=h={center:.5,edges:.5,end:1}[i]||0:!s&&l&&(c=i[0],h=i[1]),function(p,g,v){var m=(v||n).length,y=a[m],A,E,k,x,M,I,D,N,O;if(!y){if(O=n.grid==="auto"?0:(n.grid||[1,fn])[1],!O){for(D=-fn;D<(D=v[O++].getBoundingClientRect().left)&&O<m;);O<m&&O--}for(y=a[m]=[],A=l?Math.min(O,m)*c-.5:i%O,E=O===fn?0:l?m*h/O-.5:i/O|0,D=0,N=fn,I=0;I<m;I++)k=I%O-A,x=E-(I/O|0),y[I]=M=u?Math.abs(u==="y"?x:k):p_(k*k+x*x),M>D&&(D=M),M<N&&(N=M);i==="random"&&N_(y),y.max=D-N,y.min=N,y.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(O>m?m-1:u?u==="y"?m/O:O:Math.max(O,m/O))||0)*(i==="edges"?-1:1),y.b=m<0?o-m:o,y.u=Tt(n.amount||n.each)||0,r=r&&m<0?Z_(r):r}return m=(y[p]-y.min)/y.max||0,wt(y.b+(r?r(m):m)*y.v)+y.u}},Oc=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=wt(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Vn(r)?0:Tt(r))}},R_=function(e,n){var r=St(e),i,o;return!r&&Mn(e)&&(i=r=e.radius||fn,e.values?(e=pn(e.values),(o=!Vn(e[0]))&&(i*=i)):e=Oc(e.increment)),_r(n,r?dt(e)?function(a){return o=e(a),Math.abs(o-a)<=i?o:a}:function(a){for(var s=parseFloat(o?a.x:a),l=parseFloat(o?a.y:0),u=fn,c=0,h=e.length,p,g;h--;)o?(p=e[h].x-s,g=e[h].y-l,p=p*p+g*g):p=Math.abs(e[h]-s),p<u&&(u=p,c=h);return c=!i||u<=i?e[c]:a,o||c===a||Vn(a)?c:c+Tt(a)}:Oc(e))},F_=function(e,n,r,i){return _r(St(e)?!n:r===!0?!!(r=0):!i,function(){return St(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},yE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(o,a){return a(o)},i)}},bE=function(e,n){return function(r){return e(parseFloat(r))+(n||Tt(r))}},AE=function(e,n,r){return U_(e,n,0,1,r)},j_=function(e,n,r){return _r(r,function(i){return e[~~n(i)]})},wE=function t(e,n,r){var i=n-e;return St(e)?j_(e,t(0,e.length),n):_r(r,function(o){return(i+(o-e)%i)%i+e})},xE=function t(e,n,r){var i=n-e,o=i*2;return St(e)?j_(e,t(0,e.length-1),n):_r(r,function(a){return a=(o+(a-e)%o)%o||0,e+(a>i?o-a:a)})},qo=function(e){for(var n=0,r="",i,o,a,s;~(i=e.indexOf("random(",n));)a=e.indexOf(")",i),s=e.charAt(i+7)==="[",o=e.substr(i+7,a-i-7).match(s?v_:vc),r+=e.substr(n,i-n)+F_(s?o:+o[0],s?0:+o[1],+o[2]||1e-5),n=a+1;return r+e.substr(n,e.length-n)},U_=function(e,n,r,i,o){var a=n-e,s=i-r;return _r(o,function(l){return r+((l-e)/a*s||0)})},EE=function t(e,n,r,i){var o=isNaN(e+n)?0:function(g){return(1-g)*e+g*n};if(!o){var a=At(e),s={},l,u,c,h,p;if(r===!0&&(i=1)&&(r=null),a)e={p:e},n={p:n};else if(St(e)&&!St(n)){for(c=[],h=e.length,p=h-2,u=1;u<h;u++)c.push(t(e[u-1],e[u]));h--,o=function(v){v*=h;var m=Math.min(p,~~v);return c[m](v-m)},r=n}else i||(e=Rr(St(e)?[]:{},e));if(!c){for(l in n)Nc.call(s,e,l,"get",n[l]);o=function(v){return Uc(v,s)||(a?e.p:e)}}}return _r(r,o)},W_=function(e,n,r){var i=e.labels,o=fn,a,s,l;for(a in i)s=i[a]-n,s<0==!!r&&s&&o>(s=Math.abs(s))&&(l=a,o=s);return l},on=function(e,n,r){var i=e.vars,o=i[n],a=ut,s=e._ctx,l,u,c;if(o)return l=i[n+"Params"],u=i.callbackScope||e,r&&dr.length&&Os(),s&&(ut=s),c=l?o.apply(u,l):o.call(u),ut=a,c},Ko=function(e){return pr(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Bt),e.progress()<1&&on(e,"onInterrupt"),e},Ti,Y_=[],V_=function(e){if(e)if(e=!e.name&&e.default||e,mc()||e.headless){var n=e.name,r=dt(e),i=n&&!r&&e.init?function(){this._props=[]}:e,o={init:Ho,render:Uc,add:Nc,kill:jE,modifier:FE,rawVars:0},a={targetTest:0,get:0,getSetter:jc,aliases:{},register:0};if(Di(),e!==i){if(rn[n])return;hn(i,hn(zs(e,o),a)),Rr(i.prototype,Rr(o,zs(e,a))),rn[i.prop=n]=i,e.targetTest&&(Ds.push(i),xc[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}A_(n,i),e.register&&e.register(Gt,i,Vt)}else Y_.push(e)},it=255,Jo={aqua:[0,it,it],lime:[0,it,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,it],navy:[0,0,128],white:[it,it,it],olive:[128,128,0],yellow:[it,it,0],orange:[it,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[it,0,0],pink:[it,192,203],cyan:[0,it,it],transparent:[it,it,it,0]},zc=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*it+.5|0},G_=function(e,n,r){var i=e?Vn(e)?[e>>16,e>>8&it,e&it]:0:Jo.black,o,a,s,l,u,c,h,p,g,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Jo[e])i=Jo[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),s=e.charAt(3),e="#"+o+o+a+a+s+s+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&it,i&it,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&it,e&it]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(vc),!n)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,a=c<=.5?c*(u+1):c+u-c*u,o=c*2-a,i.length>3&&(i[3]*=1),i[0]=zc(l+1/3,o,a),i[1]=zc(l,o,a),i[2]=zc(l-1/3,o,a);else if(~e.indexOf("="))return i=e.match(g_),r&&i.length<4&&(i[3]=1),i}else i=e.match(vc)||Jo.transparent;i=i.map(Number)}return n&&!v&&(o=i[0]/it,a=i[1]/it,s=i[2]/it,h=Math.max(o,a,s),p=Math.min(o,a,s),c=(h+p)/2,h===p?l=u=0:(g=h-p,u=c>.5?g/(2-h-p):g/(h+p),l=h===o?(a-s)/g+(a<s?6:0):h===a?(s-o)/g+2:(o-a)/g+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},H_=function(e){var n=[],r=[],i=-1;return e.split(gr).forEach(function(o){var a=o.match(ki)||[];n.push.apply(n,a),r.push(i+=a.length+1)}),n.c=r,n},Q_=function(e,n,r){var i="",o=(e+i).match(gr),a=n?"hsla(":"rgba(",s=0,l,u,c,h;if(!o)return e;if(o=o.map(function(p){return(p=G_(p,n,1))&&a+(n?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(c=H_(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(gr,"1").split(ki),h=u.length-1;s<h;s++)i+=u[s]+(~l.indexOf(s)?o.shift()||a+"0,0,0,0)":(c.length?c:o.length?o:r).shift());if(!u)for(u=e.split(gr),h=u.length-1;s<h;s++)i+=u[s]+o[s];return i+u[h]},gr=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Jo)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),CE=/hsl[a]?\(/,X_=function(e){var n=e.join(" "),r;if(gr.lastIndex=0,gr.test(n))return r=CE.test(n),e[1]=Q_(e[1],r),e[0]=Q_(e[0],r,H_(e[1])),!0},$o,an=function(){var t=Date.now,e=500,n=33,r=t(),i=r,o=1e3/240,a=o,s=[],l,u,c,h,p,g,v=function m(y){var A=t()-i,E=y===!0,k,x,M,I;if((A>e||A<0)&&(r+=A-n),i+=A,M=i-r,k=M-a,(k>0||E)&&(I=++h.frame,p=M-h.time*1e3,h.time=M=M/1e3,a+=k+(k>=o?4:o-k),x=1),E||(l=u(m)),x)for(g=0;g<s.length;g++)s[g](M,p,I,y)};return h={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(y){return p/(1e3/(y||60))},wake:function(){y_&&(!bc&&mc()&&(Bn=bc=window,Ac=Bn.document||{},nn.gsap=Gt,(Bn.gsapVersions||(Bn.gsapVersions=[])).push(Gt.version),b_(Ss||Bn.GreenSockGlobals||!Bn.gsap&&Bn||{}),Y_.forEach(V_)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),u=c||function(y){return setTimeout(y,a-h.time*1e3+1|0)},$o=1,v(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),$o=0,u=Ho},lagSmoothing:function(y,A){e=y||1/0,n=Math.min(A||33,e)},fps:function(y){o=1e3/(y||240),a=h.time*1e3+o},add:function(y,A,E){var k=A?function(x,M,I,D){y(x,M,I,D),h.remove(k)}:y;return h.remove(y),s[E?"unshift":"push"](k),Di(),k},remove:function(y,A){~(A=s.indexOf(y))&&s.splice(A,1)&&g>=A&&g--},_listeners:s},h}(),Di=function(){return!$o&&an.wake()},Xe={},kE=/^[\d.\-M][\d.\-,\s]/,ME=/["']/g,BE=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],o=1,a=r.length,s,l,u;o<a;o++)l=r[o],s=o!==a-1?l.lastIndexOf(","):l.length,u=l.substr(0,s),n[i]=isNaN(u)?u.replace(ME,"").trim():+u,i=l.substr(s+1).trim();return n},SE=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},TE=function(e){var n=(e+"").split("("),r=Xe[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[BE(n[1])]:SE(e).split(",").map(k_)):Xe._CE&&kE.test(e)?Xe._CE("",e):r},Z_=function(e){return function(n){return 1-e(1-n)}},q_=function t(e,n){for(var r=e._first,i;r;)r instanceof Nt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},jr=function(e,n){return e&&(dt(e)?e:Xe[e]||TE(e))||n},Ur=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var o={easeIn:n,easeOut:r,easeInOut:i},a;return Yt(e,function(s){Xe[s]=nn[s]=o,Xe[a=s.toLowerCase()]=r;for(var l in o)Xe[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Xe[s+"."+l]=o[l]}),o},K_=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Ic=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),a=o/_c*(Math.asin(1/i)||0),s=function(c){return c===1?1:i*Math.pow(2,-10*c)*iE((c-a)*o)+1},l=e==="out"?s:e==="in"?function(u){return 1-s(1-u)}:K_(s);return o=_c/o,l.config=function(u,c){return t(e,u,c)},l},Pc=function t(e,n){n===void 0&&(n=1.70158);var r=function(a){return a?--a*a*((n+1)*a+n)+1:0},i=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:K_(r);return i.config=function(o){return t(e,o)},i};Yt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Ur(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})}),Xe.Linear.easeNone=Xe.none=Xe.Linear.easeIn,Ur("Elastic",Ic("in"),Ic("out"),Ic()),function(t,e){var n=1/e,r=2*n,i=2.5*n,o=function(s){return s<n?t*s*s:s<r?t*Math.pow(s-1.5/e,2)+.75:s<i?t*(s-=2.25/e)*s+.9375:t*Math.pow(s-2.625/e,2)+.984375};Ur("Bounce",function(a){return 1-o(1-a)},o)}(7.5625,2.75),Ur("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),Ur("Circ",function(t){return-(p_(1-t*t)-1)}),Ur("Sine",function(t){return t===1?1:-rE(t*tE)+1}),Ur("Back",Pc("in"),Pc("out"),Pc()),Xe.SteppedEase=Xe.steps=nn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),o=n?1:0,a=1-st;return function(s){return((i*Zo(0,a,s)|0)+o)*r}}},Ci.ease=Xe["quad.out"],Yt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return kc+=t+","+t+"Params,"});var J_=function(e,n){this.id=nE++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:E_,this.set=n?n.getSetter:jc},ea=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Si(this,+n.duration,1,1),this.data=n.data,ut&&(this._ctx=ut,ut.data.push(this)),$o||an.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Si(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Di(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(Ls(this,r),!o._dp||o.parent||D_(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Sn(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===st||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),C_(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+T_(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+T_(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?Bi(this._tTime,o)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-st?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?Ps(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-st?0:this._rts,this.totalTime(Zo(-Math.abs(this._delay),this._tDur,o),i!==!1),Ns(this),fE(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Di(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==st&&(this._tTime-=st)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Sn(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Wt(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ps(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=sE);var i=Bt;return Bt=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Bt=i,this},e.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,I_(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,I_(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(dn(this,r),Wt(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Wt(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-st:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-st,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-st)},e.eventCallback=function(r,i,o){var a=this.vars;return arguments.length>1?(i?(a[r]=i,o&&(a[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=i)):delete a[r],this):a[r]},e.then=function(r){var i=this;return new Promise(function(o){var a=dt(r)?r:M_,s=function(){var u=i.then;i.then=null,dt(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=u),o(a),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?s():i._prom=s})},e.kill=function(){Ko(this)},t}();hn(ea.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-st,_prom:0,_ps:!1,_rts:1});var Nt=function(t){d_(e,t);function e(r,i){var o;return r===void 0&&(r={}),o=t.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=Wt(r.sortChildren),ct&&Sn(r.parent||ct,Yn(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&O_(Yn(o),r.scrollTrigger),o}var n=e.prototype;return n.to=function(i,o,a){return Xo(0,arguments,this),this},n.from=function(i,o,a){return Xo(1,arguments,this),this},n.fromTo=function(i,o,a,s){return Xo(2,arguments,this),this},n.set=function(i,o,a){return o.duration=0,o.parent=this,Qo(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new _t(i,o,dn(this,a),1),this},n.call=function(i,o,a){return Sn(this,_t.delayedCall(0,i,o),a)},n.staggerTo=function(i,o,a,s,l,u,c){return a.duration=o,a.stagger=a.stagger||s,a.onComplete=u,a.onCompleteParams=c,a.parent=this,new _t(i,a,dn(this,l)),this},n.staggerFrom=function(i,o,a,s,l,u,c){return a.runBackwards=1,Qo(a).immediateRender=Wt(a.immediateRender),this.staggerTo(i,o,a,s,l,u,c)},n.staggerFromTo=function(i,o,a,s,l,u,c,h){return s.startAt=a,Qo(s).immediateRender=Wt(s.immediateRender),this.staggerTo(i,o,s,l,u,c,h)},n.render=function(i,o,a){var s=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:wt(i),h=this._zTime<0!=i<0&&(this._initted||!u),p,g,v,m,y,A,E,k,x,M,I,D;if(this!==ct&&c>l&&i>=0&&(c=l),c!==this._tTime||a||h){if(s!==this._time&&u&&(c+=this._time-s,i+=this._time-s),p=c,x=this._start,k=this._ts,A=!k,h&&(u||(s=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(I=this._yoyo,y=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,o,a);if(p=wt(c%y),c===l?(m=this._repeat,p=u):(m=~~(c/y),m&&m===c/y&&(p=u,m--),p>u&&(p=u)),M=Bi(this._tTime,y),!s&&this._tTime&&M!==m&&this._tTime-M*y-this._dur<=0&&(M=m),I&&m&1&&(p=u-p,D=1),m!==M&&!this._lock){var N=I&&M&1,O=N===(I&&m&1);if(m<M&&(N=!N),s=N?0:c%u?u:c,this._lock=1,this.render(s||(D?0:wt(m*y)),o,!u)._lock=0,this._tTime=c,!o&&this.parent&&on(this,"onRepeat"),this.vars.repeatRefresh&&!D&&(this.invalidate()._lock=1),s&&s!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,O&&(this._lock=2,s=N?u:-1e-4,this.render(s,!0),this.vars.repeatRefresh&&!D&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;q_(this,D)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=_E(this,wt(s),wt(p)),E&&(c-=p-(p=E._start))),this._tTime=c,this._time=p,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,s=0),!s&&p&&!o&&!m&&(on(this,"onStart"),this._tTime!==c))return this;if(p>=s&&i>=0)for(g=this._first;g;){if(v=g._next,(g._act||p>=g._start)&&g._ts&&E!==g){if(g.parent!==this)return this.render(i,o,a);if(g.render(g._ts>0?(p-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(p-g._start)*g._ts,o,a),p!==this._time||!this._ts&&!A){E=0,v&&(c+=this._zTime=-st);break}}g=v}else{g=this._last;for(var W=i<0?i:p;g;){if(v=g._prev,(g._act||W<=g._end)&&g._ts&&E!==g){if(g.parent!==this)return this.render(i,o,a);if(g.render(g._ts>0?(W-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(W-g._start)*g._ts,o,a||Bt&&(g._initted||g._startAt)),p!==this._time||!this._ts&&!A){E=0,v&&(c+=this._zTime=W?-st:st);break}}g=v}}if(E&&!o&&(this.pause(),E.render(p>=s?0:-st)._zTime=p>=s?1:-1,this._ts))return this._start=x,Ns(this),this.render(i,o,a);this._onUpdate&&!o&&on(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&s)&&(x===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&pr(this,1),!o&&!(i<0&&!s)&&(c||s||!l)&&(on(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,o){var a=this;if(Vn(o)||(o=dn(this,o,i)),!(i instanceof ea)){if(St(i))return i.forEach(function(s){return a.add(s,o)}),this;if(At(i))return this.addLabel(i,o);if(dt(i))i=_t.delayedCall(0,i);else return this}return this!==i?Sn(this,i,o):this},n.getChildren=function(i,o,a,s){i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),s===void 0&&(s=-fn);for(var l=[],u=this._first;u;)u._start>=s&&(u instanceof _t?o&&l.push(u):(a&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,o,a)))),u=u._next;return l},n.getById=function(i){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===i)return o[a]},n.remove=function(i){return At(i)?this.removeLabel(i):dt(i)?this.killTweensOf(i):(Is(this,i),i===this._recent&&(this._recent=this._last),Fr(this))},n.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=wt(an.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},n.addLabel=function(i,o){return this.labels[i]=dn(this,o),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,o,a){var s=_t.delayedCall(0,o||Ho,a);return s.data="isPause",this._hasPause=1,Sn(this,s,dn(this,i))},n.removePause=function(i){var o=this._first;for(i=dn(this,i);o;)o._start===i&&o.data==="isPause"&&pr(o),o=o._next},n.killTweensOf=function(i,o,a){for(var s=this.getTweensOf(i,a),l=s.length;l--;)mr!==s[l]&&s[l].kill(i,o);return this},n.getTweensOf=function(i,o){for(var a=[],s=pn(i),l=this._first,u=Vn(o),c;l;)l instanceof _t?lE(l._targets,s)&&(u?(!mr||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&a.push(l):(c=l.getTweensOf(s,o)).length&&a.push.apply(a,c),l=l._next;return a},n.tweenTo=function(i,o){o=o||{};var a=this,s=dn(a,i),l=o,u=l.startAt,c=l.onStart,h=l.onStartParams,p=l.immediateRender,g,v=_t.to(a,hn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:o.duration||Math.abs((s-(u&&"time"in u?u.time:a._time))/a.timeScale())||st,onStart:function(){if(a.pause(),!g){var y=o.duration||Math.abs((s-(u&&"time"in u?u.time:a._time))/a.timeScale());v._dur!==y&&Si(v,y,0,1).render(v._time,!0,!0),g=1}c&&c.apply(v,h||[])}},o));return p?v.render(0):v},n.tweenFromTo=function(i,o,a){return this.tweenTo(o,hn({startAt:{time:dn(this,i)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),W_(this,dn(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),W_(this,dn(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+st)},n.shiftChildren=function(i,o,a){a===void 0&&(a=0);for(var s=this._first,l=this.labels,u;s;)s._start>=a&&(s._start+=i,s._end+=i),s=s._next;if(o)for(u in l)l[u]>=a&&(l[u]+=i);return Fr(this)},n.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Fr(this)},n.totalDuration=function(i){var o=0,a=this,s=a._last,l=fn,u,c,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(h=a.parent;s;)u=s._prev,s._dirty&&s.totalDuration(),c=s._start,c>l&&a._sort&&s._ts&&!a._lock?(a._lock=1,Sn(a,s,c-s._delay,1)._lock=0):l=c,c<0&&s._ts&&(o-=c,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=c/a._ts,a._time-=c,a._tTime-=c),a.shiftChildren(-c,!1,-1/0),l=0),s._end>o&&s._ts&&(o=s._end),s=u;Si(a,a===ct&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(ct._ts&&(C_(ct,Ps(i,ct)),w_=an.frame),an.frame>=x_){x_+=tn.autoSleep||120;var o=ct._first;if((!o||!o._ts)&&tn.autoSleep&&an._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||an.sleep()}}},e}(ea);hn(Nt.prototype,{_lock:0,_hasPause:0,_forcing:0});var DE=function(e,n,r,i,o,a,s){var l=new Vt(this._pt,e,n,0,1,ig,null,o),u=0,c=0,h,p,g,v,m,y,A,E;for(l.b=r,l.e=i,r+="",i+="",(A=~i.indexOf("random("))&&(i=qo(i)),a&&(E=[r,i],a(E,e,n),r=E[0],i=E[1]),p=r.match(yc)||[];h=yc.exec(i);)v=h[0],m=i.substring(u,h.index),g?g=(g+1)%5:m.substr(-5)==="rgba("&&(g=1),v!==p[c++]&&(y=parseFloat(p[c-1])||0,l._pt={_next:l._pt,p:m||c===1?m:",",s:y,c:v.charAt(1)==="="?Mi(y,v)-y:parseFloat(v)-y,m:g&&g<4?Math.round:0},u=yc.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=s,(m_.test(i)||A)&&(l.e=0),this._pt=l,l},Nc=function(e,n,r,i,o,a,s,l,u,c){dt(i)&&(i=i(o||0,e,a));var h=e[n],p=r!=="get"?r:dt(h)?u?e[n.indexOf("set")||!dt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():h,g=dt(h)?u?NE:ng:Fc,v;if(At(i)&&(~i.indexOf("random(")&&(i=qo(i)),i.charAt(1)==="="&&(v=Mi(p,i)+(Tt(p)||0),(v||v===0)&&(i=v))),!c||p!==i||Lc)return!isNaN(p*i)&&i!==""?(v=new Vt(this._pt,e,n,+p||0,i-(p||0),typeof h=="boolean"?RE:rg,0,g),u&&(v.fp=u),s&&v.modifier(s,this,e),this._pt=v):(!h&&!(n in e)&&wc(n,i),DE.call(this,e,n,p,i,g,l||tn.stringFilter,u))},OE=function(e,n,r,i,o){if(dt(e)&&(e=ta(e,o,n,r,i)),!Mn(e)||e.style&&e.nodeType||St(e)||__(e))return At(e)?ta(e,o,n,r,i):e;var a={},s;for(s in e)a[s]=ta(e[s],o,n,r,i);return a},$_=function(e,n,r,i,o,a){var s,l,u,c;if(rn[e]&&(s=new rn[e]).init(o,s.rawVars?n[e]:OE(n[e],i,o,a,r),r,i,a)!==!1&&(r._pt=l=new Vt(r._pt,o,e,0,1,s.render,s,0,s.priority),r!==Ti))for(u=r._ptLookup[r._targets.indexOf(o)],c=s._props.length;c--;)u[s._props[c]]=l;return s},mr,Lc,Rc=function t(e,n,r){var i=e.vars,o=i.ease,a=i.startAt,s=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,h=i.yoyoEase,p=i.keyframes,g=i.autoRevert,v=e._dur,m=e._startAt,y=e._targets,A=e.parent,E=A&&A.data==="nested"?A.vars.targets:y,k=e._overwrite==="auto"&&!pc,x=e.timeline,M,I,D,N,O,W,F,re,q,P,J,Y,Q;if(x&&(!p||!o)&&(o="none"),e._ease=jr(o,Ci.ease),e._yEase=h?Z_(jr(h===!0?o:h,Ci.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!x&&!!i.runBackwards,!x||p&&!i.stagger){if(re=y[0]?Lr(y[0]).harness:0,Y=re&&i[re.prop],M=zs(i,xc),m&&(m._zTime<0&&m.progress(1),n<0&&c&&s&&!g?m.render(-1,!0):m.revert(c&&v?Ts:aE),m._lazy=0),a){if(pr(e._startAt=_t.set(y,hn({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!m&&Wt(l),startAt:null,delay:0,onUpdate:u&&function(){return on(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Bt||!s&&!g)&&e._startAt.revert(Ts),s&&v&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&v&&!m){if(n&&(s=!1),D=hn({overwrite:!1,data:"isFromStart",lazy:s&&!m&&Wt(l),immediateRender:s,stagger:0,parent:A},M),Y&&(D[re.prop]=Y),pr(e._startAt=_t.set(y,D)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Bt?e._startAt.revert(Ts):e._startAt.render(-1,!0)),e._zTime=n,!s)t(e._startAt,st,st);else if(!n)return}for(e._pt=e._ptCache=0,l=v&&Wt(l)||l&&!v,I=0;I<y.length;I++){if(O=y[I],F=O._gsap||Mc(y)[I]._gsap,e._ptLookup[I]=P={},Ec[F.id]&&dr.length&&Os(),J=E===y?I:E.indexOf(O),re&&(q=new re).init(O,Y||M,e,J,E)!==!1&&(e._pt=N=new Vt(e._pt,O,q.name,0,1,q.render,q,0,q.priority),q._props.forEach(function(fe){P[fe]=N}),q.priority&&(W=1)),!re||Y)for(D in M)rn[D]&&(q=$_(D,M,e,J,O,E))?q.priority&&(W=1):P[D]=N=Nc.call(e,O,D,"get",M[D],J,E,0,i.stringFilter);e._op&&e._op[I]&&e.kill(O,e._op[I]),k&&e._pt&&(mr=e,ct.killTweensOf(O,P,e.globalTime(n)),Q=!e.parent,mr=0),e._pt&&l&&(Ec[F.id]=1)}W&&og(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!Q,p&&n<=0&&x.render(fn,!0,!0)},zE=function(e,n,r,i,o,a,s,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,h,p,g;if(!u)for(u=e._ptCache[n]=[],p=e._ptLookup,g=e._targets.length;g--;){if(c=p[g][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return Lc=1,e.vars[n]="+=0",Rc(e,s),Lc=0,l?Go(n+" not eligible for reset"):1;u.push(c)}for(g=u.length;g--;)h=u[g],c=h._pt||h,c.s=(i||i===0)&&!o?i:c.s+(i||0)+a*c.c,c.c=r-c.s,h.e&&(h.e=pt(r)+Tt(h.e)),h.b&&(h.b=c.s+Tt(h.b))},IE=function(e,n){var r=e[0]?Lr(e[0]).harness:0,i=r&&r.aliases,o,a,s,l;if(!i)return n;o=Rr({},n);for(a in i)if(a in o)for(l=i[a].split(","),s=l.length;s--;)o[l[s]]=o[a];return o},PE=function(e,n,r,i){var o=n.ease||i||"power1.inOut",a,s;if(St(n))s=r[e]||(r[e]=[]),n.forEach(function(l,u){return s.push({t:u/(n.length-1)*100,v:l,e:o})});else for(a in n)s=r[a]||(r[a]=[]),a==="ease"||s.push({t:parseFloat(e),v:n[a],e:o})},ta=function(e,n,r,i,o){return dt(e)?e.call(n,r,i,o):At(e)&&~e.indexOf("random(")?qo(e):e},eg=kc+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",tg={};Yt(eg+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return tg[t]=1});var _t=function(t){d_(e,t);function e(r,i,o,a){var s;typeof i=="number"&&(o.duration=i,i=o,o=null),s=t.call(this,a?i:Qo(i))||this;var l=s.vars,u=l.duration,c=l.delay,h=l.immediateRender,p=l.stagger,g=l.overwrite,v=l.keyframes,m=l.defaults,y=l.scrollTrigger,A=l.yoyoEase,E=i.parent||ct,k=(St(r)||__(r)?Vn(r[0]):"length"in i)?[r]:pn(r),x,M,I,D,N,O,W,F;if(s._targets=k.length?Mc(k):Go("GSAP target "+r+" not found. https://gsap.com",!tn.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=g,v||p||Bs(u)||Bs(c)){if(i=s.vars,x=s.timeline=new Nt({data:"nested",defaults:m||{},targets:E&&E.data==="nested"?E.vars.targets:k}),x.kill(),x.parent=x._dp=Yn(s),x._start=0,p||Bs(u)||Bs(c)){if(D=k.length,W=p&&L_(p),Mn(p))for(N in p)~eg.indexOf(N)&&(F||(F={}),F[N]=p[N]);for(M=0;M<D;M++)I=zs(i,tg),I.stagger=0,A&&(I.yoyoEase=A),F&&Rr(I,F),O=k[M],I.duration=+ta(u,Yn(s),M,O,k),I.delay=(+ta(c,Yn(s),M,O,k)||0)-s._delay,!p&&D===1&&I.delay&&(s._delay=c=I.delay,s._start+=c,I.delay=0),x.to(O,I,W?W(M,O,k):0),x._ease=Xe.none;x.duration()?u=c=0:s.timeline=0}else if(v){Qo(hn(x.vars.defaults,{ease:"none"})),x._ease=jr(v.ease||i.ease||"none");var re=0,q,P,J;if(St(v))v.forEach(function(Y){return x.to(k,Y,">")}),x.duration();else{I={};for(N in v)N==="ease"||N==="easeEach"||PE(N,v[N],I,v.easeEach);for(N in I)for(q=I[N].sort(function(Y,Q){return Y.t-Q.t}),re=0,M=0;M<q.length;M++)P=q[M],J={ease:P.e,duration:(P.t-(M?q[M-1].t:0))/100*u},J[N]=P.v,x.to(k,J,re),re+=J.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||s.duration(u=x.duration())}else s.timeline=0;return g===!0&&!pc&&(mr=Yn(s),ct.killTweensOf(k),mr=0),Sn(E,Yn(s),o),i.reversed&&s.reverse(),i.paused&&s.paused(!0),(h||!u&&!v&&s._start===wt(E._time)&&Wt(h)&&hE(Yn(s))&&E.data!=="nested")&&(s._tTime=-st,s.render(Math.max(0,-c)||0)),y&&O_(Yn(s),y),s}var n=e.prototype;return n.render=function(i,o,a){var s=this._time,l=this._tDur,u=this._dur,c=i<0,h=i>l-st&&!c?l:i<st?0:i,p,g,v,m,y,A,E,k,x;if(!u)pE(this,i,o,a);else if(h!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(p=h,k=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(m*100+i,o,a);if(p=wt(h%m),h===l?(v=this._repeat,p=u):(v=~~(h/m),v&&v===wt(h/m)&&(p=u,v--),p>u&&(p=u)),A=this._yoyo&&v&1,A&&(x=this._yEase,p=u-p),y=Bi(this._tTime,m),p===s&&!a&&this._initted&&v===y)return this._tTime=h,this;v!==y&&(k&&this._yEase&&q_(k,A),this.vars.repeatRefresh&&!A&&!this._lock&&this._time!==m&&this._initted&&(this._lock=a=1,this.render(wt(m*v),!0).invalidate()._lock=0))}if(!this._initted){if(z_(this,c?i:p,a,o,h))return this._tTime=0,this;if(s!==this._time&&!(a&&this.vars.repeatRefresh&&v!==y))return this;if(u!==this._dur)return this.render(i,o,a)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(x||this._ease)(p/u),this._from&&(this.ratio=E=1-E),p&&!s&&!o&&!v&&(on(this,"onStart"),this._tTime!==h))return this;for(g=this._pt;g;)g.r(E,g.d),g=g._next;k&&k.render(i<0?i:k._dur*k._ease(p/this._dur),o,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(c&&Bc(this,i,o,a),on(this,"onUpdate")),this._repeat&&v!==y&&this.vars.onRepeat&&!o&&this.parent&&on(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(c&&!this._onUpdate&&Bc(this,i,!0,!0),(i||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&pr(this,1),!o&&!(c&&!s)&&(h||s||A)&&(on(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,o,a,s,l){$o||an.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Rc(this,u),c=this._ease(u/this._dur),zE(this,i,o,a,s,c,u,l)?this.resetTo(i,o,a,s,1):(Ls(this,0),this.parent||S_(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?Ko(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,mr&&mr.vars.overwrite!==!0)._first||Ko(this),this.parent&&a!==this.timeline.totalDuration()&&Si(this,this._dur*this.timeline._tDur/a,0,1),this}var s=this._targets,l=i?pn(i):s,u=this._ptLookup,c=this._pt,h,p,g,v,m,y,A;if((!o||o==="all")&&cE(s,l))return o==="all"&&(this._pt=0),Ko(this);for(h=this._op=this._op||[],o!=="all"&&(At(o)&&(m={},Yt(o,function(E){return m[E]=1}),o=m),o=IE(s,o)),A=s.length;A--;)if(~l.indexOf(s[A])){p=u[A],o==="all"?(h[A]=o,v=p,g={}):(g=h[A]=h[A]||{},v=o);for(m in v)y=p&&p[m],y&&((!("kill"in y.d)||y.d.kill(m)===!0)&&Is(this,y,"_pt"),delete p[m]),g!=="all"&&(g[m]=1)}return this._initted&&!this._pt&&c&&Ko(this),this},e.to=function(i,o){return new e(i,o,arguments[2])},e.from=function(i,o){return Xo(1,arguments)},e.delayedCall=function(i,o,a,s){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:s})},e.fromTo=function(i,o,a){return Xo(2,arguments)},e.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(i,o)},e.killTweensOf=function(i,o,a){return ct.killTweensOf(i,o,a)},e}(ea);hn(_t.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Yt("staggerTo,staggerFrom,staggerFromTo",function(t){_t[t]=function(){var e=new Nt,n=Tc.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Fc=function(e,n,r){return e[n]=r},ng=function(e,n,r){return e[n](r)},NE=function(e,n,r,i){return e[n](i.fp,r)},LE=function(e,n,r){return e.setAttribute(n,r)},jc=function(e,n){return dt(e[n])?ng:gc(e[n])&&e.setAttribute?LE:Fc},rg=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},RE=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},ig=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Uc=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},FE=function(e,n,r,i){for(var o=this._pt,a;o;)a=o._next,o.p===i&&o.modifier(e,n,r),o=a},jE=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Is(this,n,"_pt"):n.dep||(r=1),n=i;return!r},UE=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},og=function(e){for(var n=e._pt,r,i,o,a;n;){for(r=n._next,i=o;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:a)?n._prev._next=n:o=n,(n._next=i)?i._prev=n:a=n,n=r}e._pt=o},Vt=function(){function t(n,r,i,o,a,s,l,u,c){this.t=r,this.s=o,this.c=a,this.p=i,this.r=s||rg,this.d=l||this,this.set=u||Fc,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=UE,this.m=r,this.mt=o,this.tween=i},t}();Yt(kc+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return xc[t]=1}),nn.TweenMax=nn.TweenLite=_t,nn.TimelineLite=nn.TimelineMax=Nt,ct=new Nt({sortChildren:!1,defaults:Ci,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),tn.stringFilter=X_;var Wr=[],Rs={},WE=[],ag=0,YE=0,Wc=function(e){return(Rs[e]||WE).map(function(n){return n()})},Yc=function(){var e=Date.now(),n=[];e-ag>2&&(Wc("matchMediaInit"),Wr.forEach(function(r){var i=r.queries,o=r.conditions,a,s,l,u;for(s in i)a=Bn.matchMedia(i[s]).matches,a&&(l=1),a!==o[s]&&(o[s]=a,u=1);u&&(r.revert(),l&&n.push(r))}),Wc("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ag=e,Wc("matchMedia"))},sg=function(){function t(n,r){this.selector=r&&Dc(r),this.data=[],this._r=[],this.isReverted=!1,this.id=YE++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,o){dt(r)&&(o=i,i=r,r=dt);var a=this,s=function(){var u=ut,c=a.selector,h;return u&&u!==a&&u.data.push(a),o&&(a.selector=Dc(o)),ut=a,h=i.apply(a,arguments),dt(h)&&a._r.push(h),ut=u,a.selector=c,a.isReverted=!1,h};return a.last=s,r===dt?s(a,function(l){return a.add(null,l)}):r?a[r]=s:s},e.ignore=function(r){var i=ut;ut=null,r(this),ut=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof _t&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var o=this;if(r?function(){for(var s=o.getTweens(),l=o.data.length,u;l--;)u=o.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return s.splice(s.indexOf(c),1)}));for(s.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,h){return h.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=o.data.length;l--;)u=o.data[l],u instanceof Nt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof _t)&&u.revert&&u.revert(r);o._r.forEach(function(c){return c(r,o)}),o.isReverted=!0}():this.data.forEach(function(s){return s.kill&&s.kill()}),this.clear(),i)for(var a=Wr.length;a--;)Wr[a].id===this.id&&Wr.splice(a,1)},e.revert=function(r){this.kill(r||{})},t}(),VE=function(){function t(n){this.contexts=[],this.scope=n,ut&&ut.data.push(this)}var e=t.prototype;return e.add=function(r,i,o){Mn(r)||(r={matches:r});var a=new sg(0,o||this.scope),s=a.conditions={},l,u,c;ut&&!a.selector&&(a.selector=ut.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=r;for(u in r)u==="all"?c=1:(l=Bn.matchMedia(r[u]),l&&(Wr.indexOf(a)<0&&Wr.push(a),(s[u]=l.matches)&&(c=1),l.addListener?l.addListener(Yc):l.addEventListener("change",Yc)));return c&&i(a,function(h){return a.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Fs={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return V_(i)})},timeline:function(e){return new Nt(e)},getTweensOf:function(e,n){return ct.getTweensOf(e,n)},getProperty:function(e,n,r,i){At(e)&&(e=pn(e)[0]);var o=Lr(e||{}).get,a=r?M_:k_;return r==="native"&&(r=""),e&&(n?a((rn[n]&&rn[n].get||o)(e,n,r,i)):function(s,l,u){return a((rn[s]&&rn[s].get||o)(e,s,l,u))})},quickSetter:function(e,n,r){if(e=pn(e),e.length>1){var i=e.map(function(c){return Gt.quickSetter(c,n,r)}),o=i.length;return function(c){for(var h=o;h--;)i[h](c)}}e=e[0]||{};var a=rn[n],s=Lr(e),l=s.harness&&(s.harness.aliases||{})[n]||n,u=a?function(c){var h=new a;Ti._pt=0,h.init(e,r?c+r:c,Ti,0,[e]),h.render(1,h),Ti._pt&&Uc(1,Ti)}:s.set(e,l);return a?u:function(c){return u(e,l,r?c+r:c,s,1)}},quickTo:function(e,n,r){var i,o=Gt.to(e,Rr((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),a=function(l,u,c){return o.resetTo(n,l,u,c)};return a.tween=o,a},isTweening:function(e){return ct.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=jr(e.ease,Ci.ease)),B_(Ci,e||{})},config:function(e){return B_(tn,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,o=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(s){return s&&!rn[s]&&!nn[s]&&Go(n+" effect requires "+s+" plugin.")}),Cc[n]=function(s,l,u){return r(pn(s),hn(l||{},o),u)},a&&(Nt.prototype[n]=function(s,l,u){return this.add(Cc[n](s,Mn(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){Xe[e]=jr(n)},parseEase:function(e,n){return arguments.length?jr(e,n):Xe},getById:function(e){return ct.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Nt(e),i,o;for(r.smoothChildTiming=Wt(e.smoothChildTiming),ct.remove(r),r._dp=0,r._time=r._tTime=ct._time,i=ct._first;i;)o=i._next,(n||!(!i._dur&&i instanceof _t&&i.vars.onComplete===i._targets[0]))&&Sn(r,i,i._start-i._delay),i=o;return Sn(ct,r,0),r},context:function(e,n){return e?new sg(e,n):ut},matchMedia:function(e){return new VE(e)},matchMediaRefresh:function(){return Wr.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||Yc()},addEventListener:function(e,n){var r=Rs[e]||(Rs[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Rs[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:wE,wrapYoyo:xE,distribute:L_,random:F_,snap:R_,normalize:AE,getUnit:Tt,clamp:mE,splitColor:G_,toArray:pn,selector:Dc,mapRange:U_,pipe:yE,unitize:bE,interpolate:EE,shuffle:N_},install:b_,effects:Cc,ticker:an,updateRoot:Nt.updateRoot,plugins:rn,globalTimeline:ct,core:{PropTween:Vt,globals:A_,Tween:_t,Timeline:Nt,Animation:ea,getCache:Lr,_removeLinkedListItem:Is,reverting:function(){return Bt},context:function(e){return e&&ut&&(ut.data.push(e),e._ctx=ut),ut},suppressOverwrites:function(e){return pc=e}}};Yt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Fs[t]=_t[t]}),an.add(Nt.updateRoot),Ti=Fs.to({},{duration:0});var GE=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},HE=function(e,n){var r=e._targets,i,o,a;for(i in n)for(o=r.length;o--;)a=e._ptLookup[o][i],a&&(a=a.d)&&(a._pt&&(a=GE(a,i)),a&&a.modifier&&a.modifier(n[i],e,r[o],i))},Vc=function(e,n){return{name:e,rawVars:1,init:function(i,o,a){a._onInit=function(s){var l,u;if(At(o)&&(l={},Yt(o,function(c){return l[c]=1}),o=l),n){l={};for(u in o)l[u]=n(o[u]);o=l}HE(s,o)}}}},Gt=Fs.registerPlugin({name:"attr",init:function(e,n,r,i,o){var a,s,l;this.tween=r;for(a in n)l=e.getAttribute(a)||"",s=this.add(e,"setAttribute",(l||0)+"",n[a],i,o,0,0,a),s.op=a,s.b=l,this._props.push(a)},render:function(e,n){for(var r=n._pt;r;)Bt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Vc("roundProps",Oc),Vc("modifiers"),Vc("snap",R_))||Fs;_t.version=Nt.version=Gt.version="3.12.5",y_=1,mc()&&Di(),Xe.Power0,Xe.Power1,Xe.Power2,Xe.Power3,Xe.Power4,Xe.Linear,Xe.Quad,Xe.Cubic,Xe.Quart,Xe.Quint,Xe.Strong,Xe.Elastic,Xe.Back,Xe.SteppedEase,Xe.Bounce,Xe.Sine,Xe.Expo,Xe.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var lg,vr,Oi,Gc,Yr,ug,Hc,QE=function(){return typeof window<"u"},Gn={},Vr=180/Math.PI,zi=Math.PI/180,Ii=Math.atan2,cg=1e8,Qc=/([A-Z])/g,XE=/(left|right|width|margin|padding|x)/i,ZE=/[\s,\(]\S/,Tn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Xc=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},qE=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},KE=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},JE=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},fg=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},hg=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},$E=function(e,n,r){return e.style[n]=r},eC=function(e,n,r){return e.style.setProperty(n,r)},tC=function(e,n,r){return e._gsap[n]=r},nC=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},rC=function(e,n,r,i,o){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(o,a)},iC=function(e,n,r,i,o){var a=e._gsap;a[n]=r,a.renderTransform(o,a)},ft="transform",Ht=ft+"Origin",oC=function t(e,n){var r=this,i=this.target,o=i.style,a=i._gsap;if(e in Gn&&o){if(this.tfm=this.tfm||{},e!=="transform")e=Tn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(s){return r.tfm[s]=Hn(i,s)}):this.tfm[e]=a.x?a[e]:Hn(i,e),e===Ht&&(this.tfm.zOrigin=a.zOrigin);else return Tn.transform.split(",").forEach(function(s){return t.call(r,s,n)});if(this.props.indexOf(ft)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ht,n,"")),e=ft}(o||n)&&this.props.push(e,n,o[e])},dg=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},aC=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?n[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Qc,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),o=Hc(),(!o||!o.isStart)&&!r[ft]&&(dg(r),i.zOrigin&&r[Ht]&&(r[Ht]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},pg=function(e,n){var r={target:e,props:[],revert:aC,save:oC};return e._gsap||Gt.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},_g,Zc=function(e,n){var r=vr.createElementNS?vr.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):vr.createElement(e);return r&&r.style?r:vr.createElement(e)},Dn=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Qc,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Pi(n)||n,1)||""},gg="O,Moz,ms,Ms,Webkit".split(","),Pi=function(e,n,r){var i=n||Yr,o=i.style,a=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(gg[a]+e in o););return a<0?null:(a===3?"ms":a>=0?gg[a]:"")+e},qc=function(){QE()&&window.document&&(lg=window,vr=lg.document,Oi=vr.documentElement,Yr=Zc("div")||{style:{}},Zc("div"),ft=Pi(ft),Ht=ft+"Origin",Yr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_g=!!Pi("perspective"),Hc=Gt.core.reverting,Gc=1)},Kc=function t(e){var n=Zc("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,o=this.style.cssText,a;if(Oi.appendChild(n),n.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(a=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Oi.removeChild(n),this.style.cssText=o,a},mg=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},vg=function(e){var n;try{n=e.getBBox()}catch{n=Kc.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===Kc||(n=Kc.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+mg(e,["x","cx","x1"])||0,y:+mg(e,["y","cy","y1"])||0,width:0,height:0}:n},yg=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&vg(e))},Gr=function(e,n){if(n){var r=e.style,i;n in Gn&&n!==Ht&&(n=ft),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(Qc,"-$1").toLowerCase())):r.removeAttribute(n)}},yr=function(e,n,r,i,o,a){var s=new Vt(e._pt,n,r,0,1,a?hg:fg);return e._pt=s,s.b=i,s.e=o,e._props.push(r),s},bg={deg:1,rad:1,turn:1},sC={grid:1,flex:1},br=function t(e,n,r,i){var o=parseFloat(r)||0,a=(r+"").trim().substr((o+"").length)||"px",s=Yr.style,l=XE.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),h=100,p=i==="px",g=i==="%",v,m,y,A;if(i===a||!o||bg[i]||bg[a])return o;if(a!=="px"&&!p&&(o=t(e,n,r,"px")),A=e.getCTM&&yg(e),(g||a==="%")&&(Gn[n]||~n.indexOf("adius")))return v=A?e.getBBox()[l?"width":"height"]:e[c],pt(g?o/v*h:o/100*v);if(s[l?"width":"height"]=h+(p?a:i),m=~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,A&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===vr||!m.appendChild)&&(m=vr.body),y=m._gsap,y&&g&&y.width&&l&&y.time===an.time&&!y.uncache)return pt(o/y.width*h);if(g&&(n==="height"||n==="width")){var E=e.style[n];e.style[n]=h+i,v=e[c],E?e.style[n]=E:Gr(e,n)}else(g||a==="%")&&!sC[Dn(m,"display")]&&(s.position=Dn(e,"position")),m===e&&(s.position="static"),m.appendChild(Yr),v=Yr[c],m.removeChild(Yr),s.position="absolute";return l&&g&&(y=Lr(m),y.time=an.time,y.width=m[c]),pt(p?v*o/h:v&&o?h/v*o:0)},Hn=function(e,n,r,i){var o;return Gc||qc(),n in Tn&&n!=="transform"&&(n=Tn[n],~n.indexOf(",")&&(n=n.split(",")[0])),Gn[n]&&n!=="transform"?(o=ra(e,i),o=n!=="transformOrigin"?o[n]:o.svg?o.origin:Us(Dn(e,Ht))+" "+o.zOrigin+"px"):(o=e.style[n],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=js[n]&&js[n](e,n,r)||Dn(e,n)||E_(e,n)||(n==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?br(e,n,o,r)+r:o},lC=function(e,n,r,i){if(!r||r==="none"){var o=Pi(n,e,1),a=o&&Dn(e,o,1);a&&a!==r?(n=o,r=a):n==="borderColor"&&(r=Dn(e,"borderTopColor"))}var s=new Vt(this._pt,e.style,n,0,1,ig),l=0,u=0,c,h,p,g,v,m,y,A,E,k,x,M;if(s.b=r,s.e=i,r+="",i+="",i==="auto"&&(m=e.style[n],e.style[n]=i,i=Dn(e,n)||i,m?e.style[n]=m:Gr(e,n)),c=[r,i],X_(c),r=c[0],i=c[1],p=r.match(ki)||[],M=i.match(ki)||[],M.length){for(;h=ki.exec(i);)y=h[0],E=i.substring(l,h.index),v?v=(v+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(v=1),y!==(m=p[u++]||"")&&(g=parseFloat(m)||0,x=m.substr((g+"").length),y.charAt(1)==="="&&(y=Mi(g,y)+x),A=parseFloat(y),k=y.substr((A+"").length),l=ki.lastIndex-k.length,k||(k=k||tn.units[n]||x,l===i.length&&(i+=k,s.e+=k)),x!==k&&(g=br(e,n,m,k)||0),s._pt={_next:s._pt,p:E||u===1?E:",",s:g,c:A-g,m:v&&v<4||n==="zIndex"?Math.round:0});s.c=l<i.length?i.substring(l,i.length):""}else s.r=n==="display"&&i==="none"?hg:fg;return m_.test(i)&&(s.e=0),this._pt=s,s},Ag={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},uC=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=Ag[r]||r,n[1]=Ag[i]||i,n.join(" ")},cC=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,o=n.u,a=r._gsap,s,l,u;if(o==="all"||o===!0)i.cssText="",l=1;else for(o=o.split(","),u=o.length;--u>-1;)s=o[u],Gn[s]&&(l=1,s=s==="transformOrigin"?Ht:ft),Gr(r,s);l&&(Gr(r,ft),a&&(a.svg&&r.removeAttribute("transform"),ra(r,1),a.uncache=1,dg(i)))}},js={clearProps:function(e,n,r,i,o){if(o.data!=="isFromStart"){var a=e._pt=new Vt(e._pt,n,r,0,0,cC);return a.u=i,a.pr=-10,a.tween=o,e._props.push(r),1}}},na=[1,0,0,1,0,0],wg={},xg=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Eg=function(e){var n=Dn(e,ft);return xg(n)?na:n.substr(7).match(g_).map(pt)},Jc=function(e,n){var r=e._gsap||Lr(e),i=e.style,o=Eg(e),a,s,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,o=[l.a,l.b,l.c,l.d,l.e,l.f],o.join(",")==="1,0,0,1,0,0"?na:o):(o===na&&!e.offsetParent&&e!==Oi&&!r.svg&&(l=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(u=1,s=e.nextElementSibling,Oi.appendChild(e)),o=Eg(e),l?i.display=l:Gr(e,"display"),u&&(s?a.insertBefore(e,s):a?a.appendChild(e):Oi.removeChild(e))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},$c=function(e,n,r,i,o,a){var s=e._gsap,l=o||Jc(e,!0),u=s.xOrigin||0,c=s.yOrigin||0,h=s.xOffset||0,p=s.yOffset||0,g=l[0],v=l[1],m=l[2],y=l[3],A=l[4],E=l[5],k=n.split(" "),x=parseFloat(k[0])||0,M=parseFloat(k[1])||0,I,D,N,O;r?l!==na&&(D=g*y-v*m)&&(N=x*(y/D)+M*(-m/D)+(m*E-y*A)/D,O=x*(-v/D)+M*(g/D)-(g*E-v*A)/D,x=N,M=O):(I=vg(e),x=I.x+(~k[0].indexOf("%")?x/100*I.width:x),M=I.y+(~(k[1]||k[0]).indexOf("%")?M/100*I.height:M)),i||i!==!1&&s.smooth?(A=x-u,E=M-c,s.xOffset=h+(A*g+E*m)-A,s.yOffset=p+(A*v+E*y)-E):s.xOffset=s.yOffset=0,s.xOrigin=x,s.yOrigin=M,s.smooth=!!i,s.origin=n,s.originIsAbsolute=!!r,e.style[Ht]="0px 0px",a&&(yr(a,s,"xOrigin",u,x),yr(a,s,"yOrigin",c,M),yr(a,s,"xOffset",h,s.xOffset),yr(a,s,"yOffset",p,s.yOffset)),e.setAttribute("data-svg-origin",x+" "+M)},ra=function(e,n){var r=e._gsap||new J_(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,o=r.scaleX<0,a="px",s="deg",l=getComputedStyle(e),u=Dn(e,Ht)||"0",c,h,p,g,v,m,y,A,E,k,x,M,I,D,N,O,W,F,re,q,P,J,Y,Q,fe,de,ve,ke,Ae,Ze,Me,qe;return c=h=p=m=y=A=E=k=x=0,g=v=1,r.svg=!!(e.getCTM&&yg(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[ft]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[ft]!=="none"?l[ft]:"")),i.scale=i.rotate=i.translate="none"),D=Jc(e,r.svg),r.svg&&(r.uncache?(fe=e.getBBox(),u=r.xOrigin-fe.x+"px "+(r.yOrigin-fe.y)+"px",Q=""):Q=!n&&e.getAttribute("data-svg-origin"),$c(e,Q||u,!!Q||r.originIsAbsolute,r.smooth!==!1,D)),M=r.xOrigin||0,I=r.yOrigin||0,D!==na&&(F=D[0],re=D[1],q=D[2],P=D[3],c=J=D[4],h=Y=D[5],D.length===6?(g=Math.sqrt(F*F+re*re),v=Math.sqrt(P*P+q*q),m=F||re?Ii(re,F)*Vr:0,E=q||P?Ii(q,P)*Vr+m:0,E&&(v*=Math.abs(Math.cos(E*zi))),r.svg&&(c-=M-(M*F+I*q),h-=I-(M*re+I*P))):(qe=D[6],Ze=D[7],ve=D[8],ke=D[9],Ae=D[10],Me=D[11],c=D[12],h=D[13],p=D[14],N=Ii(qe,Ae),y=N*Vr,N&&(O=Math.cos(-N),W=Math.sin(-N),Q=J*O+ve*W,fe=Y*O+ke*W,de=qe*O+Ae*W,ve=J*-W+ve*O,ke=Y*-W+ke*O,Ae=qe*-W+Ae*O,Me=Ze*-W+Me*O,J=Q,Y=fe,qe=de),N=Ii(-q,Ae),A=N*Vr,N&&(O=Math.cos(-N),W=Math.sin(-N),Q=F*O-ve*W,fe=re*O-ke*W,de=q*O-Ae*W,Me=P*W+Me*O,F=Q,re=fe,q=de),N=Ii(re,F),m=N*Vr,N&&(O=Math.cos(N),W=Math.sin(N),Q=F*O+re*W,fe=J*O+Y*W,re=re*O-F*W,Y=Y*O-J*W,F=Q,J=fe),y&&Math.abs(y)+Math.abs(m)>359.9&&(y=m=0,A=180-A),g=pt(Math.sqrt(F*F+re*re+q*q)),v=pt(Math.sqrt(Y*Y+qe*qe)),N=Ii(J,Y),E=Math.abs(N)>2e-4?N*Vr:0,x=Me?1/(Me<0?-Me:Me):0),r.svg&&(Q=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!xg(Dn(e,ft)),Q&&e.setAttribute("transform",Q))),Math.abs(E)>90&&Math.abs(E)<270&&(o?(g*=-1,E+=m<=0?180:-180,m+=m<=0?180:-180):(v*=-1,E+=E<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=h-((r.yPercent=h&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=p+a,r.scaleX=pt(g),r.scaleY=pt(v),r.rotation=pt(m)+s,r.rotationX=pt(y)+s,r.rotationY=pt(A)+s,r.skewX=E+s,r.skewY=k+s,r.transformPerspective=x+a,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Ht]=Us(u)),r.xOffset=r.yOffset=0,r.force3D=tn.force3D,r.renderTransform=r.svg?hC:_g?Cg:fC,r.uncache=0,r},Us=function(e){return(e=e.split(" "))[0]+" "+e[1]},ef=function(e,n,r){var i=Tt(n);return pt(parseFloat(n)+parseFloat(br(e,"x",r+"px",i)))+i},fC=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Cg(e,n)},Hr="0deg",ia="0px",Qr=") ",Cg=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,a=r.x,s=r.y,l=r.z,u=r.rotation,c=r.rotationY,h=r.rotationX,p=r.skewX,g=r.skewY,v=r.scaleX,m=r.scaleY,y=r.transformPerspective,A=r.force3D,E=r.target,k=r.zOrigin,x="",M=A==="auto"&&e&&e!==1||A===!0;if(k&&(h!==Hr||c!==Hr)){var I=parseFloat(c)*zi,D=Math.sin(I),N=Math.cos(I),O;I=parseFloat(h)*zi,O=Math.cos(I),a=ef(E,a,D*O*-k),s=ef(E,s,-Math.sin(I)*-k),l=ef(E,l,N*O*-k+k)}y!==ia&&(x+="perspective("+y+Qr),(i||o)&&(x+="translate("+i+"%, "+o+"%) "),(M||a!==ia||s!==ia||l!==ia)&&(x+=l!==ia||M?"translate3d("+a+", "+s+", "+l+") ":"translate("+a+", "+s+Qr),u!==Hr&&(x+="rotate("+u+Qr),c!==Hr&&(x+="rotateY("+c+Qr),h!==Hr&&(x+="rotateX("+h+Qr),(p!==Hr||g!==Hr)&&(x+="skew("+p+", "+g+Qr),(v!==1||m!==1)&&(x+="scale("+v+", "+m+Qr),E.style[ft]=x||"translate(0, 0)"},hC=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,a=r.x,s=r.y,l=r.rotation,u=r.skewX,c=r.skewY,h=r.scaleX,p=r.scaleY,g=r.target,v=r.xOrigin,m=r.yOrigin,y=r.xOffset,A=r.yOffset,E=r.forceCSS,k=parseFloat(a),x=parseFloat(s),M,I,D,N,O;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=zi,u*=zi,M=Math.cos(l)*h,I=Math.sin(l)*h,D=Math.sin(l-u)*-p,N=Math.cos(l-u)*p,u&&(c*=zi,O=Math.tan(u-c),O=Math.sqrt(1+O*O),D*=O,N*=O,c&&(O=Math.tan(c),O=Math.sqrt(1+O*O),M*=O,I*=O)),M=pt(M),I=pt(I),D=pt(D),N=pt(N)):(M=h,N=p,I=D=0),(k&&!~(a+"").indexOf("px")||x&&!~(s+"").indexOf("px"))&&(k=br(g,"x",a,"px"),x=br(g,"y",s,"px")),(v||m||y||A)&&(k=pt(k+v-(v*M+m*D)+y),x=pt(x+m-(v*I+m*N)+A)),(i||o)&&(O=g.getBBox(),k=pt(k+i/100*O.width),x=pt(x+o/100*O.height)),O="matrix("+M+","+I+","+D+","+N+","+k+","+x+")",g.setAttribute("transform",O),E&&(g.style[ft]=O)},dC=function(e,n,r,i,o){var a=360,s=At(o),l=parseFloat(o)*(s&&~o.indexOf("rad")?Vr:1),u=l-i,c=i+u+"deg",h,p;return s&&(h=o.split("_")[1],h==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),h==="cw"&&u<0?u=(u+a*cg)%a-~~(u/a)*a:h==="ccw"&&u>0&&(u=(u-a*cg)%a-~~(u/a)*a)),e._pt=p=new Vt(e._pt,n,r,i,u,qE),p.e=c,p.u="deg",e._props.push(r),p},kg=function(e,n){for(var r in n)e[r]=n[r];return e},pC=function(e,n,r){var i=kg({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=r.style,s,l,u,c,h,p,g,v;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),a[ft]=n,s=ra(r,1),Gr(r,ft),r.setAttribute("transform",u)):(u=getComputedStyle(r)[ft],a[ft]=n,s=ra(r,1),a[ft]=u);for(l in Gn)u=i[l],c=s[l],u!==c&&o.indexOf(l)<0&&(g=Tt(u),v=Tt(c),h=g!==v?br(r,l,u,v):parseFloat(u),p=parseFloat(c),e._pt=new Vt(e._pt,s,l,h,p-h,Xc),e._pt.u=v||0,e._props.push(l));kg(s,i)};Yt("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",o="Left",a=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(s){return e<2?t+s:"border"+s+t});js[e>1?"border"+t:t]=function(s,l,u,c,h){var p,g;if(arguments.length<4)return p=a.map(function(v){return Hn(s,v,u)}),g=p.join(" "),g.split(p[0]).length===5?p[0]:g;p=(c+"").split(" "),g={},a.forEach(function(v,m){return g[v]=p[m]=p[m]||p[(m-1)/2|0]}),s.init(l,g,h)}});var Mg={name:"css",register:qc,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,o){var a=this._props,s=e.style,l=r.vars.startAt,u,c,h,p,g,v,m,y,A,E,k,x,M,I,D,N;Gc||qc(),this.styles=this.styles||pg(e),N=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(c=n[m],!(rn[m]&&$_(m,n,r,i,e,o)))){if(g=typeof c,v=js[m],g==="function"&&(c=c.call(r,i,e,o),g=typeof c),g==="string"&&~c.indexOf("random(")&&(c=qo(c)),v)v(this,e,m,c,r)&&(D=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),c+="",gr.lastIndex=0,gr.test(u)||(y=Tt(u),A=Tt(c)),A?y!==A&&(u=br(e,m,u,A)+A):y&&(c+=y),this.add(s,"setProperty",u,c,i,o,0,0,m),a.push(m),N.push(m,0,s[m]);else if(g!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(r,i,e,o):l[m],At(u)&&~u.indexOf("random(")&&(u=qo(u)),Tt(u+"")||u==="auto"||(u+=tn.units[m]||Tt(Hn(e,m))||""),(u+"").charAt(1)==="="&&(u=Hn(e,m))):u=Hn(e,m),p=parseFloat(u),E=g==="string"&&c.charAt(1)==="="&&c.substr(0,2),E&&(c=c.substr(2)),h=parseFloat(c),m in Tn&&(m==="autoAlpha"&&(p===1&&Hn(e,"visibility")==="hidden"&&h&&(p=0),N.push("visibility",0,s.visibility),yr(this,s,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),m!=="scale"&&m!=="transform"&&(m=Tn[m],~m.indexOf(",")&&(m=m.split(",")[0]))),k=m in Gn,k){if(this.styles.save(m),x||(M=e._gsap,M.renderTransform&&!n.parseTransform||ra(e,n.parseTransform),I=n.smoothOrigin!==!1&&M.smooth,x=this._pt=new Vt(this._pt,s,ft,0,1,M.renderTransform,M,0,-1),x.dep=1),m==="scale")this._pt=new Vt(this._pt,M,"scaleY",M.scaleY,(E?Mi(M.scaleY,E+h):h)-M.scaleY||0,Xc),this._pt.u=0,a.push("scaleY",m),m+="X";else if(m==="transformOrigin"){N.push(Ht,0,s[Ht]),c=uC(c),M.svg?$c(e,c,0,I,0,this):(A=parseFloat(c.split(" ")[2])||0,A!==M.zOrigin&&yr(this,M,"zOrigin",M.zOrigin,A),yr(this,s,m,Us(u),Us(c)));continue}else if(m==="svgOrigin"){$c(e,c,1,I,0,this);continue}else if(m in wg){dC(this,M,m,p,E?Mi(p,E+c):c);continue}else if(m==="smoothOrigin"){yr(this,M,"smooth",M.smooth,c);continue}else if(m==="force3D"){M[m]=c;continue}else if(m==="transform"){pC(this,c,e);continue}}else m in s||(m=Pi(m)||m);if(k||(h||h===0)&&(p||p===0)&&!ZE.test(c)&&m in s)y=(u+"").substr((p+"").length),h||(h=0),A=Tt(c)||(m in tn.units?tn.units[m]:y),y!==A&&(p=br(e,m,u,A)),this._pt=new Vt(this._pt,k?M:s,m,p,(E?Mi(p,E+h):h)-p,!k&&(A==="px"||m==="zIndex")&&n.autoRound!==!1?JE:Xc),this._pt.u=A||0,y!==A&&A!=="%"&&(this._pt.b=u,this._pt.r=KE);else if(m in s)lC.call(this,e,m,u,E?E+c:c);else if(m in e)this.add(e,m,u||e[m],E?E+c:c,i,o);else if(m!=="parseTransform"){wc(m,c);continue}k||(m in s?N.push(m,0,s[m]):N.push(m,1,u||e[m])),a.push(m)}}D&&og(this)},render:function(e,n){if(n.tween._time||!Hc())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Hn,aliases:Tn,getSetter:function(e,n,r){var i=Tn[n];return i&&i.indexOf(",")<0&&(n=i),n in Gn&&n!==Ht&&(e._gsap.x||Hn(e,"x"))?r&&ug===r?n==="scale"?nC:tC:(ug=r||{})&&(n==="scale"?rC:iC):e.style&&!gc(e.style[n])?$E:~n.indexOf("-")?eC:jc(e,n)},core:{_removeProperty:Gr,_getMatrix:Jc}};Gt.utils.checkPrefix=Pi,Gt.core.getStyleSaver=pg,function(t,e,n,r){var i=Yt(t+","+e+","+n,function(o){Gn[o]=1});Yt(e,function(o){tn.units[o]="deg",wg[o]=1}),Tn[i[13]]=t+","+e,Yt(r,function(o){var a=o.split(":");Tn[a[1]]=i[a[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),Yt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){tn.units[t]="px"}),Gt.registerPlugin(Mg);var Bg=Gt.registerPlugin(Mg)||Gt;Bg.core.Tween;const _C=Math.sqrt(50),gC=Math.sqrt(10),mC=Math.sqrt(2);function Ws(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=_C?10:o>=gC?5:o>=mC?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Ws(t,e,n*2):[s,l,u]}function vC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ws(e,t,n):Ws(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function tf(t,e,n){return e=+e,t=+t,n=+n,Ws(t,e,n)[2]}function yC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tf(e,t,n):tf(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ys(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bC(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sg(t){let e,n,r;t.length!==2?(e=Ys,n=(s,l)=>Ys(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ys||t===bC?t:AC,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function AC(){return 0}function wC(t){return t===null?NaN:+t}const xC=Sg(Ys).right;Sg(wC).center;const EC=xC;function nf(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tg(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function oa(){}var aa=.7,Vs=1/aa,Ni="\\s*([+-]?\\d+)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CC=/^#([0-9a-f]{3,8})$/,kC=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),MC=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),BC=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${sa}\\)$`),SC=new RegExp(`^rgba\\(${On},${On},${On},${sa}\\)$`),TC=new RegExp(`^hsl\\(${sa},${On},${On}\\)$`),DC=new RegExp(`^hsla\\(${sa},${On},${On},${sa}\\)$`),Dg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nf(oa,Xr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Og,formatHex:Og,formatHex8:OC,formatHsl:zC,formatRgb:zg,toString:zg});function Og(){return this.rgb().formatHex()}function OC(){return this.rgb().formatHex8()}function zC(){return Rg(this).formatHsl()}function zg(){return this.rgb().formatRgb()}function Xr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=CC.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ig(e):n===3?new Qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gs(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gs(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kC.exec(t))?new Qt(e[1],e[2],e[3],1):(e=MC.exec(t))?new Qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BC.exec(t))?Gs(e[1],e[2],e[3],e[4]):(e=SC.exec(t))?Gs(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TC.exec(t))?Lg(e[1],e[2]/100,e[3]/100,1):(e=DC.exec(t))?Lg(e[1],e[2]/100,e[3]/100,e[4]):Dg.hasOwnProperty(t)?Ig(Dg[t]):t==="transparent"?new Qt(NaN,NaN,NaN,0):null}function Ig(t){return new Qt(t>>16&255,t>>8&255,t&255,1)}function Gs(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function IC(t){return t instanceof oa||(t=Xr(t)),t?(t=t.rgb(),new Qt(t.r,t.g,t.b,t.opacity)):new Qt}function rf(t,e,n,r){return arguments.length===1?IC(t):new Qt(t,e,n,r??1)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nf(Qt,rf,Tg(oa,{brighter(t){return t=t==null?Vs:Math.pow(Vs,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?aa:Math.pow(aa,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qt(Zr(this.r),Zr(this.g),Zr(this.b),Hs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pg,formatHex:Pg,formatHex8:PC,formatRgb:Ng,toString:Ng}));function Pg(){return`#${qr(this.r)}${qr(this.g)}${qr(this.b)}`}function PC(){return`#${qr(this.r)}${qr(this.g)}${qr(this.b)}${qr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ng(){const t=Hs(this.opacity);return`${t===1?"rgb(":"rgba("}${Zr(this.r)}, ${Zr(this.g)}, ${Zr(this.b)}${t===1?")":`, ${t})`}`}function Hs(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qr(t){return t=Zr(t),(t<16?"0":"")+t.toString(16)}function Lg(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gn(t,e,n,r)}function Rg(t){if(t instanceof gn)return new gn(t.h,t.s,t.l,t.opacity);if(t instanceof oa||(t=Xr(t)),!t)return new gn;if(t instanceof gn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new gn(a,s,l,t.opacity)}function NC(t,e,n,r){return arguments.length===1?Rg(t):new gn(t,e,n,r??1)}function gn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nf(gn,NC,Tg(oa,{brighter(t){return t=t==null?Vs:Math.pow(Vs,t),new gn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?aa:Math.pow(aa,t),new gn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qt(of(t>=240?t-240:t+120,i,r),of(t,i,r),of(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gn(Fg(this.h),Qs(this.s),Qs(this.l),Hs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hs(this.opacity);return`${t===1?"hsl(":"hsla("}${Fg(this.h)}, ${Qs(this.s)*100}%, ${Qs(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fg(t){return t=(t||0)%360,t<0?t+360:t}function Qs(t){return Math.max(0,Math.min(1,t||0))}function of(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const af=t=>()=>t;function LC(t,e){return function(n){return t+n*e}}function RC(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function FC(t){return(t=+t)==1?jg:function(e,n){return n-e?RC(e,n,t):af(isNaN(e)?n:e)}}function jg(t,e){var n=e-t;return n?LC(t,n):af(isNaN(t)?e:t)}const Xs=function t(e){var n=FC(e);function r(i,o){var a=n((i=rf(i)).r,(o=rf(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=jg(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function jC(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Zs(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function UC(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function mn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function WC(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zs(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var sf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lf=new RegExp(sf.source,"g");function YC(t){return function(){return t}}function VC(t){return function(e){return t(e)+""}}function Ug(t,e){var n=sf.lastIndex=lf.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=sf.exec(t))&&(i=lf.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:mn(r,i)})),n=lf.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?VC(l[0].x):YC(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function GC(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function HC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zs(t,e){var n=typeof e,r;return e==null||n==="boolean"?af(e):(n==="number"?mn:n==="string"?(r=Xr(e))?(e=r,Xs):Ug:e instanceof Xr?Xs:e instanceof Date?UC:HC(e)?GC:Array.isArray(e)?jC:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WC:mn)(t,e)}function QC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function XC(t){return function(){return t}}function ZC(t){return+t}var Wg=[0,1];function Li(t){return t}function uf(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:XC(isNaN(e)?NaN:.5)}function qC(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function KC(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=uf(i,r),o=n(a,o)):(r=uf(r,i),o=n(o,a)),function(s){return o(r(s))}}function JC(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=uf(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=EC(t,s,1,r)-1;return o[l](i[l](s))}}function $C(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ek(){var t=Wg,e=Wg,n=Zs,r,i,o,a=Li,s,l,u;function c(){var p=Math.min(t.length,e.length);return a!==Li&&(a=qC(t[0],t[p-1])),s=p>2?JC:KC,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(r),e,n)))(r(a(p)))}return h.invert=function(p){return a(i((u||(u=s(e,t.map(r),mn)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,ZC),c()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=QC,c()},h.clamp=function(p){return arguments.length?(a=p?!0:Li,c()):a!==Li},h.interpolate=function(p){return arguments.length?(n=p,c()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,g){return r=p,i=g,c()}}function tk(){return ek()(Li,Li)}function nk(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var rk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qs(t){if(!(e=rk.exec(t)))throw new Error("invalid format: "+t);var e;return new cf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qs.prototype=cf.prototype;function cf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ik(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ks(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ri(t){return t=Ks(Math.abs(t)),t?t[1]:NaN}function ok(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ri(e)/3)))*3-Ri(Math.abs(t)))}function ak(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function sk(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}function lk(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yg;function uk(t,e){var n=Ks(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Yg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ks(t,Math.max(0,e+o-1))[0]}function Vg(t,e){var n=Ks(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Gg={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ik,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Vg(t*100,e),r:Vg,s:uk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hg(t){return t}var Qg=Array.prototype.map,Xg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ck(t){var e=t.grouping===void 0||t.thousands===void 0?Hg:ak(Qg.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Hg:sk(Qg.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=qs(h);var p=h.fill,g=h.align,v=h.sign,m=h.symbol,y=h.zero,A=h.width,E=h.comma,k=h.precision,x=h.trim,M=h.type;M==="n"?(E=!0,M="g"):Gg[M]||(k===void 0&&(k=12),x=!0,M="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var I=m==="$"?n:m==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",D=m==="$"?r:/[%p]/.test(M)?a:"",N=Gg[M],O=/[defgprs%]/.test(M);k=k===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function W(F){var re=I,q=D,P,J,Y;if(M==="c")q=N(F)+q,F="";else{F=+F;var Q=F<0||1/F<0;if(F=isNaN(F)?l:N(Math.abs(F),k),x&&(F=lk(F)),Q&&+F==0&&v!=="+"&&(Q=!1),re=(Q?v==="("?v:s:v==="-"||v==="("?"":v)+re,q=(M==="s"?Xg[8+Yg/3]:"")+q+(Q&&v==="("?")":""),O){for(P=-1,J=F.length;++P<J;)if(Y=F.charCodeAt(P),48>Y||Y>57){q=(Y===46?i+F.slice(P+1):F.slice(P))+q,F=F.slice(0,P);break}}}E&&!y&&(F=e(F,1/0));var fe=re.length+F.length+q.length,de=fe<A?new Array(A-fe+1).join(p):"";switch(E&&y&&(F=e(de+F,de.length?A-q.length:1/0),de=""),g){case"<":F=re+F+q+de;break;case"=":F=re+de+F+q;break;case"^":F=de.slice(0,fe=de.length>>1)+re+F+q+de.slice(fe);break;default:F=de+re+F+q;break}return o(F)}return W.toString=function(){return h+""},W}function c(h,p){var g=u((h=qs(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Ri(p)/3)))*3,m=Math.pow(10,-v),y=Xg[8+v/3];return function(A){return g(m*A)+y}}return{format:u,formatPrefix:c}}var Js,Fi,Zg;fk({thousands:",",grouping:[3],currency:["$",""]});function fk(t){return Js=ck(t),Fi=Js.format,Zg=Js.formatPrefix,Js}function hk(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ri(e)-Ri(t))+1}function dk(t){return Math.max(0,-Ri(Math.abs(t)))}function pk(t,e,n,r){var i=yC(t,e,n),o;switch(r=qs(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ok(i,a))&&(r.precision=o),Zg(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=hk(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=dk(i))&&(r.precision=o-(r.type==="%")*2);break}}return Fi(r)}function _k(t){var e=t.domain;return t.ticks=function(n){var r=e();return vC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=tf(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function sn(){var t=tk();return t.copy=function(){return $C(t,sn())},nk.apply(t,arguments),_k(t)}function gk(t){return t}var ff=1,$s=2,hf=3,la=4,qg=1e-6;function mk(t){return"translate("+t+",0)"}function vk(t){return"translate(0,"+t+")"}function yk(t){return e=>+t(e)}function bk(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ak(){return!this.__axis}function df(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===ff||t===la?-1:1,c=t===la||t===$s?"x":"y",h=t===ff||t===hf?mk:vk;function p(g){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):gk),y=Math.max(o,0)+s,A=e.range(),E=+A[0]+l,k=+A[A.length-1]+l,x=(e.bandwidth?bk:yk)(e.copy(),l),M=g.selection?g.selection():g,I=M.selectAll(".domain").data([null]),D=M.selectAll(".tick").data(v,e).order(),N=D.exit(),O=D.enter().append("g").attr("class","tick"),W=D.select("line"),F=D.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(O),W=W.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),F=F.merge(O.append("text").attr("fill","currentColor").attr(c,u*y).attr("dy",t===ff?"0em":t===hf?"0.71em":"0.32em")),g!==M&&(I=I.transition(g),D=D.transition(g),W=W.transition(g),F=F.transition(g),N=N.transition(g).attr("opacity",qg).attr("transform",function(re){return isFinite(re=x(re))?h(re+l):this.getAttribute("transform")}),O.attr("opacity",qg).attr("transform",function(re){var q=this.parentNode.__axis;return h((q&&isFinite(q=q(re))?q:x(re))+l)})),N.remove(),I.attr("d",t===la||t===$s?a?"M"+u*a+","+E+"H"+l+"V"+k+"H"+u*a:"M"+l+","+E+"V"+k:a?"M"+E+","+u*a+"V"+l+"H"+k+"V"+u*a:"M"+E+","+l+"H"+k),D.attr("opacity",1).attr("transform",function(re){return h(x(re)+l)}),W.attr(c+"2",u*o),F.attr(c,u*y).text(m),M.filter(Ak).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===$s?"start":t===la?"end":"middle"),M.each(function(){this.__axis=x})}return p.scale=function(g){return arguments.length?(e=g,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),p):n.slice()},p.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),p):r&&r.slice()},p.tickFormat=function(g){return arguments.length?(i=g,p):i},p.tickSize=function(g){return arguments.length?(o=a=+g,p):o},p.tickSizeInner=function(g){return arguments.length?(o=+g,p):o},p.tickSizeOuter=function(g){return arguments.length?(a=+g,p):a},p.tickPadding=function(g){return arguments.length?(s=+g,p):s},p.offset=function(g){return arguments.length?(l=+g,p):l},p}function wk(t){return df($s,t)}function xk(t){return df(hf,t)}function Ek(t){return df(la,t)}var pf=b(213);function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Kg(t,e){return Mk(t)||kk(t,e)||$g(t,e)||Ck()}function Ck(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kk(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Mk(t){if(Array.isArray(t))return t}function Bk(t,e,n){if(Jg())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return i}function Jg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jg=function(){return!!t})()}function ua(t){return Dk(t)||Tk(t)||$g(t)||Sk()}function Sk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $g(t,e){if(t){if(typeof t=="string")return gf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gf(t,e):void 0}}function Tk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dk(t){if(Array.isArray(t))return gf(t)}function gf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}try{var p3=!!new Blob}catch{console.warn("Not a browser, so FileSaver.js not available.")}var Ok="left-bottom",zk="left-top",Ik="right-bottom",Pk="right-top",Nk="horizontal",Lk="vertical",ca={HORIZONTAL:Nk,VERTICAL:Lk},fa={LEFT_BOTTOM:Ok,LEFT_TOP:zk,RIGHT_BOTTOM:Ik,RIGHT_TOP:Pk};function el(){try{var t=!!new Blob}catch{alert("Blob not supported")}}function Rk(t,e,n){if(t==null)return e;var r={};for(var i in e){var o=i in t&&t[i]!==null&&t[i]!==void 0,a=o?t[i]:e[i];n&&i in n&&(a=parseFloat(a),isNaN(a)&&(o?(console.warn("Bad float for option "+i),a=parseFloat(e[i]),isNaN(a)&&(console.warn("Bad float for default "+i),a=null)):(console.warn("Bad float for default "+i),a=null))),r[i]=a}return r}function Fk(t){for(var e=t.node();e.hasChildNodes();)e.removeChild(e.lastChild)}function jk(t,e){var n="";return t&&(0,Ms.Qq)(t,function(r,i){r&&console.warn(r),n=i,e(n)}),!1}function em(t,e){return t.indexOf(e,t.length-e.length)!==-1}function tm(t,e,n,r){if(r){e&&console.warn("File "+e+" overridden by value."),n.call(t,null,r);return}if(!e){n.call(t,"No filename",null);return}em(e,"json")?(0,Ms.Pq)(e,function(i,o){n.call(t,i,o)}):em(e,"css")?(0,Ms.Qq)(e,function(i,o){n.call(t,i,o)}):n.call(t,"Unrecognized file type",null)}function Uk(t,e,n){e.length===0&&n.call(t);for(var r=-1,i=e.length;++r<e.length;)tm(t,e[r].file,(function(o,a){this.call(t,o,a),--i||n.call(t)}).bind(e[r].callback),e[r].value)}function Wk(){var t,e=function(r){if(this instanceof e)typeof this.init=="function"&&this.init.apply(this,t?r:arguments);else{t=!0;var i=new e(arguments);return t=!1,i}};return e}function Yk(t){return new Proxy(t,{apply:function(n,r,i){return Bk(n,ua(i))}})}function Vk(t,e){t.select("defs").remove();var n=t.append("defs"),r=n.node();return r.parentNode.insertBefore(r,r.parentNode.firstChild),n.append("style").attr("type","text/css").text(e),n}function Gk(t,e,n,r,i,o,a,s){var l={};for(var u in r)r[u]===void 0?console.warn("Undefined value for id "+u+" in object. Ignoring."):l[u]=r[u];var c=t.select(e).selectAll(n).data(mf(l,i),function(p){return p[i]}),h=o?o(c.enter()).merge(c):c;a&&h.call(a),s&&c.exit().call(s)}function Hk(t,e,n,r,i,o,a){var s=t.selectAll(e).data(function(u){return mf(u[n],r)},function(u){return u[r]}),l=i?i(s.enter()).merge(s):s;o&&l.call(o),a&&s.exit().call(a)}function Qk(t,e){var n=[];for(var r in t){var i=ha(t[r]);i[e]=r,n.push(i)}return n}function mf(t,e){var n=[];for(var r in t){var i=t[r];i[e]=r,n.push(i)}return n}function Xk(t,e){if(!t||!e||t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!=e[n])return!1;return!0}function Zk(t){for(var e={},n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.keys(i),a=0,s=o.length;a<s;a++){var l=o[a];if(l in e)e[l][n]=i[l];else{for(var u=[],c=0;c<r;c++)u[c]=null;u[n]=i[l],e[l]=u}}return e}function ha(t){return ge.isArray(t)?ge.map(t,function(e){return ha(e)}):ge.isObject(t)?ge.mapObject(t,function(e,n){return ha(e)}):t}function qk(t,e,n){n===void 0&&(n=!1);for(var r in e)if(!(r in t)||n)t[r]=e[r];else throw new Error("Attribute "+r+" already in object.")}function Kk(t){var e=[];return t.forEach(function(n){n.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),e}function Jk(t){for(var e=[],n=0,r=t.length;n<r;n++)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function $k(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}function eM(t,e){for(var n={},r=-1;++r<e.length;)n[e[r]]=ha(t[e[r]]);return e.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function tM(t,e){for(var n={},r=-1;++r<e.length;)n[e[r]]=t[e[r]];return e.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function nM(t,e){return t===null||e===null||t===void 0||e===void 0?null:{x:t.x+e.x,y:t.y+e.y}}function rM(t,e){return t===null||e===null||t===void 0||e===void 0?null:{x:t.x-e.x,y:t.y-e.y}}function iM(t,e){return{x:t.x*e,y:t.y*e}}function oM(t,e){el();var n=JSON.stringify(t),r=new Blob([n],{type:"application/json"});(0,pf.saveAs)(r,e+".json")}function aM(t,e,n,r){window.File&&window.FileReader&&window.FileList&&window.Blob||e("The File APIs are not fully supported in this browser.",null);var i=new window.FileReader;if(i.onload=function(o){var a=o.target.result,s;try{s=JSON.parse(a)}catch(l){e(l,null);return}e(null,s)},n!=null)try{n()}catch(o){console.warn(o)}i.onabort=function(o){try{r()}catch(a){console.warn(a)}},i.onerror=function(o){try{r()}catch(a){console.warn(a)}},i.readAsText(t)}function sM(t,e,n,r,i,o){var a=function(u){var c=u.target.result,h,p;try{h=JSON.parse(c)}catch(g){p="JSON error: "+g;try{h=e(J1(c))}catch(v){n(p+`
CSV error: `+v,null);return}}n(null,h)};if(o!=null)return console.warn("Debugging load_json_or_csv"),a(o);window.File&&window.FileReader&&window.FileList&&window.Blob||n("The File APIs are not fully supported in this browser.",null);var s=new window.FileReader;if(r!=null)try{r()}catch(l){console.warn(l)}s.onabort=function(l){try{i()}catch(u){console.warn(u)}},s.onerror=function(l){try{i()}catch(u){console.warn(u)}},s.onload=a,s.readAsText(t)}function lM(t,e,n){el();var r=new XMLSerializer().serializeToString(e.node());n&&(r=Zp().xml(r)),r=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`+r;var i=new Blob([r],{type:"image/svg+xml"});(0,pf.saveAs)(i,t+".svg")}function uM(t,e){el();var n=new XMLSerializer().serializeToString(e.node());n=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`+n;var r=document.createElement("canvas"),i=r.getContext("2d"),o=e.node().getBBox(),a=o.width+o.x,s=o.height+o.y;a<1e4&&s<1e4?(r.width=a,r.height=s):r.width>r.height?(r.width=1e4,r.height=1e4*(s/a)):(r.width=1e4*(a/s),r.height=1e4);var l=new Image;l.src="data:image/svg+xml;base64,"+btoa(n),l.onload=function(){i.fillStyle="#FFF",i.fillRect(0,0,r.width,r.height),i.drawImage(l,0,0,r.width,r.height),r.toBlob(function(u){(0,pf.saveAs)(u,t+".png")})}}function cM(t,e){el(),document.querySelector("#legend-config-modal").children.length||(IM(),document.getElementById("confirm-btn").addEventListener("click",function(){var n=document.getElementById("legendPosition").value,r=document.getElementById("legendOrientation").value;document.getElementById("legend-config-modal").style.display="none",document.getElementById("legend-config-modal-overlay").style.display="none",fM(t,e,n,r)}),document.getElementById("cancel-btn").addEventListener("click",function(){document.getElementById("legend-config-modal").style.display="none",document.getElementById("legend-config-modal-overlay").style.display="none"})),document.getElementById("legend-config-modal").style.display="block",document.getElementById("legend-config-modal-overlay").style.display="block"}function fM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fa.LEFT_BOTTOM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ca.VERTICAL,i=hM(),o=i.removeLoadingIndicator,a=document.createElement("canvas"),s=a.getContext("2d",{willReadFrequently:!0}),l=window.URL||window.webkitURL||window,u=20,c=100,h=36,p=225,g=56,v=225,m=5,y=document.querySelector("rect#canvas").getBoundingClientRect(),A=y.width,E=y.height;y.x,y.y;var k=y.left,x=y.top,M=window.innerWidth,I=window.innerHeight,D=A>M?M:A,N=E>I?I:E,O={x:A>M?window.scrollX:k,y:E>I?window.scrollY:x};a.width=D,a.height=N;var W=function(){var Q=document.querySelector(".escher-svg").cloneNode(!0);Q.setAttribute("viewBox","".concat(O.x," ").concat(O.y," ").concat(D," ").concat(N)),Q.setAttribute("width",D),Q.setAttribute("height",N);var fe=new XMLSerializer().serializeToString(Q),de=new Blob([fe],{type:"image/svg+xml;charset=utf-8"});return l.createObjectURL(de)},F,re=function(){var Q;r==="vertical"?(n==="left-top"||n==="left-bottom"?F=sm(e,wk,"left"):F=sm(e,Ek,"right"),Q=document.querySelector(".vertical-legend-container").cloneNode(!0)):Q=document.querySelector(".legend-container").cloneNode(!0);var fe=r===ca.HORIZONTAL?[p,h]:[g,v],de=Kg(fe,2),ve=de[0],ke=de[1];Q.setAttribute("viewBox","0 0 ".concat(ve," ").concat(ke)),Q.setAttribute("width",ve),Q.setAttribute("height",ke);var Ae=new XMLSerializer().serializeToString(Q),Ze=new Blob([Ae],{type:"image/svg+xml;charset=utf-8"});return l.createObjectURL(Ze)},q=new Image,P=new Image,J=re();P.src=J,fetch("https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js").then(function(Y){if(!Y.ok)throw new Error("Network response was not OK");return Y.blob()}).then(function(Y){var Q=new(eE())({workers:4,quality:10,workerScript:URL.createObjectURL(Y),width:D,height:N}),fe=function(ve){if(ve<u){var ke=W();q.onload=function(){s.clearRect(0,0,D,N),s.drawImage(q,0,0,D,N);var Ae,Ze,Me=r===ca.HORIZONTAL?[p,h]:[g,v],qe=Kg(Me,2),ot=qe[0],Ge=qe[1];switch(n){case"left-top":Ae=m,Ze=m;break;case"right-top":Ae=D-ot-m,Ze=m;break;case"left-bottom":Ae=m,Ze=N-Ge-m;break;case"right-bottom":Ae=D-ot-m,Ze=N-Ge-m;break}s.drawImage(P,Ae,Ze,ot,Ge),Q.addFrame(s,{copy:!0,DELAY:c}),l.revokeObjectURL(ke),l.revokeObjectURL(J),setTimeout(function(){requestAnimationFrame(function(){return fe(ve+1)})},c)},q.src=ke}else Q.on("finished",function(Ae){l.revokeObjectURL(J);var Ze=URL.createObjectURL(Ae),Me=document.createElement("a");Me.href=Ze,Me.download="".concat(t,".gif"),document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),o(),F&&F()}),Q.render()};fe(0)})}function hM(){var t=document.createElement("div");return t.setAttribute("id","loadingIndicator"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.background="rgba(0, 0, 0, 0.5)",t.style.zIndex="1000",t.style.justifyContent="center",t.style.alignItems="center",t.style.display="flex",t.style.color="white",t.style.fontSize="24px",t.textContent="Exporting...",document.body.appendChild(t),{removeLoadingIndicator:function(){return document.body.removeChild(t)}}}function dM(t,e,n){return t.map(function(r){return nm(r,e,n)})}function nm(t,e,n){var r=Math.cos(-e)*(t.x-n.x)+Math.sin(-e)*(t.y-n.y)+n.x-t.x,i=-Math.sin(-e)*(t.x-n.x)+Math.cos(-e)*(t.y-n.y)+n.y-t.y;return{x:r,y:i}}function pM(t){var e=t[1].x-t[0].x,n=t[1].y-t[0].y;return e===0&&n>=0?Math.PI/2:e===0&&n<0?3*Math.PI/2:e>=0&&n>=0?Math.atan(n/e):e>=0?Math.atan(n/e)+2*Math.PI:Math.atan(n/e)+Math.PI}function _M(t){return t*180/Math.PI}function rm(t){return t<-Math.PI?t+Math.floor((t-Math.PI)/(-2*Math.PI))*2*Math.PI:t>Math.PI?t-Math.floor((t+Math.PI)/(2*Math.PI))*2*Math.PI:t}function im(t){return Math.PI/180*t}function gM(t){var e=im(t);return rm(e)}function mM(t,e,n){var r=Math.atan2(e.x-n.x,n.y-e.y),i=Math.atan2(e.x-n.x+t.x,n.y-e.y-t.y),o=i-r;return o}function vM(t,e){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function yM(t,e){e.forEach(function(n,r){t[r]===void 0&&console.error("Argument is undefined: ".concat(e[r]))})}function bM(t,e){return"".concat(t,"_").concat(e)}function AM(t){var e=/(.*)\[([a-z0-9]{1,2})\]$/,n=e.exec(t);return n!==null?n.slice(1,3):[t,null]}function wM(t){var e=t.reduce(function(r,i){return r+i}),n=e/t.length;return n}function da(t){t.sort(function(n,r){return n-r});var e=Math.floor(t.length/2);return t.length%2==1?t[e]:(t[e-1]+t[e])/2}function xM(t){t.sort(function(n,r){return n-r});var e=Math.floor(t.length/2);return t.length===1?[t[0],t[0],t[0]]:t.length%2===1?[da(t.slice(0,e)),t[e],da(t.slice(e+1))]:[da(t.slice(0,e)),(t[e-1]+t[e])/2,da(t.slice(e))]}function om(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}function EM(){return om(12)}function CM(t,e){for(t instanceof Nr&&(t=t.node());t.parentNode!==null;)if(t=t.parentNode,t.tagName!==void 0&&t.tagName.toLowerCase()===e.toLowerCase())return!0;return!1}function kM(t,e){return e!=null&&(e=e.replace(/^\/|\/$/g,""),t=[e,t].join("/")),t.replace(/^\/|\/$/g,"")+".json"}function am(t){return t.ownerDocument}function MM(t){return am(t).defaultView}function BM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;t instanceof Array||(t=[t]);var n=t[0];for(var r in n)if(n.hasOwnProperty(r)){var i=Number(n[r]);_f(i)==="object"&&i!==null?processObject(i):typeof i=="number"&&Math.abs(i)<e&&(n[r]=0)}return[n]}function SM(t){if(t.indexOf("skew")!==-1||t.indexOf("matrix")!==-1)throw new Error("d3_transform_catch does not work with skew or matrix");var e=/translate\s*\(\s*([0-9.-]+)\s*,\s*([0-9.-]+)\s*\)/.exec(t),n=ge.isNull(e),r=n?0:Number(e[1]),i=n?0:Number(e[2]),o=/rotate\s*\(\s*([0-9.-]+)\s*\)/.exec(t),a=ge.isNull(o),s=a?0:Number(o[1]),l=/scale\s*\(\s*([0-9.-]+)\s*\)/.exec(t),u=ge.isNull(l),c=u?0:Number(l[1]);return{translate:[r,i],rotate:s,scale:c}}function TM(t,e,n,r,i){var o=n.get("show_reaction_data_animation"),a=n.get("animation_line_style");t.forEach(function(s){var l=s.target;if(s.isIntersecting){var u=l.__data__;if(r&&o&&u.data){var c=u.data,h=i.reaction_animation_duration(c),p=i.reaction_size(c)*2,g=a==="dashed"?"".concat(p,", ").concat(p):"2, ".concat(p);if(l.animation&&l.animation.data!==h&&(l.animation.kill(),l.animation=null),l.animation)l.setAttribute("stroke-dasharray",g),l.animation.play();else{var v=l.getTotalLength(),m=u.data_string.startsWith("-")?1:-1;l.setAttribute("stroke-dasharray",g),l.animation=Bg.to(l,{strokeDashoffset:m*v*2,repeat:-1,ease:"none",immediateRender:!0,duration:h*v/100,data:h})}}}else l.animation&&(l.removeAttribute("stroke-dasharray"),l.animation.pause())})}function DM(t,e){var n=t.domain(),r=t.range(),i=200,o=19,a=ze(".legend-container"),s=a.select(".legend-group"),l=s.select(".legend-defs linearGradient");l.selectAll("stop").remove(),l.selectAll("stop").data(lm(n,r)).enter().append("stop").attr("offset",function(p){return p.offset}).attr("stop-color",function(p){return p.color}),s.select(".legend-rect").attr("x",0).attr("y",0).attr("width",i).attr("height",o).style("fill","url(#legend-gradient)");var u=sn().domain([Math.min.apply(Math,ua(n)),Math.max.apply(Math,ua(n))]).range([0,i]),c=function(g){return g>=1e9?(g/1e9).toFixed(1)+"G":g>=1e6?(g/1e6).toFixed(1)+"M":g>=1e3?(g/1e3).toFixed(1)+"K":g.toFixed(2)},h=xk(u).ticks(n.length).tickValues(n).tickFormat(c);s.select(".legend-axis").attr("transform","translate(0, ".concat(o,")")).call(h),e?a.style("display","block"):a.style("display","none")}function sm(t,e,n){var r=t.domain(),i=t.range(),o=19,a=200,s=ze(".vertical-legend-container");s.append("g").attr("class","legend-group");var l=s.select(".legend-group").attr("transform","translate(0, 10)");l.append("defs").attr("class","legend-defs").append("linearGradient").attr("id","legend-gradient").attr("x","0%").attr("y","0%").attr("x2","0%").attr("y2","100%"),l.append("rect").attr("class","legend-rect"),l.append("g").attr("class","legend-axis");var u=l.select(".legend-defs linearGradient");u.selectAll("stop").remove(),u.selectAll("stop").data(lm(r,i)).enter().append("stop").attr("offset",function(g){return g.offset}).attr("stop-color",function(g){return g.color}),l.select(".legend-rect").attr("x",0).attr("y",0).attr("width",o).attr("height",a).style("fill","url(#legend-gradient)");var c=sn().domain([Math.min.apply(Math,ua(r)),Math.max.apply(Math,ua(r))]).range([0,a]),h=function(v){return v>=1e9?(v/1e9).toFixed(1)+"G":v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toFixed(2)},p=e(c).ticks(r.length).tickValues(r).tickFormat(h);return l.select(".legend-axis").attr("transform","translate(".concat(o,", 0)")).call(p),n==="right"&&(l.select(".legend-axis").attr("transform","translate(".concat(o*2,", 0)")),l.select(".legend-rect").attr("transform","translate(".concat(o*2,", 0)"))),function(){return s.selectAll("*").remove()}}function lm(t,e){for(var n=t[0],r=t[t.length-1],i=t.map(function(s){return(s-n)/(r-n)*100}),o=[],a=0;a<t.length;a++)(typeof e[a]=="string"||e[a]instanceof String)&&o.push({offset:"".concat(i[a],"%"),color:e[a]});return o}function OM(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}function zM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{if(typeof window<"u"&&window.localStorage)return window.localStorage.getItem(t)}catch(n){console.warn("LocalStorage is not available.",n)}return e}function IM(){var t=document.getElementById("legend-config-modal");t&&(t.innerHTML=`
    <div class="modal-content">
      <h3>Select Legend Options</h3>

      <label for="legendPosition">Legend Position:</label>
      <select id="legendPosition">
        <option value="`.concat(fa.RIGHT_BOTTOM,`">Right Bottom</option>
        <option value="`).concat(fa.LEFT_BOTTOM,`">Left Bottom</option>
        <option value="`).concat(fa.RIGHT_TOP,`">Right Top</option>
        <option value="`).concat(fa.LEFT_TOP,`">Left Top</option>
      </select>

      <br>

      <label for="legendOrientation">Legend Orientation:</label>
      <select id="legendOrientation">
        <option value="`).concat(ca.VERTICAL,`">Vertical</option>
        <option value="`).concat(ca.HORIZONTAL,`">Horizontal</option>
      </select>

      <br>

      <div class="modal-actions">
        <button id="confirm-btn" class="modal-button confirm">Confirm</button>
        <button id="cancel-btn" class="modal-button cancel">Cancel</button>
      </div>
    </div>
  `))}const G={set_options:Rk,remove_child_nodes:Fk,load_css:jk,load_files:Uk,load_the_file:tm,make_class:Wk,class_with_optional_new:Yk,setup_defs:Vk,draw_an_object:Gk,draw_a_nested_object:Hk,make_array:Qk,make_array_ref:mf,compare_arrays:Xk,arrayToObject:Zk,clone:ha,extend:qk,uniqueConcat:Kk,unique_strings_array:Jk,debounce:$k,object_slice_for_ids:eM,object_slice_for_ids_ref:tM,c_plus_c:nM,c_minus_c:rM,c_times_scalar:iM,download_json:oM,load_json:aM,load_json_or_csv:sM,downloadSvg:lM,downloadPng:uM,downloadGif:cM,rotate_coords_recursive:dM,rotate_coords:nm,get_angle:pM,to_degrees:_M,angleNorm:rm,to_radians:im,to_radians_norm:gM,angle_for_event:mM,distance:vM,check_undefined:yM,compartmentalize:bM,decompartmentalize:AM,mean:wM,median:da,quartiles:xM,random_characters:om,generate_map_id:EM,check_for_parent_tag:CM,name_to_url:kM,get_document:am,get_window:MM,d3_transform_catch:SM,process_reaction_data:BM,handle_animation:TM,update_color_legends:DM,get_current_date:OM,get_local_storage_item:zM};var um=G.make_class();um.prototype={init:PM,is_visible:NM,place:LM,hide:RM};function PM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{x:0,y:0},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;this.div=t,this.map=e,this.displacement=n,this.shouldReposition=r,this.visible=!0,this.hide()}function NM(){return this.visible}function LM(t){this.div.style("display",null);var e=this.map.zoomContainer.windowTranslate,n=this.map.zoomContainer.windowScale,r=this.map.get_size();if(this.shouldReposition){var i=Math.max(20,Math.min(r.width-270,n*t.x+e.x-this.displacement.x)),o=Math.max(20,Math.min(r.height-40,n*t.y+e.y-this.displacement.y));this.div.style("position","absolute").style("display","block").style("left","".concat(i,"px")).style("top","".concat(o,"px"))}else this.div.style("position","absolute").style("display","block").style("left","".concat(n*t.x+e.x-this.displacement.x,"px")).style("top","".concat(n*t.y+e.y-this.displacement.y,"px"));this.visible=!0}function RM(){this.visible&&(this.div.style("display","none"),this.visible=!1)}const vf=um;/**
 * @license
 *
 * complete.ly 1.0.0
 * MIT Licensing
 * Copyright (c) 2013 Lorenzo Puccetti
 *
 * This Software shall be used for doing good things, not bad things.
 *
 *
 * Modified by Zachary King (c) 2014.
 *
 **/function FM(t,e){var n=G.get_document(t),r=G.get_window(t);e=e||{},e.fontSize=e.fontSize||"13px",e.fontFamily=e.fontFamily||"sans-serif",e.promptInnerHTML=e.promptInnerHTML||"",e.color=e.color||"#333",e.hintColor=e.hintColor||"#aaa",e.backgroundColor=e.backgroundColor||"#fff",e.dropDownBorderColor=e.dropDownBorderColor||"#aaa",e.dropDownZIndex=e.dropDownZIndex||"100",e.dropDownOnHoverBackgroundColor=e.dropDownOnHoverBackgroundColor||"#ddd";var i=n.createElement("input");i.type="text",i.spellcheck=!1,i.style.fontSize=e.fontSize,i.style.fontFamily=e.fontFamily,i.style.color=e.color,i.style.backgroundColor=e.backgroundColor,i.style.width="100%",i.style.outline="0",i.style.border="0",i.style.margin="0",i.style.padding="0";var o=i.cloneNode();o.disabled="",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.borderColor="transparent",o.style.boxShadow="none",o.style.color=e.hintColor,i.style.backgroundColor="transparent",i.style.verticalAlign="top",i.style.position="relative";var a=n.createElement("div");a.style.position="relative",a.style.outline="0",a.style.border="0",a.style.margin="0",a.style.padding="0";var s=n.createElement("div");if(s.style.position="absolute",s.style.outline="0",s.style.margin="0",s.style.padding="0",s.style.border="0",s.style.fontSize=e.fontSize,s.style.fontFamily=e.fontFamily,s.style.color=e.color,s.style.backgroundColor=e.backgroundColor,s.style.top="0",s.style.left="0",s.style.overflow="hidden",s.innerHTML=e.promptInnerHTML,s.style.background="transparent",n.body===void 0)throw"thisDocument.body is undefined. The library was wired up incorrectly.";n.body.appendChild(s);var l=s.getBoundingClientRect().right;a.appendChild(s),s.style.visibility="visible",s.style.left="-"+l+"px",a.style.marginLeft=l+"px",a.appendChild(o),a.appendChild(i);var u=n.createElement("div");u.style.position="absolute",u.style.visibility="hidden",u.style.outline="0",u.style.margin="0",u.style.padding="0",u.style.textAlign="left",u.style.fontSize=e.fontSize,u.style.fontFamily=e.fontFamily,u.style.backgroundColor=e.backgroundColor,u.style.zIndex=e.dropDownZIndex,u.style.cursor="default",u.style.borderStyle="solid",u.style.borderWidth="1px",u.style.borderColor=e.dropDownBorderColor,u.style.overflowX="hidden",u.style.whiteSpace="pre",u.style.overflowY="scroll";var c=function(x){var M=[],I=0,D=-1,N=null,O=function(){this.style.outline="1px solid #ddd"},W=function(){this.style.outline="0"},F=function(P){P.preventDefault(),re.onmouseselection(this.id)},re={hide:function(){x.style.visibility="hidden"},refresh:function(P,J){x.style.visibility="hidden",I=0,x.innerHTML="";var Y=r.innerHeight||n.documentElement.clientHeight,Q=x.parentNode.getBoundingClientRect(),fe=Q.top-6,de=Y-Q.bottom-6;M=[];for(var ve=0;ve<J.length;ve++){var ke=J[ve].matches.filter(function(Me){return Me.toLowerCase().indexOf(P.toLowerCase())==0});if(ke.length!=0){var Ae=n.createElement("div");if(Ae.style.color=e.color,Ae.onmouseover=O,Ae.onmouseout=W,Ae.onmousedown=function(Me){Me.preventDefault()},Ae.ondblclick=F,Ae.__hint=ke[0],Ae.id=J[ve].id,Ae.innerHTML=J[ve].html,M.push(Ae),x.appendChild(Ae),M.length>=m.display_limit){var Ze=n.createElement("div");Ze.innerHTML=" "+(J.length-M.length)+" more",M.push(Ze),x.appendChild(Ze);break}}}M.length!==0&&(re.highlight(0),fe>de*3?(x.style.maxHeight=fe+"px",x.style.top="",x.style.bottom="100%"):(x.style.top="100%",x.style.bottom="",x.style.maxHeight=de+"px"),x.style.visibility="visible")},highlight:function(P){D!=-1&&M[D]&&(M[D].style.backgroundColor=e.backgroundColor),M[P].style.backgroundColor=e.dropDownOnHoverBackgroundColor,D=P,N=M[P]},move:function(P){return x.style.visibility==="hidden"?"":(I+P===-1||I+P===M.length||(I+=P,re.highlight(I)),M[I].__hint)},onmouseselection:function(){},get_current_row:function(){return N}};return re},h=c(u);h.onmouseselection=function(k){m.onEnter(k),m.input.focus()},a.appendChild(u),t.appendChild(a);var p,g;function v(k){return p===void 0&&(p=n.createElement("span"),p.style.visibility="hidden",p.style.position="fixed",p.style.outline="0",p.style.margin="0",p.style.padding="0",p.style.border="0",p.style.left="0",p.style.whiteSpace="pre",p.style.fontSize=e.fontSize,p.style.fontFamily=e.fontFamily,p.style.fontWeight="normal",n.body.appendChild(p)),p.innerHTML=String(k).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),p.getBoundingClientRect().right}var m={get_hint:function(x){return x},display_limit:1e3,onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},onChange:function(){m.repaint()},startFrom:0,options:[],wrapper:a,input:i,hint:o,dropDown:u,prompt:s,setText:function(x){o.value=x,i.value=x},getText:function(){return i.value},hideDropDown:function(){h.hide()},repaint:function(){var x=i.value,M=m.startFrom,I=m.options,D=I.length,N=x.substring(M);g=x.substring(0,M),o.value="";for(var O=0;O<D;O++){var W=I[O].matches.filter(function(F){return F.toLowerCase().indexOf(N.toLowerCase())==0});if(W.length!=0){o.value=m.get_hint(W[0]);break}}u.style.left=v(g)+"px",h.refresh(N,m.options)}},y,A=function(x,M){y=x.value;var I=function(){var N=x.value;y!==N&&(y=N,M(N))};x.addEventListener("input",I,!1),x.addEventListener("keyup",I,!1),x.addEventListener("change",I,!1)};A(i,function(k){m.onChange(k),m.repaint()});var E=function(x){x=x||r.event;var M=x.keyCode;if(M!=33&&M!=34){if(M==39||M==35||M==9){if(M==9&&(x.preventDefault(),x.stopPropagation(),o.value.length==0&&m.onTab()),o.value.length>0){i.value=o.value;var I=y!=i.value;y=i.value,I&&m.onChange(i.value)}return}if(M==13){var D=h.get_current_row().id;m.onEnter(D);return}if(M==40){var N=h.move(1);N==""&&m.onArrowDown(),o.value=m.get_hint(N);return}if(M==38){var N=h.move(-1);N==""&&m.onArrowUp(),o.value=m.get_hint(N),x.preventDefault(),x.stopPropagation();return}o.value=""}};return i.addEventListener("keydown",E,!1),m}var jM={value:()=>{}};function cm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new tl(n)}function tl(t){this._=t}function UM(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}tl.prototype=cm.prototype={constructor:tl,on:function(t,e){var n=this._,r=UM(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=WM(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=fm(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fm(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tl(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function WM(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fm(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=jM,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const nl=cm;function YM(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xt(t,e){if(t=YM(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const VM={passive:!1},pa={capture:!0,passive:!1};function yf(t){t.stopImmediatePropagation()}function ji(t){t.preventDefault(),t.stopImmediatePropagation()}function bf(t){var e=t.document.documentElement,n=ze(t).on("dragstart.drag",ji,pa);"onselectstart"in e?n.on("selectstart.drag",ji,pa):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Af(t,e){var n=t.document.documentElement,r=ze(t).on("dragstart.drag",null);e&&(r.on("click.drag",ji,pa),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rl=t=>()=>t;function wf(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}wf.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function GM(t){return!t.ctrlKey&&!t.button}function HM(){return this.parentNode}function QM(t,e){return e??{x:t.x,y:t.y}}function XM(){return navigator.maxTouchPoints||"ontouchstart"in this}function vn(){var t=GM,e=HM,n=QM,r=XM,i={},o=nl("start","drag","end"),a=0,s,l,u,c,h=0;function p(x){x.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",A,VM).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(x,M){if(!(c||!t.call(this,x,M))){var I=k(this,e.call(this,x,M),x,M,"mouse");I&&(ze(x.view).on("mousemove.drag",v,pa).on("mouseup.drag",m,pa),bf(x.view),yf(x),u=!1,s=x.clientX,l=x.clientY,I("start",x))}}function v(x){if(ji(x),!u){var M=x.clientX-s,I=x.clientY-l;u=M*M+I*I>h}i.mouse("drag",x)}function m(x){ze(x.view).on("mousemove.drag mouseup.drag",null),Af(x.view,u),ji(x),i.mouse("end",x)}function y(x,M){if(t.call(this,x,M)){var I=x.changedTouches,D=e.call(this,x,M),N=I.length,O,W;for(O=0;O<N;++O)(W=k(this,D,x,M,I[O].identifier,I[O]))&&(yf(x),W("start",x,I[O]))}}function A(x){var M=x.changedTouches,I=M.length,D,N;for(D=0;D<I;++D)(N=i[M[D].identifier])&&(ji(x),N("drag",x,M[D]))}function E(x){var M=x.changedTouches,I=M.length,D,N;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),D=0;D<I;++D)(N=i[M[D].identifier])&&(yf(x),N("end",x,M[D]))}function k(x,M,I,D,N,O){var W=o.copy(),F=xt(O||I,M),re,q,P;if((P=n.call(x,new wf("beforestart",{sourceEvent:I,target:p,identifier:N,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:W}),D))!=null)return re=P.x-F[0]||0,q=P.y-F[1]||0,function J(Y,Q,fe){var de=F,ve;switch(Y){case"start":i[N]=J,ve=a++;break;case"end":delete i[N],--a;case"drag":F=xt(fe||Q,M),ve=a;break}W.call(Y,x,new wf(Y,{sourceEvent:Q,subject:P,target:p,identifier:N,active:ve,x:F[0]+re,y:F[1]+q,dx:F[0]-de[0],dy:F[1]-de[1],dispatch:W}),D)}}return p.filter=function(x){return arguments.length?(t=typeof x=="function"?x:rl(!!x),p):t},p.container=function(x){return arguments.length?(e=typeof x=="function"?x:rl(x),p):e},p.subject=function(x){return arguments.length?(n=typeof x=="function"?x:rl(x),p):n},p.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:rl(!!x),p):r},p.on=function(){var x=o.on.apply(o,arguments);return x===o?p:x},p.clickDistance=function(x){return arguments.length?(h=(x=+x)*x,p):Math.sqrt(h)},p}function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function ZM(t,e){return $M(t)||JM(t,e)||KM(t,e)||qM()}function qM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KM(t,e){if(t){if(typeof t=="string")return hm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hm(t,e):void 0}}function hm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function JM(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $M(t){if(Array.isArray(t))return t}function eB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rB(r.key),r)}}function nB(t,e,n){return e&&tB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rB(t){var e=iB(t,"string");return _a(e)=="symbol"?e:e+""}function iB(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oB=function(){function t(e){eB(this,t),this.arrowContainer=e.append("g").attr("id","direction-arrow-container").attr("transform","translate(0,0)rotate(0)"),this.arrow=this.arrowContainer.append("path").classed("direction-arrow",!0).attr("d","M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z").style("visibility","hidden").attr("transform","translate(30,0)scale(2.5)"),this.sel=e,this.center={x:0,y:0},this._setupDrag(),this.dragging=!1,this.isVisible=!1,this.show()}return nB(t,[{key:"setLocation",value:function(n){this.center=n;var r=G.d3_transform_catch(this.arrowContainer.attr("transform"));this.arrowContainer.attr("transform","translate("+n.x+","+n.y+")rotate("+r.rotate+")")}},{key:"setRotation",value:function(n){var r=G.d3_transform_catch(this.arrowContainer.attr("transform"));this.arrowContainer.attr("transform","translate("+r.translate+")rotate("+n+")")}},{key:"displaceRotation",value:function(n){var r=G.d3_transform_catch(this.arrowContainer.attr("transform"));this.arrowContainer.attr("transform","translate("+r.translate+")rotate("+(r.rotate+n)+")")}},{key:"getRotation",value:function(){return G.d3_transform_catch(this.arrowContainer.attr("transform")).rotate}},{key:"toggle",value:function(n){n===void 0?this.isVisible=!this.isVisible:this.isVisible=n,this.arrow.style("visibility",this.isVisible?"visible":"hidden")}},{key:"show",value:function(){this.toggle(!0)}},{key:"hide",value:function(){this.toggle(!1)}},{key:"right",value:function(){this.setRotation(0)}},{key:"down",value:function(){this.setRotation(90)}},{key:"left",value:function(){this.setRotation(180)}},{key:"up",value:function(){this.setRotation(270)}},{key:"_setupDrag",value:function(){var n=this,r,i,o=vn().on("start",function(a){r=a.x,i=a.y,a.sourceEvent.stopPropagation(),n.dragging=!0}).on("drag",function(a){var s=a.x-r;r=a.x;var l=a.y-i;i=a.y;var u={x:s,y:l},c=xt(a,n.sel.node()),h=ZM(c,2),p=h[0],g=h[1],v={x:p,y:g},m=G.angle_for_event(u,v,n.center);n.displaceRotation(G.to_degrees(m))}).on("end",function(a){setTimeout(function(){n.dragging=!1},200)});this.arrowContainer.call(o)}}])}(),xf=function(e){return e},aB=/([.*+?^=!:${}()|[\]/\\])/g,sB=/\n\s*\n/g,lB=/\n\s*(\)*)\s*$/,uB=/([() ])(?:and|or)([)( ])/ig,cB=/[()]/g,fB=/\(\s*(\S+)\s*\)/g,hB=/\s+or\s+/i,dB=/\s+and\s+/i,pB=/(^|\()(\s*-?[0-9.]+\s+(?:or\s+-?[0-9.]+\s*)+)(\)|$)/ig,_B=/(^|\(|or\s)(\s*-?[0-9.]+\s+(?:and\s+-?[0-9.]+\s*)+)(\sor|\)|$)/ig;function il(t){var e=Number(t);return isNaN(e)||parseFloat(t)!==e?null:e}function gB(t,e){var n={},r=[null];for(var i in t){r=t[i].map(function(){return null});break}var o=function(){var l=e[a],u=l.bigg_id,c={};l.genes.forEach(function(h){["bigg_id","name"].forEach(function(p){var g=t[h[p]]||G.clone(r),v=c[h.bigg_id];if(v===void 0)c[h.bigg_id]=g;else for(var m=0;m<g.length;m++){var y=g[m];y!==null&&(v[m]=y)}})}),n[u]=c};for(var a in e)o();return n}function dm(t){return isFinite(t)?t:null}function mB(t,e){return e?Math.abs(t):t}function vB(t,e,n){return n?Math.abs(e-t):e-t}function yB(t,e,n){if(t===0||e===0)return null;var r=e>=t?e/t:-t/e;return n?Math.abs(r):r}function bB(t,e,n){if(t===0||e/t<0)return null;var r=Math.log(e/t)/Math.log(2);return n?Math.abs(r):r}function AB(t,e,n){if(!t)return null;if(["reaction_data","metabolite_data","gene_data"].indexOf(e)===-1)throw new Error("Invalid name argument: "+e);t instanceof Array||(t=[t]);var r=function(){return t===null||t.length===1||t.length===2?null:console.warn("Bad data style: "+e)};if(r(),t=G.arrayToObject(t),e==="gene_data"){if(n===void 0)throw new Error("Must pass all_reactions argument for gene_data");t=gB(t,n)}return t}function ga(t,e,n){if(t===null)return null;var r=e.indexOf("abs")!==-1;if(t.length===1){var i=il(t[0]);return i===null?null:mB(i,r)}else if(t.length===2){var o=t.map(il);if(o[0]===null||o[1]===null)return null;if(n==="diff")return vB(o[0],o[1],r);if(n==="fold")return dm(yB(o[0],o[1],r));if(n==="log2_fold")return dm(bB(o[0],o[1],r))}else throw new Error("Data array must be of length 1 or 2");throw new Error("Bad data compare_style: "+n)}function Ef(t){return t===null||t[0]===null?!1:t[0]<0}function pm(t,e,n,r,i,o){var a=t,s=e===null,l={};n.forEach(function(h){var p=h.bigg_id;if(!(p in l))if(l[p]=!0,s)a=Ui(a,p,p+`
`);else{if(!(p in e))return;var g=e[p],v=ga(g,r,o),m=v===null?xf:Fi(".3g");if(g.length===1)a=Ui(a,p,p+" ("+c(g[0],m)+`)
`);else if(g.length===2){var y,A=ge.any(g,function(E){return il(E)!==null});A?y=p+" ("+c(g[0],m)+", "+c(g[1],m)+": "+c(v,m)+`)
`:y=p+" ("+c(g[0],m)+", "+c(g[1],m)+`)
`,a=Ui(a,p,y)}}}),a=a.replace(sB,`
`).replace(lB,"$1");var u=a.split(`
`).map(function(h){for(var p=0,g=n.length;p<g;p++){var v=n[p];if(h.indexOf(v.bigg_id)!==-1)return i==="name"&&(h=Ui(h,v.bigg_id,v.name)),{bigg_id:v.bigg_id,name:v.name,text:h}}return{bigg_id:null,name:null,text:h}});return u;function c(h,p){if(h===null)return"nd";var g=p(h);return g.replace("−","-")}}function ol(t,e){if(t===null)return i(null);if(t.length===1){var n=e===null?xf:Fi(".3g");return i(t[0],n)}if(t.length===2){var n=e===null?xf:Fi(".3g"),r=i(t[0],n);return r+=", "+i(t[1],n),r+=": "+i(e,n),r}return"";function i(o,a){if(o===null)return"(nd)";var s=a(o);return s.replace("−","-")}}function wB(t){var e=t[0].length,n=[];if(e<2||e>3)throw new Error("CSV file must have 2 or 3 columns");for(var r=1;r<e;r++)n[r-1]={};return t.slice(1).forEach(function(i){for(var o=1,a=i.length;o<a;o++)n[o-1][i[0]]=i[o]}),n}function xB(t){var e=t.replace(uB,"$1$2").replace(cB,"").split(" ").filter(function(n){return n!=""});return G.unique_strings_array(e)}function _m(t,e,n){var r=[null],i=1;for(var o in e){r=e[o].map(function(){return null}),i=r.length;break}if(t=="")return G.clone(r);for(var a=[],s=0;s<i;s++){var l=t,u=!0;for(var o in e){var c=il(e[o][s]);c===null?c=0:u=!1,l=Ui(l,o,c)}if(u){a.push(null);continue}for(;;){var h=l;if(h=h.replace(fB," $1 "),h=h.replace(pB,function(g,v,m,y){var A=m.split(hB).map(parseFloat),E=A.reduce(function(k,x){return k+x});return v+E+y}),h=h.replace(_B,function(g,v,m,y){var A=m.split(dB).map(parseFloat),E=n=="min"?Math.min.apply(null,A):A.reduce(function(k,x){return k+x})/A.length;return v+E+y}),h==l)break;l=h}var p=Number(l);isNaN(p)?(console.warn("Could not evaluate "+t),a.push(null)):a.push(p)}return a}function Ui(t,e,n){var r="(^|[\\s\\(\\)])",i="([\\s\\(\\)]|$)",o=r+a(e)+i;return t.replace(new RegExp(o,"g"),"$1"+n+"$2");function a(s){return s.replace(aB,"\\$1")}}function EB(t,e,n,r,i){ge.isUndefined(i)&&(i=Object.keys(t));var o,a,s;return e===null?(i.map(function(l){o=t[l],o.data=null,o.data_string="";for(a in o.segments)s=o.segments[a],s.data=null;o.gene_string=null}),!1):(i.map(function(l){o=t[l];var u=e[o.bigg_id]||e[o.name]||null,c=ga(u,n,r),h=Ef(u),p=ol(u,c);o.data=c,o.data_string=p,o.reverse_flux=h,o.gene_string=null;for(a in o.segments)s=o.segments[a],s.data=o.data,s.reverse_flux=o.reverse_flux}),!0)}function CB(t,e,n,r,i){return ge.isUndefined(i)&&(i=Object.keys(t)),e===null?(i.map(function(o){t[o].data=null,t[o].data_string=""}),!1):(i.map(function(o){var a=t[o],s=e[a.bigg_id]||e[a.name]||null,l=ga(s,n,r),u=ol(s,l);a.data=l,a.data_string=u}),!0)}function kB(t,e,n,r,i,o,a){if(ge.isUndefined(a)&&(a=Object.keys(t)),e===null)return a.map(function(c){var h=t[c];h.data=null,h.data_string="",h.reverse_flux=!1;for(var p in h.segments){var g=h.segments[p];g.data=null}h.gene_string=null}),!1;var s=[null];for(var l in e){for(var u in e[l]){s=e[l][u].map(function(){return null});break}break}return a.map(function(c){var h=t[c],p=h.gene_reaction_rule,g,v,m=e[h.bigg_id];ge.isUndefined(m)?(v={},g=G.clone(s)):(v=m,g=_m(p,v,o));var y=ga(g,n,i),A=Ef(g),E=ol(g,y);h.data=y,h.data_string=E,h.reverse_flux=A;for(var k in h.segments){var x=h.segments[k];x.data=h.data,x.reverse_flux=h.reverse_flux}h.gene_string=pm(p,v,h.genes,n,r,i)}),!0}const Lt={importAndCheck:AB,floatForData:ga,reverse_flux_for_data:Ef,gene_string_for_data:pm,text_for_data:ol,csv_converter:wB,genes_for_gene_reaction_rule:xB,evaluate_gene_reaction_rule:_m,replace_gene_in_rule:Ui,apply_reaction_data_to_reactions:EB,apply_metabolite_data_to_nodes:CB,apply_gene_data_to_reactions:kB};var ma=G.make_class();ma.from_cobra_json=BB,ma.build_reaction_string=MB,ma.prototype={init:SB,apply_reaction_data:TB,apply_metabolite_data:DB,apply_gene_data:OB};function MB(t,e){var n=function(u){return u==1?"":String(u)+" "},r=[],i=[];for(var o in t){var a=t[o];a>0?i.push(n(a)+o):r.push(n(Math.abs(a))+o)}var s=r.join(" + ");return e?s+=" ↔ ":s+=" → ",s+=i.join(" + "),s}function BB(t){if(!(t.reactions&&t.metabolites))throw new Error("Bad model data.");for(var e={},n=0,r=t.genes.length;n<r;n++){var i=t.genes[n],o=i.id;e[o]=i}var a=new ma;a.reactions={};for(var n=0,r=t.reactions.length;n<r;n++){var i=t.reactions[n],o=i.id,s=G.clone(i);if(delete s.id,s.bigg_id=o,s.data_string="",s.genes=[],s.reversibility=s.lower_bound<0&&s.upper_bound>0,s.upper_bound<=0&&s.lower_bound<0)for(var l in s.metabolites)s.metabolites[l]=-s.metabolites[l];if(delete s.lower_bound,delete s.upper_bound,"gene_reaction_rule"in s){var u=Lt.genes_for_gene_reaction_rule(s.gene_reaction_rule);u.forEach(function(m){if(m in e){var y=G.clone(e[m]);y.bigg_id=y.id,delete y.id,s.genes.push(y)}else console.warn("Could not find gene for gene_id "+m)})}a.reactions[o]=s}a.metabolites={};for(var n=0,r=t.metabolites.length;n<r;n++){var i=t.metabolites[n],o=i.id,c=G.clone(i);delete c.id,c.bigg_id=o,a.metabolites[o]=c}return a}function SB(){this.reactions={},this.metabolites={}}function TB(t,e,n){Lt.apply_reaction_data_to_reactions(this.reactions,t,e,n)}function DB(t,e,n){Lt.apply_metabolite_data_to_nodes(this.metabolites,t,e,n)}function OB(t,e,n,r,i){Lt.apply_gene_data_to_reactions(this.reactions,t,e,n,r,i)}const Cf=ma;function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function zB(t,e){return LB(t)||NB(t,e)||PB(t,e)||IB()}function IB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(t,e){if(t){if(typeof t=="string")return gm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gm(t,e):void 0}}function gm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function NB(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function LB(t){if(Array.isArray(t))return t}function RB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UB(r.key),r)}}function jB(t,e,n){return e&&FB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UB(t){var e=WB(t,"string");return va(e)=="symbol"?e:e+""}function WB(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YB=function(){function t(e,n,r,i){var o=this;RB(this,t);var a=e.append("div").attr("id","rxn-input");this.placed_div=vf(a,n,{x:240,y:0}),this.placed_div.hide(),this.completely=FM(a.node(),{backgroundColor:"#eee"}),a.append("button").attr("class","button input-close-button").text("×").on("mousedown",function(){return o.hideDropdown()}),this.map=n;var s=90;this.direction_arrow=new oB(n.sel),this.direction_arrow.setRotation(s),this.setUpMapCallbacks(n),this.zoomContainer=r,this.setUpZoomCallbacks(r),this.settings=i,this.toggle(!1),this.target_coords=null}return jB(t,[{key:"setUpMapCallbacks",value:function(n){var r=this;n.callback_manager.set("select_metabolite_with_id.input",function(i,o){if(r.is_active){var a=r.reload(i,o,!1);a&&r.showDropdown(o)}r.hideTarget()}),n.callback_manager.set("select_selectable.input",function(i,o,a){if(r.hideTarget(),i===1&&r.is_active&&a){var s=r.reload(o,a,!1);s&&r.showDropdown(a)}else r.toggle(!1)}),n.callback_manager.set("deselect_nodes",function(){r.direction_arrow.hide(),r.hideDropdown()}),n.callback_manager.set("before_svg_export",function(){r.direction_arrow.hide(),r.hideTarget()})}},{key:"setUpZoomCallbacks",value:function(n){}},{key:"is_visible",value:function(){return this.placed_div.is_visible()}},{key:"toggle",value:function(n){if(n===void 0?this.is_active=!this.is_active:this.is_active=n,this.is_active){this.toggleStartReactionListener(!0);var r=!0;ge.isNull(this.target_coords)?r=this.reloadAtSelected():this.placed_div.place(this.target_coords),r&&(this.showDropdown(),this.map.set_status("Click on the canvas or an existing metabolite")),this.direction_arrow.show()}else this.toggleStartReactionListener(!1),this.hideDropdown(),this.map.set_status(null),this.direction_arrow.hide()}},{key:"showDropdown",value:function(n){var r=this;this.clear_escape=this.map.key_manager.addEscapeListener(function(){return r.hideDropdown()},!0),this.completely.input.blur(),this.completely.repaint(),this.completely.setText(""),this.completely.input.focus()}},{key:"hideDropdown",value:function(){this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.placed_div.hide(),this.completely.input.blur(),this.completely.hideDropDown()}},{key:"place",value:function(n){this.placed_div.place(n),this.direction_arrow.setLocation(n),this.direction_arrow.show()}},{key:"reloadAtSelected",value:function(){this.map.deselect_text_labels();var n=this.map.select_single_node();if(n===null)return!1;var r={x:n.x,y:n.y};return this.reload(n,r,!1)}},{key:"alreadyDrawn",value:function(n,r){for(var i in r)if(r[i].bigg_id===n)return!0;return!1}},{key:"reload",value:function(n,r,i){var o=this;if(!i&&!n){console.error("No selected node and not starting from scratch");return}if(this.place(r),this.map.cobra_model===null)return this.completely.setText("Cannot add: No model."),!1;var a=this.settings.get("identifiers_on_map")==="name",s=this.settings.get("allow_building_duplicate_reactions"),l=[],u=this.map.cobra_model.reactions,c=this.map.cobra_model.metabolites,h=this.map.reactions,p=this.map.has_data_on_reactions,g=n?a?n.name:n.bigg_id:"",v=function(J,Y){return J.replace(new RegExp("(^| )("+Y.join("|")+")($| )","g"),"$1<b>$2</b>$3")},m={};for(var y in u){var A=u[y],E=A.name,k=a?E:y;if(!(!s&&this.alreadyDrawn(y,h))){for(var x in A.metabolites)if(i||x===n.bigg_id){if(y in m)continue;var M={},I=[],D=void 0;if(a)for(D in A.metabolites){var N=c[D].name;M[N]=A.metabolites[D],I.push(N)}else{M=G.clone(A.metabolites);for(D in A.metabolites)I.push(D)}var O=ge.flatten(A.genes.map(function(P){return[P.name,P.biggId]})),W=Cf.build_reaction_string(M,A.reversibility,A.lower_bound,A.upper_bound),F=[k].concat(I).concat(O).filter(function(P){return P});p?l.push({reaction_data:A.data,html:"<b>"+k+"</b>: "+A.data_string,matches:F,id:y}):l.push({html:"<b>"+k+"</b>	"+v(W,[g]),matches:F,id:y}),m[y]=!0}}}var re=p?function(P,J){return Math.abs(P.reaction_data)>Math.abs(J.reaction_data)?-1:1}:function(P,J){return P.html.toLowerCase()<J.html.toLowerCase()?-1:1};this.completely.options=l.sort(re),this.completely.setText("");var q=function(J){if(J!==null)if(i)o.map.new_reaction_from_scratch(J,r,o.direction_arrow.getRotation());else{if(!(n.node_id in o.map.nodes)){console.error("Selected node no longer exists"),o.hideDropdown();return}o.map.new_reaction_for_metabolite(J,n.node_id,o.direction_arrow.getRotation())}};return this.completely.onEnter=function(P){this.setText(""),this.onChange(""),q(P)},!0}},{key:"toggleStartReactionListener",value:function(n){var r=this;if(n===void 0)this.start_reaction_listener=!this.start_reaction_listener;else{if(this.start_reaction_listener===n)return;this.start_reaction_listener=n}if(this.start_reaction_listener){var i=this.map.sel.node();this.map.sel.on("click.start_reaction",function(o){if(!r.direction_arrow.dragging){var a=xt(o,i),s=zB(a,2),l=s[0],u=s[1],c={x:l,y:u};r.map.deselect_nodes(),r.map.deselect_text_labels();var h=r.reload(null,c,!0);h&&r.showDropdown(c),r.showTarget(r.map,c)}}),this.map.sel.style("cursor","pointer")}else this.map.sel.on("click.start_reaction",null),this.map.sel.style("cursor",null),this.hideTarget()}},{key:"hideTarget",value:function(){this.target_coords&&this.map.sel.selectAll(".start-reaction-target").remove(),this.target_coords=null}},{key:"showTarget",value:function(n,r){var i=n.sel.selectAll(".start-reaction-target").data([12,5]);i.enter().append("circle").classed("start-reaction-target",!0).attr("r",function(o){return o}).style("stroke-width",4).merge(i).style("visibility","visible").attr("transform","translate("+r.x+","+r.y+")"),this.target_coords=r}}])}();function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}function VB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QB(r.key),r)}}function HB(t,e,n){return e&&GB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QB(t){var e=XB(t,"string");return ya(e)=="symbol"?e:e+""}function XB(t,e){if(ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wi=function(){function t(){VB(this,t)}return HB(t,[{key:"set",value:function(n,r){this.callbacks===void 0&&(this.callbacks={}),this.callbacks[n]===void 0&&(this.callbacks[n]=[]),this.callbacks[n].push(r)}},{key:"remove",value:function(n){this.callbacks===void 0||Object.keys(this.callbacks).length===0?console.warn("No callbacks to remove"):delete this.callbacks[n]}},{key:"run",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(this.callbacks!==void 0)for(var s in this.callbacks){var l=s.split(".")[0];l===n&&this.callbacks[s].forEach(function(u){u.apply(r,o)})}}}])}(),ZB=1e-12;function mm(t){return((t=Math.exp(t))+1/t)/2}function qB(t){return((t=Math.exp(t))-1/t)/2}function KB(t){return((t=Math.exp(2*t))-1)/(t+1)}const JB=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],h=a[1],p=a[2],g=c-s,v=h-l,m=g*g+v*v,y,A;if(m<ZB)A=Math.log(p/u)/e,y=function(D){return[s+D*g,l+D*v,u*Math.exp(e*D*A)]};else{var E=Math.sqrt(m),k=(p*p-u*u+r*m)/(2*u*n*E),x=(p*p-u*u-r*m)/(2*p*n*E),M=Math.log(Math.sqrt(k*k+1)-k),I=Math.log(Math.sqrt(x*x+1)-x);A=(I-M)/e,y=function(D){var N=D*A,O=mm(M),W=u/(n*E)*(O*KB(e*N+M)-qB(M));return[s+W*g,l+W*v,u*O/mm(e*N+M)]}}return y.duration=A*1e3*e/Math.SQRT2,y}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);var Yi=0,ba=0,Aa=0,vm=1e3,al,wa,sl=0,Kr=0,ll=0,xa=typeof performance=="object"&&performance.now?performance:Date,ym=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kf(){return Kr||(ym($B),Kr=xa.now()+ll)}function $B(){Kr=0}function ul(){this._call=this._time=this._next=null}ul.prototype=bm.prototype={constructor:ul,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?kf():+n)+(e==null?0:+e),!this._next&&wa!==this&&(wa?wa._next=this:al=this,wa=this),this._call=t,this._time=n,Mf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mf())}};function bm(t,e,n){var r=new ul;return r.restart(t,e,n),r}function eS(){kf(),++Yi;for(var t=al,e;t;)(e=Kr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Yi}function Am(){Kr=(sl=xa.now())+ll,Yi=ba=0;try{eS()}finally{Yi=0,nS(),Kr=0}}function tS(){var t=xa.now(),e=t-sl;e>vm&&(ll-=e,sl=t)}function nS(){for(var t,e=al,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:al=n);wa=t,Mf(r)}function Mf(t){if(!Yi){ba&&(ba=clearTimeout(ba));var e=t-Kr;e>24?(t<1/0&&(ba=setTimeout(Am,t-xa.now()-ll)),Aa&&(Aa=clearInterval(Aa))):(Aa||(sl=xa.now(),Aa=setInterval(tS,vm)),Yi=1,ym(Am))}}function wm(t,e,n){var r=new ul;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var rS=nl("start","end","cancel","interrupt"),iS=[],xm=0,Em=1,Bf=2,cl=3,Cm=4,Sf=5,fl=6;function hl(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;oS(t,n,{name:e,index:r,group:i,on:rS,tween:iS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:xm})}function Tf(t,e){var n=yn(t,e);if(n.state>xm)throw new Error("too late; already scheduled");return n}function zn(t,e){var n=yn(t,e);if(n.state>cl)throw new Error("too late; already running");return n}function yn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function oS(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=bm(o,0,n.time);function o(u){n.state=Em,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,p,g;if(n.state!==Em)return l();for(c in r)if(g=r[c],g.name===n.name){if(g.state===cl)return wm(a);g.state===Cm?(g.state=fl,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[c]):+c<e&&(g.state=fl,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[c])}if(wm(function(){n.state===cl&&(n.state=Cm,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Bf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bf){for(n.state=cl,i=new Array(p=n.tween.length),c=0,h=-1;c<p;++c)(g=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Sf,1),h=-1,p=i.length;++h<p;)i[h].call(t,c);n.state===Sf&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=fl,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Vi(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Bf&&r.state<Sf,r.state=fl,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function aS(t){return this.each(function(){Vi(this,t)})}var km=180/Math.PI,Df={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mm(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*km,skewX:Math.atan(l)*km,scaleX:a,scaleY:s}}var dl;function sS(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Df:Mm(e.a,e.b,e.c,e.d,e.e,e.f)}function lS(t){return t==null||(dl||(dl=document.createElementNS("http://www.w3.org/2000/svg","g")),dl.setAttribute("transform",t),!(t=dl.transform.baseVal.consolidate()))?Df:(t=t.matrix,Mm(t.a,t.b,t.c,t.d,t.e,t.f))}function Bm(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,p,g,v){if(u!==h||c!==p){var m=g.push("translate(",null,e,null,n);v.push({i:m-4,x:mn(u,h)},{i:m-2,x:mn(c,p)})}else(h||p)&&g.push("translate("+h+e+p+n)}function a(u,c,h,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:mn(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,p){u!==c?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:mn(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,p,g,v){if(u!==h||c!==p){var m=g.push(i(g)+"scale(",null,",",null,")");v.push({i:m-4,x:mn(u,h)},{i:m-2,x:mn(c,p)})}else(h!==1||p!==1)&&g.push(i(g)+"scale("+h+","+p+")")}return function(u,c){var h=[],p=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,p),a(u.rotate,c.rotate,h,p),s(u.skewX,c.skewX,h,p),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,p),u=c=null,function(g){for(var v=-1,m=p.length,y;++v<m;)h[(y=p[v]).i]=y.x(g);return h.join("")}}}var uS=Bm(sS,"px, ","px)","deg)"),cS=Bm(lS,", ",")",")");function fS(t,e){var n,r;return function(){var i=zn(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function hS(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=zn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function dS(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=yn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?fS:hS)(n,t,e))}function Of(t,e,n){var r=t._id;return t.each(function(){var i=zn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return yn(i,r).value[e]}}function Sm(t,e){var n;return(typeof e=="number"?mn:e instanceof Xr?Xs:(n=Xr(e))?(e=n,Xs):Ug)(t,e)}function pS(t){return function(){this.removeAttribute(t)}}function _S(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gS(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function mS(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function vS(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function yS(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function bS(t,e){var n=ks(t),r=n==="transform"?cS:Sm;return this.attrTween(t,typeof e=="function"?(n.local?yS:vS)(n,r,Of(this,"attr."+t,e)):e==null?(n.local?_S:pS)(n):(n.local?mS:gS)(n,r,e))}function AS(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wS(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function xS(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&wS(t,o)),n}return i._value=e,i}function ES(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&AS(t,o)),n}return i._value=e,i}function CS(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ks(t);return this.tween(n,(r.local?xS:ES)(r,e))}function kS(t,e){return function(){Tf(this,t).delay=+e.apply(this,arguments)}}function MS(t,e){return e=+e,function(){Tf(this,t).delay=e}}function BS(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kS:MS)(e,t)):yn(this.node(),e).delay}function SS(t,e){return function(){zn(this,t).duration=+e.apply(this,arguments)}}function TS(t,e){return e=+e,function(){zn(this,t).duration=e}}function DS(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?SS:TS)(e,t)):yn(this.node(),e).duration}function OS(t,e){if(typeof e!="function")throw new Error;return function(){zn(this,t).ease=e}}function zS(t){var e=this._id;return arguments.length?this.each(OS(e,t)):yn(this.node(),e).ease}function IS(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;zn(this,t).ease=n}}function PS(t){if(typeof t!="function")throw new Error;return this.each(IS(this._id,t))}function NS(t){typeof t!="function"&&(t=Kp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Qn(r,this._parents,this._name,this._id)}function LS(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,h=a[s]=new Array(c),p,g=0;g<c;++g)(p=l[g]||u[g])&&(h[g]=p);for(;s<r;++s)a[s]=e[s];return new Qn(a,this._parents,this._name,this._id)}function RS(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function FS(t,e,n){var r,i,o=RS(e)?Tf:zn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function jS(t,e){var n=this._id;return arguments.length<2?yn(this.node(),n).on.on(t):this.each(FS(n,t,e))}function US(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function WS(){return this.on("end.remove",US(this._id))}function YS(t){var e=this._name,n=this._id;typeof t!="function"&&(t=lc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,h,p=0;p<l;++p)(c=s[p])&&(h=t.call(c,c.__data__,p,s))&&("__data__"in c&&(h.__data__=c.__data__),u[p]=h,hl(u[p],e,n,p,u,yn(c,n)));return new Qn(o,this._parents,e,n)}function VS(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qp(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var p=t.call(c,c.__data__,h,l),g,v=yn(c,n),m=0,y=p.length;m<y;++m)(g=p[m])&&hl(g,e,n,m,p,v);o.push(p),a.push(c)}return new Qn(o,a,e,n)}var GS=Nr.prototype.constructor;function HS(){return new GS(this._groups,this._parents)}function QS(t,e){var n,r,i;return function(){var o=Ei(this,t),a=(this.style.removeProperty(t),Ei(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Tm(t){return function(){this.style.removeProperty(t)}}function XS(t,e,n){var r,i=n+"",o;return function(){var a=Ei(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function ZS(t,e,n){var r,i,o;return function(){var a=Ei(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Ei(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function qS(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=zn(this,t),u=l.on,c=l.value[o]==null?s||(s=Tm(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function KS(t,e,n){var r=(t+="")=="transform"?uS:Sm;return e==null?this.styleTween(t,QS(t,r)).on("end.style."+t,Tm(t)):typeof e=="function"?this.styleTween(t,ZS(t,r,Of(this,"style."+t,e))).each(qS(this._id,t)):this.styleTween(t,XS(t,r,e),n).on("end.style."+t,null)}function JS(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $S(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&JS(t,a,n)),r}return o._value=e,o}function eT(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,$S(t,e,n??""))}function tT(t){return function(){this.textContent=t}}function nT(t){return function(){var e=t(this);this.textContent=e??""}}function rT(t){return this.tween("text",typeof t=="function"?nT(Of(this,"text",t)):tT(t==null?"":t+""))}function iT(t){return function(e){this.textContent=t.call(this,e)}}function oT(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&iT(i)),e}return r._value=t,r}function aT(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,oT(t))}function sT(){for(var t=this._name,e=this._id,n=Dm(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=yn(l,e);hl(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Qn(r,this._parents,t,n)}function lT(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=zn(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var uT=0;function Qn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Dm(){return++uT}var Xn=Nr.prototype;Qn.prototype={constructor:Qn,select:YS,selectAll:VS,selectChild:Xn.selectChild,selectChildren:Xn.selectChildren,filter:NS,merge:LS,selection:HS,transition:sT,call:Xn.call,nodes:Xn.nodes,node:Xn.node,size:Xn.size,empty:Xn.empty,each:Xn.each,on:jS,attr:bS,attrTween:CS,style:KS,styleTween:eT,text:rT,textTween:aT,remove:WS,tween:dS,delay:BS,duration:DS,ease:zS,easeVarying:PS,end:lT,[Symbol.iterator]:Xn[Symbol.iterator]};function cT(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fT={time:null,delay:0,duration:250,ease:cT};function hT(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function dT(t){var e,n;t instanceof Qn?(e=t._id,t=t._name):(e=Dm(),(n=fT).time=kf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&hl(l,t,e,u,a,n||hT(l,e));return new Qn(r,this._parents,t,e)}Nr.prototype.interrupt=aS,Nr.prototype.transition=dT;const pl=t=>()=>t;function pT(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Zn(t,e,n){this.k=t,this.x=e,this.y=n}Zn.prototype={constructor:Zn,scale:function(t){return t===1?this:new Zn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Zn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zf=new Zn(1,0,0);Zn.prototype;function If(t){t.stopImmediatePropagation()}function Ea(t){t.preventDefault(),t.stopImmediatePropagation()}function _T(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function gT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Om(){return this.__zoom||zf}function mT(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vT(){return navigator.maxTouchPoints||"ontouchstart"in this}function yT(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function bT(){var t=_T,e=gT,n=yT,r=mT,i=vT,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=JB,u=nl("start","zoom","end"),c,h,p,g=500,v=150,m=0,y=10;function A(P){P.property("__zoom",Om).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",W).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",re).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(P,J,Y,Q){var fe=P.selection?P.selection():P;fe.property("__zoom",Om),P!==fe?M(P,J,Y,Q):fe.interrupt().each(function(){I(this,arguments).event(Q).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},A.scaleBy=function(P,J,Y,Q){A.scaleTo(P,function(){var fe=this.__zoom.k,de=typeof J=="function"?J.apply(this,arguments):J;return fe*de},Y,Q)},A.scaleTo=function(P,J,Y,Q){A.transform(P,function(){var fe=e.apply(this,arguments),de=this.__zoom,ve=Y==null?x(fe):typeof Y=="function"?Y.apply(this,arguments):Y,ke=de.invert(ve),Ae=typeof J=="function"?J.apply(this,arguments):J;return n(k(E(de,Ae),ve,ke),fe,a)},Y,Q)},A.translateBy=function(P,J,Y,Q){A.transform(P,function(){return n(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),a)},null,Q)},A.translateTo=function(P,J,Y,Q,fe){A.transform(P,function(){var de=e.apply(this,arguments),ve=this.__zoom,ke=Q==null?x(de):typeof Q=="function"?Q.apply(this,arguments):Q;return n(zf.translate(ke[0],ke[1]).scale(ve.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof Y=="function"?-Y.apply(this,arguments):-Y),de,a)},Q,fe)};function E(P,J){return J=Math.max(o[0],Math.min(o[1],J)),J===P.k?P:new Zn(J,P.x,P.y)}function k(P,J,Y){var Q=J[0]-Y[0]*P.k,fe=J[1]-Y[1]*P.k;return Q===P.x&&fe===P.y?P:new Zn(P.k,Q,fe)}function x(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function M(P,J,Y,Q){P.on("start.zoom",function(){I(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(Q).end()}).tween("zoom",function(){var fe=this,de=arguments,ve=I(fe,de).event(Q),ke=e.apply(fe,de),Ae=Y==null?x(ke):typeof Y=="function"?Y.apply(fe,de):Y,Ze=Math.max(ke[1][0]-ke[0][0],ke[1][1]-ke[0][1]),Me=fe.__zoom,qe=typeof J=="function"?J.apply(fe,de):J,ot=l(Me.invert(Ae).concat(Ze/Me.k),qe.invert(Ae).concat(Ze/qe.k));return function(Ge){if(Ge===1)Ge=qe;else{var mt=ot(Ge),wr=Ze/mt[2];Ge=new Zn(wr,Ae[0]-mt[0]*wr,Ae[1]-mt[1]*wr)}ve.zoom(null,Ge)}})}function I(P,J,Y){return!Y&&P.__zooming||new D(P,J)}function D(P,J){this.that=P,this.args=J,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,J),this.taps=0}D.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,J){return this.mouse&&P!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var J=ze(this.that).datum();u.call(P,this.that,new pT(P,{sourceEvent:this.sourceEvent,target:A,type:P,transform:this.that.__zoom,dispatch:u}),J)}};function N(P,...J){if(!t.apply(this,arguments))return;var Y=I(this,J).event(P),Q=this.__zoom,fe=Math.max(o[0],Math.min(o[1],Q.k*Math.pow(2,r.apply(this,arguments)))),de=xt(P);if(Y.wheel)(Y.mouse[0][0]!==de[0]||Y.mouse[0][1]!==de[1])&&(Y.mouse[1]=Q.invert(Y.mouse[0]=de)),clearTimeout(Y.wheel);else{if(Q.k===fe)return;Y.mouse=[de,Q.invert(de)],Vi(this),Y.start()}Ea(P),Y.wheel=setTimeout(ve,v),Y.zoom("mouse",n(k(E(Q,fe),Y.mouse[0],Y.mouse[1]),Y.extent,a));function ve(){Y.wheel=null,Y.end()}}function O(P,...J){if(p||!t.apply(this,arguments))return;var Y=P.currentTarget,Q=I(this,J,!0).event(P),fe=ze(P.view).on("mousemove.zoom",Ae,!0).on("mouseup.zoom",Ze,!0),de=xt(P,Y),ve=P.clientX,ke=P.clientY;bf(P.view),If(P),Q.mouse=[de,this.__zoom.invert(de)],Vi(this),Q.start();function Ae(Me){if(Ea(Me),!Q.moved){var qe=Me.clientX-ve,ot=Me.clientY-ke;Q.moved=qe*qe+ot*ot>m}Q.event(Me).zoom("mouse",n(k(Q.that.__zoom,Q.mouse[0]=xt(Me,Y),Q.mouse[1]),Q.extent,a))}function Ze(Me){fe.on("mousemove.zoom mouseup.zoom",null),Af(Me.view,Q.moved),Ea(Me),Q.event(Me).end()}}function W(P,...J){if(t.apply(this,arguments)){var Y=this.__zoom,Q=xt(P.changedTouches?P.changedTouches[0]:P,this),fe=Y.invert(Q),de=Y.k*(P.shiftKey?.5:2),ve=n(k(E(Y,de),Q,fe),e.apply(this,J),a);Ea(P),s>0?ze(this).transition().duration(s).call(M,ve,Q,P):ze(this).call(A.transform,ve,Q,P)}}function F(P,...J){if(t.apply(this,arguments)){var Y=P.touches,Q=Y.length,fe=I(this,J,P.changedTouches.length===Q).event(P),de,ve,ke,Ae;for(If(P),ve=0;ve<Q;++ve)ke=Y[ve],Ae=xt(ke,this),Ae=[Ae,this.__zoom.invert(Ae),ke.identifier],fe.touch0?!fe.touch1&&fe.touch0[2]!==Ae[2]&&(fe.touch1=Ae,fe.taps=0):(fe.touch0=Ae,de=!0,fe.taps=1+!!c);c&&(c=clearTimeout(c)),de&&(fe.taps<2&&(h=Ae[0],c=setTimeout(function(){c=null},g)),Vi(this),fe.start())}}function re(P,...J){if(this.__zooming){var Y=I(this,J).event(P),Q=P.changedTouches,fe=Q.length,de,ve,ke,Ae;for(Ea(P),de=0;de<fe;++de)ve=Q[de],ke=xt(ve,this),Y.touch0&&Y.touch0[2]===ve.identifier?Y.touch0[0]=ke:Y.touch1&&Y.touch1[2]===ve.identifier&&(Y.touch1[0]=ke);if(ve=Y.that.__zoom,Y.touch1){var Ze=Y.touch0[0],Me=Y.touch0[1],qe=Y.touch1[0],ot=Y.touch1[1],Ge=(Ge=qe[0]-Ze[0])*Ge+(Ge=qe[1]-Ze[1])*Ge,mt=(mt=ot[0]-Me[0])*mt+(mt=ot[1]-Me[1])*mt;ve=E(ve,Math.sqrt(Ge/mt)),ke=[(Ze[0]+qe[0])/2,(Ze[1]+qe[1])/2],Ae=[(Me[0]+ot[0])/2,(Me[1]+ot[1])/2]}else if(Y.touch0)ke=Y.touch0[0],Ae=Y.touch0[1];else return;Y.zoom("touch",n(k(ve,ke,Ae),Y.extent,a))}}function q(P,...J){if(this.__zooming){var Y=I(this,J).event(P),Q=P.changedTouches,fe=Q.length,de,ve;for(If(P),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),de=0;de<fe;++de)ve=Q[de],Y.touch0&&Y.touch0[2]===ve.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===ve.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(ve=xt(ve,this),Math.hypot(h[0]-ve[0],h[1]-ve[1])<y)){var ke=ze(this).on("dblclick.zoom");ke&&ke.apply(this,arguments)}}}return A.wheelDelta=function(P){return arguments.length?(r=typeof P=="function"?P:pl(+P),A):r},A.filter=function(P){return arguments.length?(t=typeof P=="function"?P:pl(!!P),A):t},A.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:pl(!!P),A):i},A.extent=function(P){return arguments.length?(e=typeof P=="function"?P:pl([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),A):e},A.scaleExtent=function(P){return arguments.length?(o[0]=+P[0],o[1]=+P[1],A):[o[0],o[1]]},A.translateExtent=function(P){return arguments.length?(a[0][0]=+P[0][0],a[1][0]=+P[1][0],a[0][1]=+P[0][1],a[1][1]=+P[1][1],A):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},A.constrain=function(P){return arguments.length?(n=P,A):n},A.duration=function(P){return arguments.length?(s=+P,A):s},A.interpolate=function(P){return arguments.length?(l=P,A):l},A.on=function(){var P=u.on.apply(u,arguments);return P===u?A:P},A.clickDistance=function(P){return arguments.length?(m=(P=+P)*P,A):Math.sqrt(m)},A.tapDistance=function(P){return arguments.length?(y=+P,A):y},A}function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function AT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ET(r.key),r)}}function xT(t,e,n){return e&&wT(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ET(t){var e=CT(t,"string");return Ca(e)=="symbol"?e:e+""}function CT(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zm=function(){function t(e,n,r){AT(this,t),e.classed("escher-container",!0),navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Mozilla")===-1&&e.on("touchstart touchmove",function(l){l.sourceEvent.stopPropagation()});var i=e.append("div").attr("class","escher-zoom-container"),o=i.append("div").attr("class","escher-3d-transform-container"),a=o.append("svg").attr("class","escher-svg").attr("xmlns","http://www.w3.org/2000/svg");a.select(".zoom-g").remove();var s=a.append("g").attr("class","zoom-g");this.selection=e,this.container=i,this.css3TransformContainer=o,this.svg=a,this.zoomedSel=s,this.windowTranslate={x:0,y:0},this.windowScale=1,this._scrollBehavior=n,this._use3dTransform=r,this._panDragOn=!0,this._zoomBehavior=null,this._zoomTimeout=null,this._svgScale=this.windowScale,this._svgTranslate=this.windowTranslate,this._3dTransform=null,this._requestedFrame=!1,this.callbackManager=new Wi,this._updateScroll()}return xT(t,[{key:"setScrollBehavior",value:function(n){this._scrollBehavior=n,this._updateScroll()}},{key:"setUse3dTransform",value:function(n){this._use3dTransform=n}},{key:"togglePanDrag",value:function(n){ge.isUndefined(n)?this._panDragOn=!this._panDragOn:this._panDragOn=n,this._panDragOn?this.zoomedSel.style("cursor","grab"):this.zoomedSel.style("cursor")==="grab"&&this.zoomedSel.style("cursor",null),this._updateScroll()}},{key:"_updateScroll",value:function(){var n=this;if(!ge.contains(["zoom","pan","none"],this._scrollBehavior))throw Error("Bad value for scroll_behavior: "+this._scrollBehavior);if(this.container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null).on("dblclick.zoom",null).on("mousewheel.escher",null).on("DOMMouseScroll.escher",null).on("wheel.escher",null).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._zoomBehavior=bT().on("start",function(i){i.sourceEvent!==null&&(i.sourceEvent.stopPropagation(),i.sourceEvent.preventDefault())}).on("zoom",function(i){n._goToCallback(i.transform.k,{x:i.transform.x,y:i.transform.y})}),this.container.call(this._zoomBehavior),this.container.on("dblclick.zoom",null),this._panDragOn||this.container.on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._scrollBehavior!=="zoom"&&this.container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null),this._scrollBehavior==="pan"){var r=function(o){var a=o.sourceEvent,s=.5;a.stopPropagation(),a.preventDefault(),a.returnValue=!1;var l=function(h,p){var g=ge.isUndefined(h)?p:-h/1.5;return g*s},u={x:n.windowTranslate.x-l(a.wheelDeltaX,a.deltaX),y:n.windowTranslate.y-l(a.wheelDeltaY,a.deltaY)};n.goTo(n.windowScale,u)};this.container.on("mousewheel.escher",r),this.container.on("DOMMouseScroll.escher",r),this.container.on("wheel.escher",r)}this.goTo(this.windowScale,this.windowTranslate)}},{key:"goTo",value:function(n,r){if(!n){console.error("Bad scale value");return}if(!r||!("x"in r)||!("y"in r)||ge.isNaN(r.x)||ge.isNaN(r.y)){console.error("Bad translate value");return}var i=zf.translate(r.x,r.y).scale(n);this.container.call(this._zoomBehavior.transform,i)}},{key:"_goToCallback",value:function(n,r){var i=this;this.windowScale!==n&&(this.windowScale=n,this.callbackManager.run("zoom_change")),this.windowTranslate=r,this._use3dTransform?(ge.isNull(this._zoomTimeout)||clearTimeout(this._zoomTimeout),this._goTo3d(n,r,this._svgScale,this._svgTranslate),this._zoomTimeout=ge.delay(function(){i._requestedFrame=!1,i._goToSvg(n,r)},100)):this._goToSvg(n,r),this.callbackManager.run("go_to")}},{key:"_goTo3dFrame",value:function(){var n=this;this._requestedFrame||(this._requestedFrame=!0,window.requestAnimationFrame(function(){n._requestedFrame=!1;var r=n._3dTransform;r?(n.css3TransformContainer.style("transform",r),n.css3TransformContainer.style("-webkit-transform",r),n.css3TransformContainer.style("transform-origin","0 0"),n.css3TransformContainer.style("-webkit-transform-origin","0 0")):console.warn("No _3dTransform defined")}))}},{key:"_goTo3d",value:function(n,r,i,o){var a=n/i,s=G.c_minus_c(r,G.c_times_scalar(o,a)),l="translate("+s.x+"px,"+s.y+"px) scale("+a+")";this._3dTransform=l,this._goTo3dFrame()}},{key:"_clear3d",value:function(){this._3dTransform&&(this._3dTransform=null,this.css3TransformContainer.style("transform",null),this.css3TransformContainer.style("-webkit-transform",null),this.css3TransformContainer.style("transform-origin",null),this.css3TransformContainer.style("-webkit-transform-origin",null))}},{key:"_goToSvgFrame",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;(!this._requestedFrame||r)&&(this._requestedFrame=!0,window.requestAnimationFrame(function(){n._requestedFrame=!1,n._clear3d();var i=n._svgScale,o=n._svgTranslate;n.zoomedSel.attr("transform","translate("+o.x+","+o.y+") scale("+i+")"),r&&r()}))}},{key:"_goToSvg",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._svgScale=n,this._svgTranslate=r,this._goToSvgFrame(i)}},{key:"zoomBy",value:function(n){var r=this.get_size(),i={x:r.width/2-((r.width/2-this.windowTranslate.x)*n+this.windowTranslate.x),y:r.height/2-((r.height/2-this.windowTranslate.y)*n+this.windowTranslate.y)};this.goTo(this.windowScale*n,G.c_plus_c(this.windowTranslate,i))}},{key:"zoom_in",value:function(){this.zoomBy(1.5)}},{key:"zoom_out",value:function(){this.zoomBy(.667)}},{key:"get_size",value:function(){var n=this.selection.node().getBoundingClientRect(),r=n.width,i=n.height;return{width:r,height:i}}},{key:"translateOffScreen",value:function(n){var r=120,i=this.get_size(),o={x:{min:-this.windowTranslate.x/this.windowScale+r/this.windowScale,max:-this.windowTranslate.x/this.windowScale+(i.width-r)/this.windowScale},y:{min:-this.windowTranslate.y/this.windowScale+r/this.windowScale,max:-this.windowTranslate.y/this.windowScale+(i.height-r)/this.windowScale}};n.x<o.x.min?(this.windowTranslate.x=this.windowTranslate.x-(n.x-o.x.min)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate)):n.x>o.x.max&&(this.windowTranslate.x=this.windowTranslate.x-(n.x-o.x.max)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate)),n.y<o.y.min?(this.windowTranslate.y=this.windowTranslate.y-(n.y-o.y.min)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate)):n.y>o.y.max&&(this.windowTranslate.y=this.windowTranslate.y-(n.y-o.y.max)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate))}}])}(),Im=G.make_class();Im.prototype={init:kT,create_reaction:ST,update_reaction:TT,create_bezier:PT,update_bezier:NT,create_node:LT,update_node:RT,create_text_label:FT,update_text_label:jT,create_membrane:MT,update_membrane:BT,create_reaction_label:DT,update_reaction_label:OT,create_segment:zT,update_segment:IT};function kT(t,e,n){this.behavior=t,this.settings=e,this.map=n,this.callback_manager=new Wi}function MT(t){var e=t.append("rect").attr("class","membrane");return this.callback_manager.run("create_membrane",this,t),e}function BT(t){t.attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).style("stroke-width",function(e){return 10}).attr("rx",function(e){return 20}).attr("ry",function(e){return 20}),this.callback_manager.run("update_membrane",this,t)}function ST(t){var e=t.append("g").attr("id",function(n){return"r"+n.reaction_id}).attr("class","reaction");return this.create_reaction_label(e),this.callback_manager.run("create_reaction",this,t),e}function TT(t,e,n,r,i,o){t.select(".reaction-label-group").call((function(a){return this.update_reaction_label(a,o)}).bind(this)),G.draw_a_nested_object(t,".segment-group","segments","segment_id",this.create_segment.bind(this),(function(a){return this.update_segment(a,e,n,r,i,o)}).bind(this),function(a){a.remove()}),this.callback_manager.run("update_reaction",this,t)}function DT(t,e){var n=t.append("g").attr("class","reaction-label-group");return n.append("text").attr("class","reaction-label label"),n.append("g").attr("class","all-genes-label-group"),this.callback_manager.run("create_reaction_label",this,t),n}function OT(t,e){Fi(".4g");var n=this.settings.get("identifiers_on_map"),r=this.settings.get("reaction_styles"),i=this.settings.get("show_gene_reaction_rules"),o=this.settings.get("hide_all_labels"),a=this.settings.get("gene_font_size"),s=e&&this.settings.get("hide_no_data_reaction"),l=this.behavior.reactionLabelMouseover,u=this.behavior.reactionLabelMouseout,c=this.behavior.reactionLabelTouch,h=this.behavior.geneLabelMouseover,p=this.behavior.geneLabelMouseout,g=this.behavior.geneLabelTouch;t.attr("transform",function(k){return"translate("+k.label_x+","+k.label_y+")"}).call(this.behavior.turnOffDrag).call(this.behavior.reactionLabelDrag);var v=t.select(".reaction-label").attr("visibility",function(k){return!k.data&&s||o?"hidden":null});o||v.text(function(k){var x=k[n];return e&&r.indexOf("text")!==-1&&(x+=" "+k.data_string),x}).on("mouseover",l).on("mouseout",u).on("touchend",c);var m=function(x,M){return x+a*1.5*(M+1)},y=t.select(".all-genes-label-group").selectAll(".gene-label-group").data(function(k){var x="gene_string"in k&&k.gene_string!==null&&i&&!o&&r.indexOf("text")!==-1,M="gene_reaction_rule"in k&&k.gene_reaction_rule!==null&&i&&!o;if(x)return console.warn("Showing gene_string. See TODO in source."),k.gene_string;if(M){var I=Lt.gene_string_for_data(k.gene_reaction_rule,null,k.genes,null,n,null);return I.forEach(function(D,N){D.label_x=k.label_x,D.label_y=m(k.label_y,N)}),I}else return[]}),A=y.enter().append("g").attr("class","gene-label-group");A.append("text").attr("class","gene-label").style("font-size",a+"px");var E=A.merge(y);E.attr("transform",function(k,x){return"translate(0, "+m(0,x)+")"}),E.select("text").text(function(k){return k.text}).on("mouseover",h).on("mouseout",p).on("touchend",g),y.exit().remove(),this.callback_manager.run("update_reaction_label",this,t)}function zT(t){var e=t.append("g").attr("class","segment-group").attr("id",function(n){return"s"+n.segment_id});return e.append("path").attr("class","segment"),e.append("g").attr("class","arrowheads"),e.append("g").attr("class","stoichiometry-labels"),this.callback_manager.run("create_segment",this,t),e}function IT(t,e,n,r,i,o){var a=this,s=null;typeof IntersectionObserver<"u"&&(s=new IntersectionObserver(function(O){G.handle_animation(O,s,a.settings,o,e)},{threshold:.1}));var l=this.settings.get("reaction_styles"),u=o&&l.indexOf("size")!==-1,c=o&&l.indexOf("color")!==-1,h=this.settings.get("reaction_no_data_size"),p=this.settings.get("reaction_no_data_color"),g=o&&this.settings.get("hide_no_data_reaction"),v=this.settings,m=this.settings.get("highlight_missing"),y=this.settings.get("hide_secondary_metabolites"),A=this.settings.get("primary_metabolite_radius"),E=this.settings.get("secondary_metabolite_radius"),k=this.behavior.reactionObjectMouseover,x=this.behavior.reactionObjectMouseout,M=function(W,F){var re=20,q=13;return F&&(q=W===null?h:e.reaction_size(W),isNaN(q)&&(q=h),re=q*2),{width:re,height:q}},I=function(W,F,re,q){var P=F||re>0?W.height:0,J=q?A:E;return J+P+10};G.update_color_legends(e.reaction_color,o),t.selectAll(".segment").datum(function(){return Object.assign({},this.parentNode.__data__,this.parentNode.parentNode.__data__)}).style("visibility",function(O){var W=r[O.from_node_id],F=r[O.to_node_id];return y&&(F.node_type==="metabolite"&&!F.node_is_primary||W.node_type==="metabolite"&&!W.node_is_primary)||!O.data&&g?"hidden":null}).attr("d",function(O){if(O.from_node_id===null||O.to_node_id===null)return null;var W=r[O.from_node_id],F=r[O.to_node_id],re=O.b1,q=O.b2;if(W.node_type==="metabolite"){var P=M(O.data,u),J=I(P,O.reversibility,O.from_node_coefficient,W.node_is_primary),Y=re===null?F:re;W=Gi(J,W,Y,"start")}if(F.node_type=="metabolite"){var P=M(O.data,u),J=I(P,O.reversibility,O.to_node_coefficient,F.node_is_primary),Y=q===null?W:q;F=Gi(J,Y,F,"end")}var Q="M"+W.x+","+W.y+" ";return re!==null&&q!==null&&(Q+="C"+re.x+","+re.y+" "+q.x+","+q.y+" "),Q+=F.x+","+F.y,Q}).style("stroke-linecap","round").style("stroke",function(O){var W=this.parentNode.parentNode.__data__.bigg_id,F=m&&n!==null&&!(W in n.reactions);if(F)return"red";if(c){var re=O.data;return re===null?p:e.reaction_color(re)}return null}).style("stroke-width",function(O){if(u){var W=O.data;return W===null?h:e.reaction_size(W)}else return null}).each(function(O,W,F){var re=F[0];typeof IntersectionObserver<"u"&&s!==null&&(G.handle_animation([{target:re}],s,v,o,e),s.observe(re))}).attr("pointer-events","visibleStroke").on("mouseover",k).on("mouseout",x);var D=t.select(".arrowheads").selectAll(".arrowhead").data(function(O){var W=[],F=r[O.from_node_id],re=O.b1,q=r[O.to_node_id],P=O.b2;if(y&&(q.node_type==="metabolite"&&!q.node_is_primary||F.node_type==="metabolite"&&!F.node_is_primary))return W;if(F.node_type==="metabolite"&&(O.reversibility||O.from_node_coefficient>0)){var J=M(O.data,u),Y=I(J,O.reversibility,O.from_node_coefficient,F.node_is_primary),Q=re===null?q:re,fe=G.to_degrees(G.get_angle([F,Q]))+90,de=Gi(Y,F,Q,"start");W.push({data:O.data,x:de.x,y:de.y,size:J,rotation:fe,show_arrowhead_flux:O.from_node_coefficient<0===O.reverse_flux||O.data===0})}if(q.node_type==="metabolite"&&(O.reversibility||O.to_node_coefficient>0)){var J=M(O.data,u),Y=I(J,O.reversibility,O.to_node_coefficient,q.node_is_primary),Q=P===null?F:P,fe=G.to_degrees(G.get_angle([q,Q]))+90,de=Gi(Y,Q,q,"end");W.push({data:O.data,x:de.x,y:de.y,size:J,rotation:fe,show_arrowhead_flux:O.to_node_coefficient<0===O.reverse_flux||O.data===0})}if(O.unconnected_segment_with_arrow){var J=M(O.data,u),Q=q,fe=G.to_degrees(G.get_angle([F,Q]))+90;W.push({data:O.data,x:F.x,y:F.y,size:J,rotation:fe,show_arrowhead_flux:O.to_node_coefficient<0===O.reverse_flux||O.data===0})}return W});D.enter().append("path").classed("arrowhead",!0).merge(D).attr("d",function(O){return"M"+[-O.size.width/2,0]+" L"+[0,O.size.height]+" L"+[O.size.width/2,0]+" Z"}).attr("transform",function(O){return"translate("+O.x+","+O.y+")rotate("+O.rotation+")"}).style("fill",function(O){if(c)if(O.show_arrowhead_flux){var W=O.data;return W===null?p:e.reaction_color(W)}else return"#FFFFFF";return null}).style("stroke",function(O){if(c){var W=O.data;return W===null?p:e.reaction_color(W)}return null}).style("visibility",function(O){return!O.data&&g?"hidden":null}),D.exit().remove();var N=t.select(".stoichiometry-labels").selectAll(".stoichiometry-label").data(function(O){var W=[],F=r[O.from_node_id],re=O.b1,q=r[O.to_node_id],P=O.b2,J=1.5;if(y&&(q.node_type=="metabolite"&&!q.node_is_primary||F.node_type=="metabolite"&&!F.node_is_primary))return W;if(F.node_type==="metabolite"&&Math.abs(O.from_node_coefficient)!=1){var Y=M(O.data,u),Q=J*I(Y,!1,0,q.node_is_primary),fe=re===null?q:re;fe=G.c_plus_c(fe,G.rotate_coords(fe,.5,F));var de=Gi(Q,F,fe,"start");de=G.c_plus_c(de,{x:0,y:7}),W.push({coefficient:Math.abs(O.from_node_coefficient),x:de.x,y:de.y,data:O.data})}if(q.node_type==="metabolite"&&Math.abs(O.to_node_coefficient)!==1){var Y=M(O.data,u),Q=J*I(Y,!1,0,q.node_is_primary),fe=P===null?F:P;fe=G.c_plus_c(fe,G.rotate_coords(fe,.5,q));var de=Gi(Q,fe,q,"end");de=G.c_plus_c(de,{x:0,y:7}),W.push({coefficient:Math.abs(O.to_node_coefficient),x:de.x,y:de.y,data:O.data})}return W});N.enter().append("text").attr("class","stoichiometry-label").attr("text-anchor","middle").merge(N).attr("transform",function(O){return"translate("+O.x+","+O.y+")"}).text(function(O){return O.coefficient}).style("fill",function(O){if(c){var W=O.data;return W===null?p:e.reaction_color(W)}return null}),N.exit().remove(),this.callback_manager.run("update_segment",this,t)}function PT(t){var e=t.append("g").attr("id",function(n){return n.bezier_id}).attr("class",function(n){return"bezier"});return e.append("path").attr("class","connect-line"),e.append("circle").attr("class",function(n){return"bezier-circle "+n.bezier}).style("stroke-width",String(1)+"px").attr("r",String(7)+"px"),this.callback_manager.run("create_bezier",this,t),e}function NT(t,e,n,r,i,o,a){var s=this.settings.get("hide_secondary_metabolites");if(e)t.attr("visibility","visible");else{t.attr("visibility","hidden");return}t.style("visibility",function(l){var u=a[l.reaction_id].segments[l.segment_id],c=o[u.from_node_id],h=o[u.to_node_id];return s&&(h.node_type==="metabolite"&&!h.node_is_primary||c.node_type==="metabolite"&&!c.node_is_primary)?"hidden":null}),t.select(".bezier-circle").call(this.behavior.turnOffDrag).call(n).on("mouseover",r).on("mouseout",i).attr("transform",function(l){return l.x===null||l.y===null?"":"translate("+l.x+","+l.y+")"}),t.select(".connect-line").attr("d",function(l){var u=a[l.reaction_id].segments[l.segment_id],c=l.bezier==="b1"?o[u.from_node_id]:o[u.to_node_id];return l.x===null||l.y===null||c.x===null||c.y===null?"":"M"+l.x+", "+l.y+" "+c.x+","+c.y}),this.callback_manager.run("update_bezier",this,t)}function LT(t,e,n){var r=t.append("g").attr("class","node").attr("id",function(o){return"n"+o.node_id});r.append("circle").attr("class",function(o){var a="node-circle";return o.node_type!==null&&(a+=" "+o.node_type+"-circle"),a});var i=r.filter(function(o){return o.node_type==="metabolite"});return i.append("text").attr("class","node-label label"),this.callback_manager.run("create_node",this,t),r}function RT(t,e,n,r,i,o,a,s,l){var u=this.settings.get("hide_secondary_metabolites"),c=this.settings.get("primary_metabolite_radius"),h=this.settings.get("secondary_metabolite_radius"),p=this.settings.get("marker_radius"),g=this.settings.get("hide_all_labels"),v=this.settings.get("identifiers_on_map"),m=this.settings.get("metabolite_styles"),y={color:this.settings.get("metabolite_no_data_color"),size:this.settings.get("metabolite_no_data_size")},A=this.map.has_data_on_reactions&&this.settings.get("hide_no_data_reaction"),E=this.map.reactions,k=this.behavior.nodeLabelMouseover,x=this.behavior.nodeLabelMouseout,M=this.behavior.nodeLabelTouch,I=this.behavior.nodeObjectMouseover,D=this.behavior.nodeObjectMouseout;t.select(".node-circle").attr("transform",function(F){return"translate("+F.x+","+F.y+")"}).style("visibility",function(F){return O(F,u)||A&&W(F,E)?"hidden":null}).attr("r",function(F){if(F.node_type==="metabolite"){var re=n&&m.indexOf("size")!==-1;if(re){var q=F.data;return q===null?y.size:e.metabolite_size(q)}else return F.node_is_primary?c:h}return p}).style("fill",function(F){if(F.node_type==="metabolite"){var re=n&&m.indexOf("color")!==-1;if(re){var q=F.data;return q===null?y.color:e.metabolite_color(q)}else return null}return null}).call(this.behavior.turnOffDrag).call(s).on("mousedown",r).on("click",i).on("mouseover",I).on("mouseout",D);var N=t.select(".node-label").attr("visibility",g?"hidden":"visible");g||N.style("visibility",function(F){return O(F,u)||A&&W(F,E)?"hidden":null}).attr("transform",function(F){return"translate("+F.label_x+","+F.label_y+")"}).text(function(F){var re=F[v];return n&&m.indexOf("text")!==-1&&(re+=" "+F.data_string),re}).call(this.behavior.turnOffDrag).call(l).on("mouseover",k).on("mouseout",x).on("touchend",M),this.callback_manager.run("update_node",this,t);function O(F,re){return F.node_type==="metabolite"&&re&&!F.node_is_primary}function W(F,re){var q=F.connected_segments.map(function(J){return J.reaction_id}),P=!0;return q.forEach(function(J){re[J].data&&(P=!1)}),P}}function FT(t){var e=t.append("g").attr("id",function(n){return"l"+n.text_label_id}).attr("class","text-label");return e.append("text").attr("class","label"),this.callback_manager.run("create_text_label",this,t),e}function jT(t){var e=this.behavior.textLabelMousedown,n=this.behavior.textLabelClick,r=this.behavior.turnOffDrag,i=this.behavior.selectableDrag;t.select(".label").text(function(o){return o.text}).attr("transform",function(o){return"translate("+o.x+","+o.y+")"}).on("mousedown",e).on("click",n).call(r).call(i),this.callback_manager.run("update_text_label",this,t)}function Gi(t,e,n,r){var i=t,o=G.distance(e,n);if(!i||!o)return console.warn("No space for displacement"),{x:e.x,y:e.y};if(r==="start")return{x:e.x+i*(n.x-e.x)/o,y:e.y+i*(n.y-e.y)/o};if(r==="end")return{x:n.x-i*(n.x-e.x)/o,y:n.y-i*(n.y-e.y)/o};console.error("bad displace value: "+r)}const UT=Im;function _l(t,e){return GT(t)||VT(t,e)||YT(t,e)||WT()}function WT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YT(t,e){if(t){if(typeof t=="string")return Pm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pm(t,e):void 0}}function Pm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function VT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function GT(t){if(Array.isArray(t))return t}function HT(t){if(Math.abs(t)>Math.PI)throw new Error("Angle must be between -PI and PI");return Math.abs(t)<Math.PI/7||Math.abs(t-Math.PI)<Math.PI/7?{x:-50,y:-40}:t>0?{x:15*(1-Math.abs(t-Math.PI/2)/(Math.PI/2)),y:10+(t-Math.PI/2)*50}:{x:15*(1-Math.abs(t+Math.PI/2)/(Math.PI/2)),y:10-(Math.abs(t)-Math.PI/2)*50}}function Nm(t,e,n,r,i,o){var a=G.angleNorm(t),s=i.length*18,l=e-(e>o)-n/2>=-1;return Math.abs(a)<Math.PI/7?r||l?{x:-s*.3,y:40}:{x:-s*.3,y:-20}:Math.abs(a-Math.PI)<Math.PI/7?r||!l?{x:-s*.3,y:40}:{x:-s*.3,y:-20}:r?{x:25-38*Math.abs(Math.abs(a)-Math.PI/2),y:(Math.abs(a)-Math.PI/2)*((a>0)*2-1)*50}:a<0&&l||a>0&&!l?{x:15,y:0}:{x:-s*.5,y:30}}function QT(t,e,n,r,i,o,a,s){var l=G.to_radians_norm(s),u=String(++o.reactions),c={x:i.x,y:i.y},h=350,p=[c,G.c_plus_c(c,{x:h,y:0})],g={x:(p[0].x+p[1].x)/2,y:(p[0].y+p[1].y)/2},v=HT(l),m=20,y={name:e.name,bigg_id:e.bigg_id,reversibility:e.reversibility,gene_reaction_rule:e.gene_reaction_rule,genes:G.clone(e.genes),metabolites:G.clone(e.metabolites)};G.extend(y,{label_x:g.x+v.x,label_y:g.y+v.y,segments:{}});var A=[],E=[],k=0,x=0,M=!1;for(var I in y.metabolites){var D=n[I],N=y.metabolites[I],O=D.formula,W={coefficient:N,bigg_id:I,name:D.name};if(N<0){W.index=k;var F=/C([0-9]+)/.exec(O);i.bigg_id===W.bigg_id?A.push([W.index,1/0]):F&&a.indexOf(G.decompartmentalize(W.bigg_id)[0])===-1&&A.push([W.index,parseInt(F[1])]),k++}else{W.index=x;var re=/C([0-9]+)/.exec(O);i.bigg_id===W.bigg_id?(E.push([W.index,1/0]),M=!0):re&&a.indexOf(G.decompartmentalize(W.bigg_id)[0])===-1&&E.push([W.index,parseInt(re[1])]),x++}y.metabolites[I]=W}var q=function(Er,$r){return $r[1]>Er[1]?$r:Er},P=A.reduce(q,[0,0])[0],J=E.reduce(q,[0,0])[0];for(var Y in y.metabolites){var Q=y.metabolites[Y];Q.coefficient<0?(Q.is_primary=Q.index===P,Q.count=k):(Q.is_primary=Q.index===J,Q.count=x)}var fe={},de=[{node_type:"anchor_reactants",dis:{x:m*(M?1:-1),y:0}},{node_type:"center",dis:{x:0,y:0}},{node_type:"anchor_products",dis:{x:m*(M?-1:1),y:0}}],ve={};de.map(function(Xt){var Er=String(++o.nodes),$r=Xt.node_type==="center"?"midmarker":"multimarker";fe[Er]={node_type:$r,x:g.x+Xt.dis.x,y:g.y+Xt.dis.y,connected_segments:[],name:null,bigg_id:null,label_x:null,label_y:null,node_is_primary:null,data:null},ve[Xt.node_type]=Er});var ke=[[ve.anchor_reactants,ve.center,"reactants"],[ve.anchor_products,ve.center,"products"]];ke.map(function(Xt){var Er=Xt[2]==="products"?Xt[0]:Xt[1],$r=Xt[2]==="products"?Xt[1]:Xt[0],ch=String(++o.segments),LI=k===0&&Xt[2]==="reactants"&&y.reversibility||x===0&&Xt[2]==="products";y.segments[ch]={b1:null,b2:null,from_node_id:Er,to_node_id:$r,from_node_coefficient:null,to_node_coefficient:null,reversibility:y.reversibility,data:y.data,reverse_flux:y.reverse_flux,unconnected_segment_with_arrow:LI},fe[Er].connected_segments.push({segment_id:ch,reaction_id:u}),fe[$r].connected_segments.push({segment_id:ch,reaction_id:u})});var Ae=fe;for(var Ze in y.metabolites){var Me=y.metabolites[Ze],qe=void 0,ot=void 0;Me.coefficient<0?(qe=P,ot=ve.anchor_reactants):(qe=J,ot=ve.anchor_products);var Ge=XT(Me,qe,p,g,h,M);if(i.bigg_id===Me.bigg_id){var mt=String(++o.segments),wr=Me.coefficient>0?[ot,r]:[r,ot],xr=_l(wr,2),Yl=xr[0],Vl=xr[1],rr=Me.coefficient>0?[null,Me.coefficient]:[Me.coefficient,null],Va=_l(rr,2),lh=Va[0],uh=Va[1];y.segments[mt]={b1:Ge.b1,b2:Ge.b2,from_node_id:Yl,to_node_id:Vl,from_node_coefficient:lh,to_node_coefficient:uh,reversibility:y.reversibility},i.connected_segments.push({segment_id:mt,reaction_id:u}),Ae[ot].connected_segments.push({segment_id:mt,reaction_id:u})}else{var Fe=String(++o.segments),ht=String(++o.nodes),Jr=Me.coefficient>0?[ot,ht]:[ht,ot],An=_l(Jr,2),OI=An[0],zI=An[1],II=Me.coefficient>0?[null,Me.coefficient]:[Me.coefficient,null],Iv=_l(II,2),PI=Iv[0],NI=Iv[1];y.segments[Fe]={b1:Ge.b1,b2:Ge.b2,from_node_id:OI,to_node_id:zI,from_node_coefficient:PI,to_node_coefficient:NI,reversibility:y.reversibility};var Pv=Nm(l,Me.index,Me.count,Me.is_primary,Me.bigg_id,qe);Ae[ht]={connected_segments:[{segment_id:Fe,reaction_id:u}],x:Ge.circle.x,y:Ge.circle.y,node_is_primary:Me.is_primary,label_x:Ge.circle.x+Pv.x,label_y:Ge.circle.y+Pv.y,name:Me.name,bigg_id:Me.bigg_id,node_type:"metabolite"},Ae[ot].connected_segments.push({segment_id:Fe,reaction_id:u})}}var Nv=[];for(var Lv in y.metabolites)Nv.push({bigg_id:Lv,coefficient:y.metabolites[Lv].coefficient});y.metabolites=Nv;var Gl={};Gl[u]=y;var Rv=Fm(Gl);return Ae[r]=i,gl(Ae,Gl,Rv,l,c),{new_reactions:Gl,new_beziers:Rv,new_nodes:Ae}}function gl(t,e,n,r,i){var o=function(h){return h===null?null:G.rotate_coords(h,r,i)},a=[],s=[],l=function(h){var p=t[h],g=o({x:p.x,y:p.y}),v=Lm(p,e,g);p.connected_segments.map(function(m){var y=e[m.reaction_id];if(y!==void 0){var A=m.segment_id,E=y.segments[A];if(E.to_node_id===h&&E.b2){var k=o(E.b2),x=Ar(A,"b2");E.b2=G.c_plus_c(E.b2,k),n[x].x=E.b2.x,n[x].y=E.b2.y}else if(E.from_node_id===h&&E.b1){var M=o(E.b1),I=Ar(A,"b1");E.b1=G.c_plus_c(E.b1,M),n[I].x=E.b1.x,n[I].y=E.b1.y}}}),s=G.uniqueConcat([s,v.reaction_ids]),a.push(h)};for(var u in t)l(u);return{node_ids:a,reaction_ids:s}}function Hi(t,e,n,r,i){var o=Lm(t,n,i);return t.connected_segments.map(function(a){var s=n[a.reaction_id];if(!ge.isUndefined(s)){var l=a.segment_id,u=s.segments[l],c=[["b1","from_node_id"],["b2","to_node_id"]];c.forEach(function(h){var p=h[0],g=h[1];if(u[g]===e&&u[p]){u[p]=G.c_plus_c(u[p],i);var v=r[Ar(l,p)];v.x=u[p].x,v.y=u[p].y}}),o.reaction_ids.indexOf(a.reaction_id)<0&&o.reaction_ids.push(a.reaction_id)}}),o}function Lm(t,e,n){t.x=t.x+n.x,t.y=t.y+n.y,t.label_x=t.label_x+n.x,t.label_y=t.label_y+n.y;var r=[];return t.connected_segments.map(function(i){var o=e[i.reaction_id];r.indexOf(i.reaction_id)<0&&(r.push(i.reaction_id),t.node_type==="midmarker"&&(o.label_x=o.label_x+n.x,o.label_y=o.label_y+n.y))}),{reaction_ids:r}}function ml(t,e,n){var r=Math.floor(n/2);return t*(e-r+(e>=r))}function vl(t,e,n,r){var i=Math.floor(r/2);return e+Math.abs(n-i+(n>=i))*t}function XT(t,e,n,r,i,o){var a=n[0];n=[G.c_minus_c(n[0],a),G.c_minus_c(n[1],a)],r=G.c_minus_c(r,a);var s=80,l=.4,u=.25,c=s*.3,h=50,p=20,g=t.count-1,v,m;t.is_primary?v=20:(v=10,t.index>e?m=t.index-1:m=t.index);var y=i-v,A=[{x:v,y:0},{x:y,y:0}],E,k,x,M;return t.coefficient<0!==o&&t.is_primary?(E={x:A[0].x,y:A[0].y},x={x:r.x*(1-l)+A[0].x*l,y:r.y*(1-l)+A[0].y*l},M={x:r.x*u+E.x*(1-u),y:r.y*u+E.y*(1-u)},k={x:n[0].x,y:n[0].y}):t.coefficient<0!==o?(E={x:A[0].x+vl(p,h,m,g),y:A[0].y+ml(c,m,g)},x={x:r.x*(1-l)+A[0].x*l,y:r.y*(1-l)+A[0].y*l},M={x:r.x*u+E.x*(1-u),y:r.y*u+E.y*(1-u)},k={x:n[0].x+vl(p,h,m,g),y:n[0].y+ml(s,m,g)}):t.coefficient>0!==o&&t.is_primary?(E={x:A[1].x,y:A[1].y},x={x:r.x*(1-l)+A[1].x*l,y:r.y*(1-l)+A[1].y*l},M={x:r.x*u+E.x*(1-u),y:r.y*u+E.y*(1-u)},k={x:n[1].x,y:n[1].y}):t.coefficient>0!==o&&(E={x:A[1].x-vl(p,h,m,g),y:A[1].y+ml(c,m,g)},x={x:r.x*(1-l)+A[1].x*l,y:r.y*(1-l)+A[1].y*l},M={x:r.x*u+E.x*(1-u),y:r.y*u+E.y*(1-u)},k={x:n[1].x-vl(p,h,m,g),y:n[1].y+ml(s,m,g)}),{b1:G.c_plus_c(a,x),b2:G.c_plus_c(a,M),circle:G.c_plus_c(a,k)}}function ZT(t,e,n){var r=String(++t.text_labels),i={text:e,x:n.x,y:n.y};return{id:r,label:i}}function Ar(t,e){return t+"_"+e}function qT(t){var e=[];for(var n in t){var r=t[n],i=function(s){var l=r.segments[s],u=["b1","b2"];u.forEach(function(c){var h=l[c];h!==null&&e.push(Ar(s,c))})};for(var o in r.segments)i(o)}return e}function Rm(t,e){var n={},r=function(a){var s=t[a];["b1","b2"].forEach(function(l){var u=s[l];if(u!==null){var c=Ar(a,l);n[c]={bezier:l,x:u.x,y:u.y,reaction_id:e,segment_id:a}}})};for(var i in t)r(i);return n}function Fm(t){var e={};for(var n in t){var r=t[n],i=Rm(r.segments,n);G.extend(e,i)}return e}function ka(t){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(t)}function Ma(t,e){return e2(t)||$T(t,e)||JT(t,e)||KT()}function KT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JT(t,e){if(t){if(typeof t=="string")return jm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jm(t,e):void 0}}function jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $T(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function e2(t){if(Array.isArray(t))return t}function t2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i2(r.key),r)}}function r2(t,e,n){return e&&n2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i2(t){var e=o2(t,"string");return ka(e)=="symbol"?e:e+""}function o2(t,e){if(ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Um=function(){function t(e,n){t2(this,t),this.map=e,this.undoStack=n,this.emptyBehavior=function(){},this.rotationModeEnabled=!1,this.rotationDrag=vn(),this.selectableMousedown=null,this.textLabelMousedown=null,this.textLabelClick=null,this.selectableDrag=this.emptyBehavior,this.nodeLabelMouseover=null,this.nodeLabelTouch=null,this.nodeLabelMouseout=null,this.reactionLabelMouseover=null,this.reactionLabelTouch=null,this.reactionLabelMouseout=null,this.geneLabelMouseover=null,this.geneLabelTouch=null,this.geneLabelMouseout=null,this.nodeObjectMouseover=null,this.nodeObjectMouseout=null,this.reactionObjectMouseover=null,this.reactionObjectMouseout=null,this.bezierDrag=this.emptyBehavior,this.bezierMouseover=null,this.bezierMouseout=null,this.reactionLabelDrag=this.emptyBehavior,this.nodeLabelDrag=this.emptyBehavior,this.dragging=!1}return r2(t,[{key:"averageLocation",value:function(n){var r=[],i=[];for(var o in n){var a=n[o];a.x!==void 0&&r.push(a.x),a.y!==void 0&&i.push(a.y)}return{x:G.mean(r),y:G.mean(i)}}},{key:"showCenter",value:function(){var n=this,r=this.map.sel.selectAll("#rotation-center").data([0]),i=r.enter().append("g").attr("id","rotation-center");i.append("path").attr("d","M-32 0 L32 0").attr("class","rotation-center-line"),i.append("path").attr("d","M0 -32 L0 32").attr("class","rotation-center-line");var o=i.merge(r),a,s;o.attr("transform","translate("+this.center.x+","+this.center.y+")").attr("visibility","visible").on("mouseover",function(){var l=parseFloat(o.selectAll("path").style("stroke-width"));o.selectAll("path").style("stroke-width",l*2+"px")}).on("mouseout",function(){o.selectAll("path").style("stroke-width",null)}).call(vn().on("start",function(l){a=l.x,s=l.y}).on("drag",function(l){var u=G.d3_transform_catch(o.attr("transform")),c=l.x-a;a=l.x;var h=l.y-s;s=l.y;var p=[c+u.translate[0],h+u.translate[1]];o.attr("transform","translate("+p+")"),n.center={x:p[0],y:p[1]}}))}},{key:"hideCenter",value:function(){this.map.sel.select("#rotation-center").attr("visibility","hidden")}},{key:"toggleRotationMode",value:function(n){var r=this;n===void 0?this.rotationModeEnabled=!this.rotationModeEnabled:this.rotationModeEnabled=n;var i=this.map.sel.selectAll(".node-circle"),o=this.map.sel.selectAll("#canvas");if(this.rotationModeEnabled){var a=this.map.getSelectedNodes();if(Object.keys(a).length===0){console.warn("No selected nodes");return}this.center=this.averageLocation(a),this.showCenter();var s=this.map,l=Object.keys(a),u=this.map.reactions,c=this.map.nodes,h=this.map.beziers,p=function(k,x){k.sourceEvent.stopPropagation()},g=function(k,x,M,I,D){var N=gl(a,u,h,M,D);s.draw_these_nodes(N.node_ids),s.draw_these_reactions(N.reaction_ids)},v=function(){},m=function(k,x,M,I){var D={};l.forEach(function(O){D[O]=c[O]});var N=gl(D,u,h,-M,I);s.draw_these_nodes(N.node_ids),s.draw_these_reactions(N.reaction_ids)},y=function(k,x,M,I){var D={};l.forEach(function(O){D[O]=c[O]});var N=gl(D,u,h,M,I);s.draw_these_nodes(N.node_ids),s.draw_these_reactions(N.reaction_ids)},A=function(){return r.center};this.rotationDrag=this.getGenericAngularDrag(p,g,v,m,y,A,this.map.sel),o.call(this.rotationDrag),this.selectableDrag=this.rotationDrag}else this.hideCenter(),i.on("mousedown.center",null),o.on("mousedown.center",null),o.on("mousedown.drag",null),o.on("touchstart.drag",null),this.rotationDrag=null,this.selectableDrag=null}},{key:"toggleSelectableClick",value:function(n){if(n===void 0&&(n=this.selectableMousedown===null),n){var r=this.map;this.selectableMousedown=function(i){i.stopPropagation()},this.selectableClick=function(i,o){i.stopPropagation(),!i.defaultPrevented&&r.select_selectable(this,o,i.shiftKey)},this.nodeMouseover=function(i){ze(this).style("stroke-width",null);var o=parseFloat(ze(this).style("stroke-width"));ze(this.parentNode).classed("selected")||ze(this).style("stroke-width",o*3+"px")},this.nodeMouseout=function(i){ze(this).style("stroke-width",null)}}else this.selectableMousedown=null,this.selectableClick=null,this.nodeMouseover=null,this.nodeMouseout=null,this.map.sel.select("#nodes").selectAll(".node-circle").style("stroke-width",null)}},{key:"toggleTextLabelEdit",value:function(n){if(n===void 0&&(n=this.textEditMousedown==null),n){var r=this.map;this.textLabelMousedown=function(i){if(!i.defaultPrevented){var o=G.d3_transform_catch(ze(this).attr("transform")).translate,a={x:o[0],y:o[1]};r.callback_manager.run("edit_text_label",null,ze(this),a),i.stopPropagation()}},this.textLabelClick=null,this.map.sel.select("#text-labels").selectAll(".label").style("cursor","text"),this.map.sel.on("mousedown.new_text_label",(function(i,o){o.preventDefault();var a=xt(o,i),s=Ma(a,2),l=s[0],u=s[1],c={x:l,y:u};this.map.callback_manager.run("new_text_label",null,c)}).bind(this,this.map.sel.node()))}else this.textLabelMousedown=this.selectableMousedown,this.textLabelClick=this.selectableClick,this.map.sel.select("#text-labels").selectAll(".label").style("cursor",null),this.map.sel.on("mousedown.new_text_label",null),this.map.callback_manager.run("hide_text_label_editor")}},{key:"toggleSelectableDrag",value:function(n){n===void 0&&(n=this.selectableDrag===this.emptyBehavior),n?(this.selectableDrag=this.getSelectableDrag(this.map,this.undoStack),this.bezierDrag=this.getBezierDrag(this.map,this.undoStack)):(this.selectableDrag=this.emptyBehavior,this.bezierDrag=this.emptyBehavior)}},{key:"toggleLabelDrag",value:function(n){n===void 0&&(n=this.labelDrag===this.emptyBehavior),n?(this.reactionLabelDrag=this.getReactionLabelDrag(this.map),this.nodeLabelDrag=this.getNodeLabelDrag(this.map)):(this.reactionLabelDrag=this.emptyBehavior,this.nodeLabelDrag=this.emptyBehavior)}},{key:"toggleLabelMouseover",value:function(n){var r=this;if(n===void 0&&(n=this.nodeLabelMouseover===null),n){var i=function(s){return function(l,u){r.dragging||r.map.callback_manager.run("show_tooltip",null,s,u)}},o=function(){r.map.callback_manager.run("delay_hide_tooltip")};this.nodeLabelMouseover=i("node_label"),this.nodeLabelTouch=i("node_label"),this.nodeLabelMouseout=o,this.reactionLabelMouseover=i("reaction_label"),this.reactionLabelTouch=i("reaction_label"),this.reactionLabelMouseout=o,this.geneLabelMouseover=i("gene_label"),this.geneLabelTouch=i("gene_label"),this.geneLabelMouseout=o}else this.nodeLabelMouseover=null,this.nodeLabelTouch=null,this.nodeLabelMouseout=null,this.reactionLabelMouseover=null,this.reactionLabelTouch=null,this.reactionLabelMouseout=null,this.geneLabelMouseover=null,this.geneLabelTouch=null,this.geneLabelMouseout=null}},{key:"toggleObjectMouseover",value:function(n){var r=this;if(n===void 0&&(n=this.nodeObjectMouseover===null),n){var i=function(s){var l=r;return function(u,c){if(!l.dragging){var h=xt(u,c),p=Ma(h,2),g=p[0],v=p[1];if(s==="reaction_object"){var m=Object.assign({},c,{xPos:g,yPos:v});l.map.callback_manager.run("show_tooltip",null,s,m)}else l.map.callback_manager.run("show_tooltip",null,s,c)}}},o=function(){r.map.callback_manager.run("delay_hide_tooltip")};this.nodeObjectMouseover=i("node_object"),this.nodeObjectMouseout=o,this.reactionObjectMouseover=i("reaction_object"),this.reactionObjectMouseout=o}else this.nodeObjectMouseover=null,this.nodeObjectMouseout=null,this.reactionObjectMouseover=null,this.reactionObjectMouseout=null}},{key:"toggleObjectTouch",value:function(n){var r=this;n===void 0&&(n=this.labelTouch===null),n?this.objectTouch=function(i,o){r.dragging||r.map.callback_manager.run("show_tooltip",null,i,o)}:this.objectTouch=null}},{key:"toggleBezierDrag",value:function(n){n===void 0&&(n=this.bezierDrag===this.emptyBehavior),n?(this.bezierDrag=this.getBezierDrag(this.map),this.bezierMouseover=function(r){ze(this).style("stroke-width","3px")},this.bezierMouseout=function(r){ze(this).style("stroke-width","1px")}):(this.bezierDrag=this.emptyBehavior,this.bezierMouseover=null,this.bezierMouseout=null)}},{key:"turnOffDrag",value:function(n){n.on("mousedown.drag",null),n.on("touchstart.drag",null)}},{key:"combineNodesAndDraw",value:function(n,r){var i=this.map,o=i.nodes[r],a=i.nodes[n],s=[];return o.connected_segments.forEach(function(l){var u=null;try{if(u=i.reactions[l.reaction_id].segments[l.segment_id],u===void 0)throw new Error("undefined segment")}catch{console.warn("Could not find connected segment "+l.segment_id);return}if(u.from_node_id===r)u.from_node_id=n;else if(u.to_node_id===r)u.to_node_id=n;else{console.error("Segment does not connect to dragged node");return}a.connected_segments.push(l),s.push(G.clone(l))}),i.delete_node_data([r]),i.sel.selectAll(".node-to-combine").classed("node-to-combine",!1),i.draw_everything(),s}},{key:"getSelectableDrag",value:function(n,r){var i=this,o=vn(),a=null,s=null,l=null,u=null,c=null,h=function(A,E){var k=n.text_labels[A];k.x=k.x+E.x,k.y=k.y+E.y},p=function(A){i.dragging=A};o.on("start",function(y){if(p(!0),y.sourceEvent.stopPropagation(),s={x:0,y:0},ze(this).attr("class").indexOf("label")===-1){var A=this.parentNode.__data__,E=A.bigg_id,k=this.parentNode;a=setTimeout(function(){k.parentNode.insertBefore(k,k.parentNode.firstChild)},200),n.sel.selectAll(".metabolite-circle").on("mouseover.combine",function(x,M){M.bigg_id===E&&M.node_id!==A.node_id&&ze(this).classed("node-to-combine",!0)}).on("mouseout.combine",function(x,M){M.bigg_id===E&&n.sel.selectAll(".node-to-combine").classed("node-to-combine",!1)})}});var g,v;o.on("start",function(y){g=y.x,v=y.y}).on("drag",function(y,A){ze(this.parentNode).classed("selected")||n.select_selectable(this,A);var E={};ze(this).attr("class").indexOf("label")===-1?(E.type="node",E.id=this.parentNode.__data__.node_id):(E.type="label",E.id=this.__data__.text_label_id);var k=n.get_selected_node_ids(),x=n.get_selected_text_label_ids();l=[],c=[],E.type==="node"&&k.indexOf(E.id)===-1?l.push(E.id):E.type==="label"&&x.indexOf(E.id)===-1?c.push(E.id):(l=k,c=x),u=[];var M=y.x-g;g=y.x;var I=y.y-v;v=y.y;var D={x:M,y:I};s=G.c_plus_c(s,D),l.forEach(function(N){var O=n.nodes[N],W=Hi(O,N,n.reactions,n.beziers,D);u=G.uniqueConcat([u,W.reaction_ids])}),c.forEach(function(N){h(N,D)}),n.draw_these_nodes(l),n.draw_these_reactions(u),n.draw_these_text_labels(c)});var m=this.combineNodesAndDraw.bind(this);return o.on("end",function(){if(p(!1),l===null){s=null,l=null,c=null,u=null,a=null;return}var y=[];if(n.sel.selectAll(".node-to-combine").each(function(W){y.push(W.node_id)}),y.length===1){var A=y[0],E=this.parentNode.__data__.node_id,k=G.clone(n.nodes[E]),x=m(A,E),M=G.clone(s);r.push(function(){n.nodes[E]=k;var W=n.nodes[A],F=[];x.forEach(function(re){var q=n.reactions[re.reaction_id].segments[re.segment_id];q.from_node_id===A?q.from_node_id=E:q.to_node_id===A?q.to_node_id=E:console.error("Segment does not connect to fixed node"),W.connected_segments=W.connected_segments.filter(function(P){return!(P.reaction_id===re.reaction_id&&P.segment_id===re.segment_id)}),F.indexOf(re.reaction_id)===-1&&F.push(re.reaction_id)}),Hi(k,E,n.reactions,n.beziers,G.c_times_scalar(M,-1)),n.draw_these_nodes([E]),n.draw_these_reactions(F)},function(){Hi(k,E,n.reactions,n.beziers,G.c_times_scalar(M,1)),m(A,E)})}else{var I=G.clone(s),D=G.clone(l),N=G.clone(c),O=G.clone(u);r.push(function(){D.forEach(function(W){var F=n.nodes[W];Hi(F,W,n.reactions,n.beziers,G.c_times_scalar(I,-1))}),N.forEach(function(W){h(W,G.c_times_scalar(I,-1))}),n.draw_these_nodes(D),n.draw_these_reactions(O),n.draw_these_text_labels(N)},function(){D.forEach(function(W){var F=n.nodes[W];Hi(F,W,n.reactions,n.beziers,I)}),N.forEach(function(W){h(W,I)}),n.draw_these_nodes(D),n.draw_these_reactions(O),n.draw_these_text_labels(N)})}n.sel.selectAll(".metabolite-circle").on("mouseover.combine",null).on("mouseout.combine",null),clearTimeout(a),s=null,l=null,c=null,u=null,a=null}),o}},{key:"getBezierDrag",value:function(n){var r=function(c,h,p,g,v){var m=n.reactions[c].segments[h];m[p]=G.c_plus_c(m[p],v),n.beziers[g].x=m[p].x,n.beziers[g].y=m[p].y},i=function(c){c.dragging=!0},o=function(c,h,p){r(c.reaction_id,c.segment_id,c.bezier,c.bezier_id,h),n.draw_these_reactions([c.reaction_id],!1),n.draw_these_beziers([c.bezier_id])},a=function(c){c.dragging=!1},s=function(c,h){r(c.reaction_id,c.segment_id,c.bezier,c.bezier_id,G.c_times_scalar(h,-1)),n.draw_these_reactions([c.reaction_id],!1),n.draw_these_beziers([c.bezier_id])},l=function(c,h){r(c.reaction_id,c.segment_id,c.bezier,c.bezier_id,h),n.draw_these_reactions([c.reaction_id],!1),n.draw_these_beziers([c.bezier_id])};return this.getGenericDrag(i,o,a,s,l,this.map.sel)}},{key:"getReactionLabelDrag",value:function(n){var r=function(c,h){var p=n.reactions[c];p.label_x=p.label_x+h.x,p.label_y=p.label_y+h.y},i=function(c){n.callback_manager.run("hide_tooltip")},o=function(c,h,p){r(c.reaction_id,h),n.draw_these_reactions([c.reaction_id])},a=function(){},s=function(c,h){r(c.reaction_id,G.c_times_scalar(h,-1)),n.draw_these_reactions([c.reaction_id])},l=function(c,h){r(c.reaction_id,h),n.draw_these_reactions([c.reaction_id])};return this.getGenericDrag(i,o,a,s,l,this.map.sel)}},{key:"getNodeLabelDrag",value:function(n){var r=function(c,h){var p=n.nodes[c];p.label_x=p.label_x+h.x,p.label_y=p.label_y+h.y},i=function(c){n.callback_manager.run("hide_tooltip")},o=function(c,h,p){r(c.node_id,h),n.draw_these_nodes([c.node_id])},a=function(){},s=function(c,h){r(c.node_id,G.c_times_scalar(h,-1)),n.draw_these_nodes([c.node_id])},l=function(c,h){r(c.node_id,h),n.draw_these_nodes([c.node_id])};return this.getGenericDrag(i,o,a,s,l,this.map.sel)}},{key:"getGenericDrag",value:function(n,r,i,o,a,s){var l=this,u=vn(),c=this.undoStack;s.node();var h,p,g;return u.on("start",function(v,m){l.dragging=!0,v.sourceEvent.stopPropagation(),h={x:0,y:0},n(m),p=v.x,g=v.y}),u.on("drag",function(v,m){var y=v.x-p;p=v.x;var A=v.y-g;g=v.y;var E={x:y,y:A},k=xt(v,m),x=Ma(k,2),M=x[0],I=x[1],D={x:M,y:I};h=G.c_plus_c(h,E),r(m,E,h,D)}),u.on("end",function(v,m){l.dragging=!1;var y=xt(v,m),A=Ma(y,2),E=A[0],k=A[1],x=G.clone(m),M=G.clone(h),I={x:E,y:k};c.push(function(){o(x,M,I)},function(){a(x,M,I)}),i()}),u}},{key:"getGenericAngularDrag",value:function(n,r,i,o,a,s,l){var u=this,c=vn(),h=this.undoStack,p=l.node(),g,v,m;return c.on("start",function(y,A){u.dragging=!0,y.sourceEvent.stopPropagation(),g=0,n(y,A),v=y.x,m=y.y}),c.on("drag",function(y,A){var E=y.x-v;v=y.x;var k=y.y-m;m=y.y;var x={x:E,y:k},M=xt(y,p),I=Ma(M,2),D=I[0],N=I[1],O={x:D,y:N},W=s(),F=G.angle_for_event(x,O,W);g=g+F,r(y,A,F,g,W)}),c.on("end",function(y,A){u.dragging=!1;var E=G.clone(A),k=g,x=G.clone(s());h.push(function(){return o(y,E,k,x)},function(){return a(y,E,k,x)}),i()}),c}}])}(),a2={GaBuGeRd:[{type:"min",color:"#c8c8c8",size:12,duration:4},{type:"value",value:.01,color:"#9696ff",size:16,duration:3},{type:"value",value:20,color:"#209123",size:20,duration:2},{type:"max",color:"#ff0000",size:25,duration:1}],GaBuRd:[{type:"min",color:"#c8c8c8",size:12,duration:3},{type:"median",color:"#9696ff",size:20,duration:2},{type:"max",color:"#ff0000",size:25,duration:1}],RdYlBu:[{type:"min",color:"#d7191c",size:12,duration:3},{type:"median",color:"#ffffbf",size:20,duration:2},{type:"max",color:"#2c7bb6",size:25,duration:1}],GeGaRd:[{type:"min",color:"#209123",size:25,duration:1},{type:"value",value:0,color:"#c8c8c8",size:12,duration:3},{type:"max",color:"#ff0000",size:25,duration:1}],WhYlRd:[{type:"min",color:"#fffaf0",size:20,duration:4},{type:"median",color:"#f1c470",size:30,duration:3},{type:"max",color:"#800000",size:40,duration:2}]};const Qi=a2;function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function s2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c2(r.key),r)}}function u2(t,e,n){return e&&l2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c2(t){var e=f2(t,"string");return Ba(e)=="symbol"?e:e+""}function f2(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h2=function(){function t(){s2(this,t),this.x=sn(),this.y=sn(),this.x_size=sn(),this.y_size=sn(),this.size=sn(),this.reaction_color=sn().clamp(!0),this.reaction_size=sn().clamp(!0),this.reaction_animation_duration=sn().clamp(!0),this.metabolite_color=sn().clamp(!0),this.metabolite_size=sn().clamp(!0)}return u2(t,[{key:"connectToSettings",value:function(n,r,i){var o=this,a=["reaction","metabolite"];a.forEach(function(s){var l="".concat(s,"_scale"),u="".concat(s,"_scale_preset"),c=n.get(u),h=n.get(l);c&&h&&h!==Qi[c]?(console.warn("Both ".concat(l," and ").concat(u," are defined. Ignoring ").concat(u,". Set ").concat(u,' to "false" to hide this warning.')),n.set(u,null)):c?n.set(l,Qi[c]):h||console.error("Must provide a ".concat(l," or ").concat(u)),n.get(l)&&n.get(l).length<2?console.error("Bad value for option ".concat(l,". Scales must have at least 2 points.")):o.setScale(s,l,i),n.streams[l].onValue(function(p){p&&p!==Qi[n.get(u)]&&n.set(u,null),o.setScale(s,p,i)}),n.streams[u].onValue(function(p){p&&n.set(l,Qi[p])}),r.callback_manager.set("calc_data_stats__".concat(s),function(p){p&&o.setScale(s,n.get("".concat(s,"_scale")),i)})})}},{key:"sortScale",value:function(n,r){var i=n.map(function(o){var a;if(o.type in r)a=r[o.type];else if(o.type==="value")a=o.value;else throw new Error("Bad domain type "+o.type);return{v:a,color:o.color,size:o.size,duration:o.duration}}).sort(function(o,a){return o.v-a.v});return{domain:i.map(function(o){return o.v}),color_range:i.map(function(o){return o.color}),size_range:i.map(function(o){return o.size}),duration_range:i.map(function(o){return o.duration})}}},{key:"setScale",value:function(n,r,i){n==="reaction"?this.setReactionScale(r,i):this.setMetaboliteScale(r,i)}},{key:"setReactionScale",value:function(n,r){var i=r().reaction;if(i!==null){var o=this.sortScale(n,i);this.reaction_color.domain(o.domain),this.reaction_size.domain(o.domain),this.reaction_animation_duration.domain(o.domain),this.reaction_color.range(o.color_range),this.reaction_size.range(o.size_range),this.reaction_animation_duration.range(o.duration_range)}}},{key:"setMetaboliteScale",value:function(n,r){var i=r().metabolite;if(i!==null){var o=this.sortScale(n,i);this.metabolite_color.domain(o.domain),this.metabolite_size.domain(o.domain),this.metabolite_color.range(o.color_range),this.metabolite_size.range(o.size_range)}}}])}();function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function d2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function _2(t,e,n){return e&&p2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g2(t){var e=m2(t,"string");return Sa(e)=="symbol"?e:e+""}function m2(t,e){if(Sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pf(t,e){return t+1>e-1?0:t+1}function v2(t,e){return t-1<0?e-1:t-1}var Wm=function(){function t(){d2(this,t);var e=40;this.stack=Array(e),this.current=-1,this.oldest=-1,this.newest=-1,this.endOfStack=!0,this.topOfStack=!0}return _2(t,[{key:"push",value:function(n,r){return this.current=Pf(this.current,this.stack.length),this.endOfStack?this.oldest=this.current:this.oldest===this.current&&(this.oldest=Pf(this.oldest,this.stack.length)),this.stack[this.current]={undo:n,redo:r},this.newest=this.current,this.topOfStack=!0,this.endOfStack=!1,{do:function(){return r()}}}},{key:"undo",value:function(){if(this.endOfStack)return console.warn("End of stack.");this.stack[this.current].undo(),this.current===this.oldest?this.endOfStack=!0:this.current=v2(this.current,this.stack.length),this.topOfStack=!1}},{key:"redo",value:function(){if(this.topOfStack)return console.warn("Top of stack.");this.endOfStack||(this.current=Pf(this.current,this.stack.length)),this.stack[this.current].redo(),this.current===this.newest&&(this.topOfStack=!0),this.endOfStack=!1}}])}();function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}function y2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w2(r.key),r)}}function A2(t,e,n){return e&&b2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w2(t){var e=x2(t,"string");return Ta(e)=="symbol"?e:e+""}function x2(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ym(t,e){if(!e)return t;var n=ge.isArray(t)?t:[t],r=n.reduce(function(i,o){var a=o.replace("ctrl+","meta+");return a!==o&&i.push(a),i},n.slice());return r.length===n.length?t:r}var Vm=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;y2(this,t),this.assignedKeys=e,this.inputList=n,this.mousetrap=r?new(sc())(r):new(sc()),this.ctrlEqualsCmd=i,this.mousetrap.stopCallback=function(){return!1},this.escapeQueue=[],this.removeEscapeListener=null,this.settings=o,this.enabled=!0,this.update()}return A2(t,[{key:"update",value:function(){var n=this;if(this.mousetrap.reset(),!!this.enabled){var r=function(){var a=n.assignedKeys[i];if(!a.key)return 1;var s=Ym(a.key,n.ctrlEqualsCmd);a.inputList=n.inputList,n.mousetrap.bind(s,function(l){if(!(a.requires&&!n.settings.get(a.requires))){var u=!1;if(a.ignoreWithInput)for(var c=0,h=a.inputList.length;c<h;c++){var p=a.inputList[c],g=ge.isFunction(p)?p():p;if(g!==null&&g.is_visible()){u=!0;break}}u||(a.fn?a.fn.call(a.target):console.warn("No function for key: "+a.key),l.preventDefault())}},"keydown")};for(var i in this.assignedKeys)r()}}},{key:"toggle",value:function(n){ge.isUndefined(n)&&(n=!this.enabled),this.enabled=n,this.update()}},{key:"addEnterListener",value:function(n,r){return this.addKeyListener("enter",n,r)}},{key:"_tryDropEscapeListener",value:function(){this.escapeQueue.length===0&&this.removeEscapeListener&&(this.removeEscapeListener(),this.removeEscapeListener=null)}},{key:"addEscapeListener",value:function(n){var r=this;return this.removeEscapeListener===null&&(this.removeEscapeListener=this.addKeyListener("escape",function(){if(r.escapeQueue.length>0){var i=r.escapeQueue.pop();i()}r._tryDropEscapeListener()})),this.escapeQueue.push(n),function(){var i=r.escapeQueue.indexOf(n);i>-1&&r.escapeQueue.splice(i,1),r._tryDropEscapeListener()}}},{key:"addKeyListener",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this.mousetrap.unbind.bind(this.mousetrap,n);return this.mousetrap.bind(Ym(n,this.ctrlEqualsCmd),function(a){a.preventDefault(),r(),i&&o()}),o}}])}();function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function E2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M2(r.key),r)}}function k2(t,e,n){return e&&C2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M2(t){var e=B2(t,"string");return Da(e)=="symbol"?e:e+""}function B2(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S2=function(){function t(e,n){E2(this,t),this.selection=e,this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.resizeEnabled=!0,this.callbackManager=new Wi,this.setup()}return k2(t,[{key:"toggleResize",value:function(n){ge.isUndefined(n)&&(n=!this.resizeEnabled),n?this.selection.selectAll(".drag-rect").style("pointer-events","auto"):this.selection.selectAll(".drag-rect").style("pointer-events","none")}},{key:"setup",value:function(){var n=this,r=100,i=10,o=this.selection.append("g").classed("canvas-group",!0).data([{x:this.x,y:this.y}]),a=function(M){M.sourceEvent.stopPropagation()},s=function(M,I,D){var N=G.d3_transform_catch(D),O=N.translate;return M!==null&&(O[0]=M),I!==null&&(O[1]=I),"translate("+O+")"},l=o.append("rect").attr("id","mouse-node").attr("width",this.width*i).attr("height",this.height*i).attr("transform","translate("+[this.x-this.width*i/2,this.y-this.height*i/2]+")").attr("pointer-events","all");this.mouseNode=l;var u=o.append("rect").attr("id","canvas").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[this.x,this.y]+")");o.append("image").attr("id","canvas-background").attr("xlink:href","").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[this.x,this.y]+")");var c=vn().on("start",a).on("drag",function(x,M){var I=M.x;M.x=Math.min(M.x+n.width-r/2,x.x),n.x=M.x,n.width=n.width+(I-M.x),h.attr("transform",function(D){return s(D.x-r/2,null,h.attr("transform"))}),l.attr("transform",function(D){return s(D.x,null,l.attr("transform"))}).attr("width",n.width*i),u.attr("transform",function(D){return s(D.x,null,u.attr("transform"))}).attr("width",n.width),y.attr("transform",function(D){return s(D.x+r/2,null,y.attr("transform"))}).attr("width",n.width-r),k.attr("transform",function(D){return s(D.x+r/2,null,k.attr("transform"))}).attr("width",n.width-r),n.callbackManager.run("resize")}),h=o.append("rect").classed("drag-rect",!0).attr("transform",function(x){return"translate("+[x.x-r/2,x.y+r/2]+")"}).attr("height",this.height-r).attr("id","dragleft").attr("width",r).attr("cursor","ew-resize").classed("resize-rect",!0).call(c),p,g=vn().on("start",function(x){p=x.x,a(x)}).on("drag",function(x,M){x.sourceEvent.stopPropagation();var I=x.x-p;p=x.x;var D=Math.max(M.x+r/2,M.x+n.width+I);n.width=D-M.x,v.attr("transform",function(N){return s(D-r/2,null,v.attr("transform"))}),l.attr("width",n.width*i),u.attr("width",n.width),y.attr("width",n.width-r),k.attr("width",n.width-r),n.callbackManager.run("resize")}),v=o.append("rect").classed("drag-rect",!0).attr("transform",function(x){return"translate("+[x.x+n.width-r/2,x.y+r/2]+")"}).attr("id","dragright").attr("height",this.height-r).attr("width",r).attr("cursor","ew-resize").classed("resize-rect",!0).call(g),m=vn().on("start",a).on("drag",function(x,M){x.sourceEvent.stopPropagation();var I=M.y;M.y=Math.min(M.y+n.height-r/2,x.y),n.y=M.y,n.height=n.height+(I-M.y),y.attr("transform",function(D){return s(null,D.y-r/2,y.attr("transform"))}),l.attr("transform",function(D){return s(null,D.y,l.attr("transform"))}).attr("width",n.height*i),u.attr("transform",function(D){return s(null,D.y,u.attr("transform"))}).attr("height",n.height),h.attr("transform",function(D){return s(null,D.y+r/2,h.attr("transform"))}).attr("height",n.height-r),v.attr("transform",function(D){return s(null,D.y+r/2,v.attr("transform"))}).attr("height",n.height-r),n.callbackManager.run("resize")}),y=o.append("rect").classed("drag-rect",!0).attr("transform",function(x){return"translate("+[x.x+r/2,x.y-r/2]+")"}).attr("height",r).attr("width",this.width-r).attr("cursor","ns-resize").classed("resize-rect",!0).call(m),A,E=vn().on("start",function(x){A=x.y,a(x)}).on("drag",function(x,M){x.sourceEvent.stopPropagation();var I=x.y-A;A=x.y;var D=Math.max(M.y+r/2,M.y+n.height+I);n.height=D-M.y,k.attr("transform",function(N){return s(null,D-r/2,k.attr("transform"))}),l.attr("height",n.height*i),u.attr("height",n.height),h.attr("height",n.height-r),v.attr("height",n.height-r),n.callbackManager.run("resize")}),k=o.append("rect").classed("drag-rect",!0).attr("transform",function(x){return"translate("+[x.x+r/2,x.y+n.height-r/2]+")"}).attr("height",r).attr("width",this.width-r).attr("cursor","ns-resize").classed("resize-rect",!0).call(E)}},{key:"sizeAndLocation",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}}])}();function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function T2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z2(r.key),r)}}function O2(t,e,n){return e&&D2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2(t){var e=I2(t,"string");return Oa(e)=="symbol"?e:e+""}function I2(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gm=function(){function t(){T2(this,t),this.index={}}return O2(t,[{key:"insert",value:function(n,r,i,o){if(!i&&n in this.index)throw new Error("id is already in the index");if(o&&!("name"in r&&"data"in r))throw new Error("malformed record");this.index[n]=r}},{key:"remove",value:function(n){return n in this.index?(delete this.index[n],!0):!1}},{key:"find",value:function(n){var r=RegExp(n,"i"),i=[];for(var o in this.index){var a=this.index[o];r.exec(a.name)&&i.push(a.data)}return i}}])}();function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function Hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hm(Object(n),!0).forEach(function(r){P2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P2(t,e,n){return(e=qm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N2(t,e){return j2(t)||F2(t,e)||R2(t,e)||L2()}function L2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R2(t,e){if(t){if(typeof t=="string")return Xm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(t,e):void 0}}function Xm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function F2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function j2(t){if(Array.isArray(t))return t}function U2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qm(r.key),r)}}function W2(t,e,n){return e&&Zm(t.prototype,e),n&&Zm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qm(t){var e=Y2(t,"string");return za(e)=="symbol"?e:e+""}function Y2(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Km(t){return function(e){return t.apply(null,e)}}var Nf=function(){function t(e,n,r,i,o,a,s,l,u,c,h){if(U2(this,t),s===null){var p=i.get_size();s={x:-p.width,y:-p.height,width:p.width*3,height:p.height*3}}ge.isUndefined(u)||u===null||u===""?u="new_map":u=String(u),ge.isUndefined(c)||c===null||c===""?c=G.generate_map_id():c=String(c),ge.isUndefined(h)||h===null?h="":h=String(h),this.callback_manager=new Wi,this.svg=e,this.defs=G.setup_defs(e,n),this.canvas=new S2(r,s),this.setup_containers(r),this.sel=r,this.zoomContainer=i,this.settings=o,this.cobra_model=a,this.largest_ids={reactions:-1,nodes:-1,segments:-1,text_labels:-1},this.undo_stack=new Wm,this.behavior=new Um(this,this.undo_stack),this.draw=new UT(this.behavior,this.settings,this),this.key_manager=new Vm,this.key_manager.settings=o,this.key_manager.ctrlEqualsCmd=!0,this.enable_search=l,this.search_index=new Gm,this.map_name=u,this.map_id=c,this.map_description=h,this.beziers_enabled=!1,this.has_data_on_reactions=!1,this.has_data_on_nodes=!1,this.imported_reaction_data=null,this.imported_metabolite_data=null,this.imported_gene_data=null,this.nodes={},this.reactions={},this.beziers={},this.text_labels={},this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.scale=new h2,this.scale.connectToSettings(this.settings,this,this.get_data_statistics.bind(this)),this.rotation_on=!1}return W2(t,[{key:"setup_containers",value:function(n){n.append("g").attr("id","reactions"),n.append("g").attr("id","nodes"),n.append("g").attr("id","beziers"),n.append("g").attr("id","text-labels")}},{key:"reset_containers",value:function(){this.sel.select("#reactions").selectAll(".reaction").remove(),this.sel.select("#nodes").selectAll(".node").remove(),this.sel.select("#beziers").selectAll(".bezier").remove(),this.sel.select("#text-labels").selectAll(".text-label").remove()}},{key:"set_status",value:function(n,r){this.callback_manager.run("set_status",null,n),clearTimeout(this._status_timer),this._status_timer=null,r!==void 0&&(this._status_timer=setTimeout((function(){this.callback_manager.run("set_status",null,"")}).bind(this),r))}},{key:"clearMapData",value:function(){this.reactions={},this.beziers={},this.nodes={},this.text_labels={},this.map_name="new_map",this.map_id=G.generate_map_id(),this.map_description=""}},{key:"has_cobra_model",value:function(){return this.cobra_model!==null}},{key:"draw_everything",value:function(){this.draw_all_reactions(!0,!0),this.draw_all_nodes(!0),this.draw_all_text_labels()}},{key:"draw_all_reactions",value:function(n,r){ge.isUndefined(n)&&(n=!0),ge.isUndefined(r)&&(r=!0);var i=[];for(var o in this.reactions)i.push(o);this.draw_these_reactions(i,!1),n&&this.beziers_enabled&&this.draw_all_beziers(),r&&this.clear_deleted_reactions(n)}},{key:"draw_these_reactions",value:function(n,r){ge.isUndefined(r)&&(r=!0);var i=G.object_slice_for_ids_ref(this.reactions,n),o=(function(s){return this.draw.update_reaction(s,this.scale,this.cobra_model,this.nodes,this.defs,this.has_data_on_reactions)}).bind(this);if(G.draw_an_object(this.sel,"#reactions",".reaction",i,"reaction_id",this.draw.create_reaction.bind(this.draw),o),r){var a=qT(i);this.draw_these_beziers(a)}}},{key:"clear_deleted_reactions",value:function(n){ge.isUndefined(n)&&(n=!0),G.draw_an_object(this.sel,"#reactions",".reaction",this.reactions,"reaction_id",null,function(r){G.draw_a_nested_object(r,".segment-group","segments","segment_id",null,null,function(i){i.remove()})},function(r){r.remove()}),n===!0&&this.clear_deleted_beziers()}},{key:"draw_all_nodes",value:function(n){n===void 0&&(n=!0);var r=[];for(var i in this.nodes)r.push(i);this.draw_these_nodes(r),n&&this.clear_deleted_nodes()}},{key:"draw_these_nodes",value:function(n){var r=G.object_slice_for_ids_ref(this.nodes,n),i=(function(a){return this.draw.create_node(a,this.nodes,this.reactions)}).bind(this),o=(function(a){return this.draw.update_node(a,this.scale,this.has_data_on_nodes,this.behavior.selectableMousedown,this.behavior.selectableClick,this.behavior.nodeMouseover,this.behavior.nodeMouseout,this.behavior.selectableDrag,this.behavior.nodeLabelDrag)}).bind(this);G.draw_an_object(this.sel,"#nodes",".node",r,"node_id",i,o)}},{key:"clear_deleted_nodes",value:function(){G.draw_an_object(this.sel,"#nodes",".node",this.nodes,"node_id",null,null,function(n){n.remove()})}},{key:"draw_all_text_labels",value:function(){this.draw_these_text_labels(Object.keys(this.text_labels)),this.clear_deleted_text_labels()}},{key:"draw_these_text_labels",value:function(n){var r=G.object_slice_for_ids_ref(this.text_labels,n);G.draw_an_object(this.sel,"#text-labels",".text-label",r,"text_label_id",this.draw.create_text_label.bind(this.draw),this.draw.update_text_label.bind(this.draw))}},{key:"clear_deleted_text_labels",value:function(){G.draw_an_object(this.sel,"#text-labels",".text-label",this.text_labels,"text_label_id",null,null,function(n){n.remove()})}},{key:"draw_all_beziers",value:function(){var n=[];for(var r in this.beziers)n.push(r);this.draw_these_beziers(n),this.clear_deleted_beziers()}},{key:"draw_these_beziers",value:function(n){var r=G.object_slice_for_ids_ref(this.beziers,n),i=(function(o){return this.draw.update_bezier(o,this.beziers_enabled,this.behavior.bezierDrag,this.behavior.bezierMouseover,this.behavior.bezierMouseout,this.nodes,this.reactions)}).bind(this);G.draw_an_object(this.sel,"#beziers",".bezier",r,"bezier_id",this.draw.create_bezier.bind(this.draw),i)}},{key:"clear_deleted_beziers",value:function(){G.draw_an_object(this.sel,"#beziers",".bezier",this.beziers,"bezier_id",null,null,function(n){n.remove()})}},{key:"show_beziers",value:function(){this.toggle_beziers(!0)}},{key:"hide_beziers",value:function(){this.toggle_beziers(!1)}},{key:"toggle_beziers",value:function(n){ge.isUndefined(n)?this.beziers_enabled=!this.beziers_enabled:this.beziers_enabled=n,this.draw_all_beziers(),this.callback_manager.run("toggle_beziers",null,this.beziers_enabled)}},{key:"apply_reaction_data_to_map",value:function(n,r){var i=this.settings.get("reaction_styles"),o=this.settings.get("reaction_compare_style"),a=Lt.apply_reaction_data_to_reactions(this.reactions,n,i,o,r);return this.has_data_on_reactions=a,this.imported_reaction_data=a?n:null,this.calc_data_stats("reaction")}},{key:"apply_metabolite_data_to_map",value:function(n,r){var i=this.settings.get("metabolite_styles"),o=this.settings.get("metabolite_compare_style"),a=Lt.apply_metabolite_data_to_nodes(this.nodes,n,i,o,r);return this.has_data_on_nodes=a,this.imported_metabolite_data=a?n:null,this.calc_data_stats("metabolite")}},{key:"apply_gene_data_to_map",value:function(n,r){var i=this.settings.get("reaction_styles"),o=this.settings.get("reaction_compare_style"),a=this.settings.get("identifiers_on_map"),s=this.settings.get("and_method_in_gene_reaction_rule"),l=Lt.apply_gene_data_to_reactions(this.reactions,n,i,a,o,s,r);return this.has_data_on_reactions=l,this.imported_gene_data=l?n:null,this.calc_data_stats("reaction")}},{key:"get_data_statistics",value:function(){return this.data_statistics}},{key:"calc_data_stats",value:function(n){if(["reaction","metabolite"].indexOf(n)===-1)throw new Error("Bad type "+n);"data_statistics"in this?n in this.data_statistics||(this.data_statistics[n]=null):(this.data_statistics={},this.data_statistics[n]=null);var r=[];if(n==="metabolite")for(var i in this.nodes){var o=this.nodes[i];ge.isUndefined(o.data)?console.error("metabolite missing "):o.data!==null&&r.push(o.data)}else if(n=="reaction")for(var a in this.reactions){var s=this.reactions[a];ge.isUndefined(s.data)?console.error("reaction data missing "):s.data!==null&&r.push(s.data)}if(r.length===0){var l=this.data_statistics[n]===null;return this.data_statistics[n]=null,n==="reaction"?this.callback_manager.run("calc_data_stats__reaction",null,!l):this.callback_manager.run("calc_data_stats__metabolite",null,!l),!l}this.data_statistics[n]===null&&(this.data_statistics[n]={});var u=!0,c=G.quartiles(r),h=[["min",Km(Math.min)],["max",Km(Math.max)],["mean",G.mean],["Q1",function(){return c[0]}],["median",function(){return c[1]}],["Q3",function(){return c[2]}]];if(h.forEach((function(v){var m,y=v[0];if(r.length===0)m=null;else{var A=v[1];m=A(r)}m!=this.data_statistics[n][y]&&(u=!1),this.data_statistics[n][y]=m}).bind(this)),this.data_statistics[n].min===this.data_statistics[n].max&&this.data_statistics[n].min!==null){var p=this.data_statistics[n].min,g=this.data_statistics[n].max;this.data_statistics[n].min=p-1-Math.abs(p)*.1,this.data_statistics[n].max=g+1+Math.abs(g)*.1}return n==="reaction"?this.callback_manager.run("calc_data_stats__reaction",null,!u):this.callback_manager.run("calc_data_stats__metabolite",null,!u),!u}},{key:"get_coords_for_node",value:function(n){var r=this.nodes[n],i={x:r.x,y:r.y};return i}},{key:"get_selected_node_ids",value:function(){var n=[];return this.sel.select("#nodes").selectAll(".selected").each(function(r){n.push(r.node_id)}),n}},{key:"getSelectedNodes",value:function(){var n={};return this.sel.select("#nodes").selectAll(".selected").each((function(r){n[r.node_id]=this.nodes[r.node_id]}).bind(this)),n}},{key:"get_selected_text_label_ids",value:function(){var n=[];return this.sel.select("#text-labels").selectAll(".selected").each(function(r){n.push(r.text_label_id)}),n}},{key:"get_selected_text_labels",value:function(){var n={};return this.sel.select("#text-labels").selectAll(".selected").each((function(r){n[r.text_label_id]=this.text_labels[r.text_label_id]}).bind(this)),n}},{key:"select_all",value:function(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",!0)}},{key:"select_none",value:function(){this.sel.selectAll(".selected").classed("selected",!1)}},{key:"invert_selection",value:function(){var n=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");n.classed("selected",function(){return!ze(this).classed("selected")})}},{key:"select_metabolite_with_id",value:function(n){this.deselect_text_labels();var r=this.sel.select("#nodes").selectAll(".node"),i,o;r.classed("selected",function(a){var s=String(a.node_id)==String(n);return s&&(o=a,i={x:a.x,y:a.y}),s}),this.sel.selectAll(".start-reaction-target").style("visibility","hidden"),this.callback_manager.run("select_metabolite_with_id",null,o,i)}},{key:"select_selectable",value:function(n,r,i){i=ge.isUndefined(i)?!1:i;var o=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label"),a;ze(n).attr("class").indexOf("text-label")==-1?a=n.parentNode:a=n,i?ze(a).classed("selected",!ze(a).classed("selected")):(o.classed("selected",!1),ze(a).classed("selected",!0));var s=this.sel.select("#nodes").selectAll(".selected"),l=0,u,c;s.each(function(h){c=h,u={x:h.x,y:h.y},l++}),this.callback_manager.run("select_selectable",null,l,c,u)}},{key:"select_single_node",value:function(){var n=null,r=this.sel.select("#nodes").selectAll(".selected");return r.classed("selected",function(i,o){return o===0?(n=i,!0):!1}),n}},{key:"deselect_nodes",value:function(){var n=this.sel.select("#nodes").selectAll(".node");n.classed("selected",!1),this.callback_manager.run("deselect_nodes")}},{key:"select_text_label",value:function(n,r){this.deselect_nodes();var i=this.sel.select("#text-labels").selectAll(".text-label");i.classed("selected",function(a){return r===a});var o=this.sel.select("#text-labels").selectAll(".selected");o.each(function(a){a.x,a.y}),this.callback_manager.run("select_text_label")}},{key:"deselect_text_labels",value:function(){var n=this.sel.select("#text-labels").selectAll(".text-label");n.classed("selected",!1)}},{key:"align_vertical",value:function(){return this._align(!1)}},{key:"align_horizontal",value:function(){return this._align(!0)}},{key:"_align",value:function(n){var r=this,i=this.getSelectedNodes(),o=ge.pick(i,function(v){return v.node_type!=="metabolite"||v.node_is_primary}),a=Object.keys(o).length>0,s=a?o:i,l=Object.keys(s),u=l.reduce(function(v,m){return v+(n?s[m].y:s[m].x)},0)/l.length,c=ge.pairs(s).map(function(v){var m=N2(v,2),y=m[0],A=m[1];return{nodeId:y,displacement:n?{x:0,y:u-A.y}:{x:u-A.x,y:0}}}),h=[],p={};a&&ge.mapObject(s,function(v,m){v.connected_segments.map(function(y){var A=y.segment_id,E=y.reaction_id,k=r.reactions[E].segments[A],x=k.to_node_id===v.node_id,M=x?k.from_node_id:k.to_node_id,I=r.nodes[M],D=x?"b2":"b1";if(I.node_id in i&&k[D]){var N=Ar(A,D);if(h.push({reactionId:E,segmentId:A,bez:D,bezierId:N,displacement:n?{x:0,y:v.y-k[D].y}:{x:v.x-k[D].x,y:0}}),I.node_type==="metabolite"&&!I.node_is_primary&&!(M in p)){var O=I.connected_segments.filter(function(W){var F=r.reactions[E].segments[A],re=F.to_node_id===I.node_id;return re?F.from_node_id in i:F.to_node_id in i});I.connected_segments.length<=O.length&&(c.push({nodeId:M,displacement:n?{x:0,y:u-v.y}:{x:u-v.x,y:0}}),p[M]=!0)}}})});var g=function(m,y){var A=[];m.map(function(E){var k=r.nodes[E.nodeId],x=Hi(k,E.nodeId,r.reactions,r.beziers,E.displacement);A=G.uniqueConcat([A,x.reaction_ids])}),y.map(function(E){var k=r.reactions[E.reactionId].segments[E.segmentId];k[E.bez]=G.c_plus_c(k[E.bez],E.displacement),r.beziers[E.bezierId].x=k[E.bez].x,r.beziers[E.bezierId].y=k[E.bez].y}),r.draw_these_nodes(m.map(function(E){return E.nodeId})),r.draw_these_reactions(A,!0)};this.undo_stack.push(function(){var v=function(y){return y.map(function(A){return Qm(Qm({},A),{},{displacement:{x:-A.displacement.x,y:-A.displacement.y}})})};g(v(c),v(h))},function(){g(c,h)}).do(),this.set_status(a?"Aligned reactions":"Aligned nodes",3e3)}},{key:"delete_selected",value:function(){var n=this.getSelectedNodes(),r=this.get_selected_text_labels();(Object.keys(n).length>=1||Object.keys(r).length>=1)&&this.delete_selectable(n,r,!0)}},{key:"delete_selectable",value:function(n,r,i){var o=this.segments_and_reactions_for_nodes(n),a=o.segment_objs_w_segments,s=o.reactions,l=G.clone(n),u=G.clone(a),c=G.clone(s),h=G.clone(r),p=(function(g,v,m,y){this.delete_node_data(Object.keys(n)),this.delete_segment_data(m),this.delete_reaction_data(Object.keys(v)),this.delete_text_label_data(Object.keys(y));var A=!1,E=!1;this.has_data_on_reactions&&(A=this.calc_data_stats("reaction")),this.has_data_on_nodes&&(E=this.calc_data_stats("metabolite")),i&&(A?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(),E?this.draw_all_nodes(!0):this.clear_deleted_nodes(),this.clear_deleted_text_labels())}).bind(this);p(n,s,a,r),this.undo_stack.push((function(){this.extend_nodes(l),this.extend_reactions(c);var g=Object.keys(c);for(var v in u){var m=u[v],y=m.segment;this.reactions[m.reaction_id].segments[m.segment_id]=y;var A=[y.from_node_id,y.to_node_id];A.forEach((function(D){if(!(D in l)){var N=this.nodes[D];N.connected_segments.push({reaction_id:m.reaction_id,segment_id:m.segment_id})}}).bind(this));var E=m.segment_id,k=m.reaction_id,x={};x[E]=m.segment,G.extend(this.beziers,Rm(x,k)),g.indexOf(m.reaction_id)===-1&&g.push(m.reaction_id)}if(this.has_data_on_reactions){var M=this.calc_data_stats("reaction");M?this.draw_all_reactions(!0,!1):this.draw_these_reactions(g)}else i&&this.draw_these_reactions(g);if(this.has_data_on_nodes){var I=this.calc_data_stats("metabolite");i&&(I?this.draw_all_nodes(!1):this.draw_these_nodes(Object.keys(l)))}else i&&this.draw_these_nodes(Object.keys(l));G.extend(this.text_labels,h),i&&this.draw_these_text_labels(Object.keys(h)),r=G.clone(h),n=G.clone(l),a=G.clone(u),s=G.clone(c)}).bind(this),(function(){p(n,s,a,r)}).bind(this))}},{key:"delete_node_data",value:function(n){var r=this;n.forEach(function(i){if(r.enable_search&&r.nodes[i].node_type==="metabolite"){var o=r.search_index.remove("n"+i)&&r.search_index.remove("n_name"+i);o||console.warn("Could not find deleted metabolite in search index")}delete r.nodes[i]})}},{key:"delete_segment_data",value:function(n){for(var r in n){var i=n[r],o=this.reactions[i.reaction_id];if(!(i.segment_id in o.segments))return;var a=o.segments[i.segment_id];[a.from_node_id,a.to_node_id].forEach((function(s){if(s in this.nodes){var l=this.nodes[s];l.connected_segments=l.connected_segments.filter(function(u){return u.segment_id!=i.segment_id})}}).bind(this)),["b1","b2"].forEach((function(s){var l=Ar(i.segment_id,s);delete this.beziers[l]}).bind(this)),delete o.segments[i.segment_id]}}},{key:"delete_reaction_data",value:function(n){n.forEach((function(r){var i=this.reactions[r];for(var o in i.segments)["b1","b2"].forEach((function(l){var u=Ar(o,l);delete this.beziers[u]}).bind(this));delete this.reactions[r];var a=this.search_index.remove("r"+r)&&this.search_index.remove("r_name"+r);a||console.warn("Could not find deleted reaction "+r+" in search index");for(var s in i.genes){var a=this.search_index.remove("r"+r+"_g"+s)&&this.search_index.remove("r"+r+"_g_name"+s);a||console.warn("Could not find deleted gene "+s+" in search index")}}).bind(this))}},{key:"delete_text_label_data",value:function(n){n.forEach((function(r){delete this.text_labels[r];var i=this.search_index.remove("l"+r);i||console.warn("Could not find deleted text label in search index")}).bind(this))}},{key:"_extend_and_draw_metabolite",value:function(n,r){this.extend_nodes(n);var i=[r];if(this.has_data_on_nodes){if(this.imported_metabolite_data===null)throw new Error("imported_metabolite_data should not be null");var o=this.apply_metabolite_data_to_map(this.imported_metabolite_data,i);o?this.draw_all_nodes(!1):this.draw_these_nodes(i)}else this.draw_these_nodes(i)}},{key:"new_reaction_from_scratch",value:function(n,r,i){var o=this;if(!this.cobra_model){console.error("No CobraModel. Cannot build new reaction");return}var a=G.clone(this.cobra_model.reactions[n]);if(ge.size(a.metabolites)===0)throw Error("No metabolites in reaction "+a.bigg_id);var s=ge.map(a.metabolites,function(E,k){return[E,k]}).filter(function(E){return E[0]<0}).map(function(E){return E[1]}),l=s.length>0?s[0]:Object.keys(a.metabolites)[0],u=this.cobra_model.metabolites[l],c=String(++this.largest_ids.nodes),h=Nm(G.to_radians(i),0,1,!0,l,!0),p={connected_segments:[],x:r.x,y:r.y,node_is_primary:!0,label_x:r.x+h.x,label_y:r.y+h.y,name:u.name,bigg_id:l,node_type:"metabolite"},g={};g[c]=p,this._extend_and_draw_metabolite(g,c);var v=G.clone(g),m=this.new_reaction_for_metabolite(n,c,i,!1),y=m.redo,A=m.undo;this.undo_stack.push(function(){A(),o.delete_node_data(Object.keys(g)),g=G.clone(v),o.clear_deleted_nodes(),o.deselect_nodes()},function(){o._extend_and_draw_metabolite(g,c),y()})}},{key:"extend_nodes",value:function(n){if(this.enable_search)for(var r in n){var i=n[r];i.node_type=="metabolite"&&(this.search_index.insert("n"+r,{name:i.bigg_id,data:{type:"metabolite",node_id:r}}),this.search_index.insert("n_name"+r,{name:i.name,data:{type:"metabolite",node_id:r}}))}G.extend(this.nodes,n)}},{key:"extend_reactions",value:function(n){if(this.enable_search)for(var r in n){var i=n[r];this.search_index.insert("r"+r,{name:i.bigg_id,data:{type:"reaction",reaction_id:r}}),this.search_index.insert("r_name"+r,{name:i.name,data:{type:"reaction",reaction_id:r}});for(var o in i.genes){var a=i.genes[o];this.search_index.insert("r"+r+"_g"+o,{name:a.bigg_id,data:{type:"reaction",reaction_id:r}}),this.search_index.insert("r"+r+"_g_name"+o,{name:a.name,data:{type:"reaction",reaction_id:r}})}}G.extend(this.reactions,n)}},{key:"_extend_and_draw_reaction",value:function(n,r,i,o){this.extend_reactions(r),G.extend(this.beziers,i),this.delete_node_data([o]),this.extend_nodes(n);var a=Object.keys(r);if(this.has_data_on_reactions){var s=!1;if(this.imported_reaction_data)s=this.apply_reaction_data_to_map(this.imported_reaction_data,a);else if(this.imported_gene_data)s=this.apply_gene_data_to_map(this.imported_gene_data,a);else throw new Error("imported_gene_data or imported_reaction_data should not be null");s?this.draw_all_reactions(!0,!1):this.draw_these_reactions(a)}else this.draw_these_reactions(a);var l=Object.keys(n);if(this.has_data_on_nodes){if(this.imported_metabolite_data===null)throw new Error("imported_metabolite_data should not be null");var s=this.apply_metabolite_data_to_map(this.imported_metabolite_data,l);s?this.draw_all_nodes(!1):this.draw_these_nodes(l)}else this.draw_these_nodes(l);for(var u in n){var c=n[u];if(c.node_is_primary&&u!=o){this.select_metabolite_with_id(u);var h={x:c.x,y:c.y};this.zoomContainer&&this.zoomContainer.translateOffScreen(h)}}}},{key:"new_reaction_for_metabolite",value:function(n,r,i,o){var a=this;o===void 0&&(o=!0);var s=this.nodes[r],l=this.cobra_model.reactions[n],u=QT(n,l,this.cobra_model.metabolites,r,G.clone(s),this.largest_ids,this.settings.get("cofactors"),i),c=u.new_nodes,h=u.new_reactions,p=u.new_beziers;this._extend_and_draw_reaction(c,h,p,r);var g=G.clone(c),v=G.clone(h),m=G.clone(p),y=function(){if(delete c[r],a.delete_node_data(Object.keys(c)),a.delete_reaction_data(Object.keys(h)),a.select_metabolite_with_id(r),c=G.clone(g),h=G.clone(v),p=G.clone(m),a.has_data_on_reactions){var k=a.calc_data_stats("reaction");k?a.draw_all_reactions(!0,!0):a.clear_deleted_reactions(!0)}else a.clear_deleted_reactions(!0);if(a.has_data_on_nodes){var x=a.calc_data_stats("metabolite");x?a.draw_all_nodes(!0):a.clear_deleted_nodes()}else a.clear_deleted_nodes()},A=function(){a._extend_and_draw_reaction(c,h,p,r)};return o&&this.undo_stack.push(y,A),{undo:y,redo:A}}},{key:"cycle_primary_node",value:function(){var n=this.getSelectedNodes();if(!ge.isEmpty(n)){var r=Object.keys(n)[0];n[r];var i=this.reactions,o=this.nodes,a=[],s;if(o[r].connected_segments.forEach(function(D){s=[D.reaction_id];var N;try{if(N=i[D.reaction_id].segments[D.segment_id],N===void 0)throw new Error("undefined segment")}catch{console.warn("Could not find connected segment "+D.segment_id);return}a.push(N.from_node_id==r?N.to_node_id:N.from_node_id)}),a.length!=1){console.error("Only connected nodes with a single reaction can be selected");return}var l=a[0],u=[r];o[l].connected_segments.forEach(function(D){var N;try{if(N=i[D.reaction_id].segments[D.segment_id],N===void 0)throw new Error("undefined segment")}catch{console.warn("Could not find connected segment "+D.segment_id);return}var O=N.from_node_id==l?N.to_node_id:N.from_node_id,W=o[O];W.node_type=="metabolite"&&O!=r&&u.push(String(O))});for(var c=0;c<u.length;c++)if(o[u[c]].connected_segments.length>1){console.error("Only connected nodes with a single reaction can be selected");return}for(var h in n)if(h!=r&&u.indexOf(h)==-1){console.warn("Selected nodes are not on the same reaction");return}var p=[],M=u.length-1,g=o[u[M]],v=g.node_is_primary,m={x:g.x,y:g.y,label_x:g.label_x,label_y:g.label_y};g.connected_segments.length>1&&console.warn("Too many connected segments for node "+g.node_id);var y=g.connected_segments[0],A;try{if(A=i[y.reaction_id].segments[y.segment_id],A===void 0)throw new Error("undefined segment")}catch{console.error("Could not find connected segment "+y.segment_id);return}var E={b1:A.b1,b2:A.b2},k;u.forEach(function(D){var N=o[D],O=N.node_is_primary,W={x:N.x,y:N.y,label_x:N.label_x,label_y:N.label_y},F=N.connected_segments[0],re=i[F.reaction_id].segments[F.segment_id],q={b1:re.b1,b2:re.b2};N.node_is_primary=v,N.x=m.x,N.y=m.y,N.label_x=m.label_x,N.label_y=m.label_y,re.b1=E.b1,re.b2=E.b2,v=O,m=W,E=q,N.node_is_primary&&(k=D),p.push(D)});var x=o[l].connected_segments,M=x.length-1,I=[x[M]];x.forEach(function(D,N){M!=N&&I.push(D)}),o[l].connected_segments=I,this.draw_these_nodes(p),this.draw_these_reactions(s),this.select_metabolite_with_id(k)}}},{key:"toggle_selected_node_primary",value:function(){var n=this.get_selected_node_ids(),r=(function(i){var o={},a=this.settings.get("hide_secondary_metabolites");if(i.forEach((function(h){if(!(h in this.nodes)){console.warn("Could not find node: "+h);return}var p=this.nodes[h];p.node_type=="metabolite"&&(p.node_is_primary=!p.node_is_primary,o[h]=p)}).bind(this)),this.draw_these_nodes(Object.keys(o)),a){var s=this.segments_and_reactions_for_nodes(o),l={};for(var u in s.segment_objs_w_segments){var c=s.segment_objs_w_segments[u].reaction_id;l[c]=!0}this.draw_these_reactions(Object.keys(l))}}).bind(this);r(n),this.undo_stack.push(function(){r(n)},function(){r(n)})}},{key:"segments_and_reactions_for_nodes",value:function(n){var r={},i={},o={},a=this.reactions;for(var s in n){var l=n[s];l.connected_segments.forEach(function(v){var m;try{if(m=a[v.reaction_id].segments[v.segment_id],m===void 0)throw new Error("undefined segment")}catch{console.warn("Could not find connected segments for node");return}var y=G.clone(v);y.segment=G.clone(m),r[v.segment_id]=y,v.reaction_id in o||(o[v.reaction_id]=[]),o[v.reaction_id].push(v.segment_id)})}for(var u in o){var c=a[u],h=o[u],p=!0;for(var g in c.segments)h.indexOf(g)==-1&&(p=!1);p&&(i[u]=c)}return{segment_objs_w_segments:r,reactions:i}}},{key:"add_label_to_search_index",value:function(n,r){this.search_index.insert("l"+n,{name:r,data:{type:"text_label",text_label_id:n}})}},{key:"new_text_label",value:function(n,r){var i=ZT(this.largest_ids,r,n);return this.text_labels[i.id]=i.label,this.draw_these_text_labels([i.id]),r!==""&&this.add_label_to_search_index(i.id,r),i.id}},{key:"edit_text_label",value:function(n,r,i,o){if(ge.isUndefined(o)&&(o=!1),r==="")throw new Error("Should not be called for empty string");var a=(function(l,u){var c=this.text_labels[n];c.text=l,u&&this.draw_these_text_labels([n]);var h="l"+n,p=this.search_index.remove(h);!o&&!p&&console.warn("Could not find modified text label in search index"),this.search_index.insert(h,{name:l,data:{type:"text_label",text_label_id:n}})}).bind(this),s=G.clone(this.text_labels[n]);a(r,i),this.undo_stack.push((function(){o?(this.delete_text_label_data([n]),this.clear_deleted_text_labels()):a(s.text,!0)}).bind(this),(function(){o?(this.text_labels[n]=G.clone(s),this.text_labels[n].text=r,this.draw_these_text_labels([n]),this.add_label_to_search_index(n,r)):a(r,!0)}).bind(this))}},{key:"zoom_extent_nodes",value:function(n){this._zoom_extent(n,"nodes")}},{key:"zoom_extent_canvas",value:function(n){this._zoom_extent(n,"canvas")}},{key:"_zoom_extent",value:function(n,r){ge.isUndefined(n)&&(n=r==="nodes"?.2:0),ge.isUndefined(r)&&(r="canvas");var i,o,a=this.get_size();if(n=n*a.height,r==="nodes"){var s={x:null,y:null},l={x:null,y:null};for(var u in this.nodes){var c=this.nodes[u];s.x===null&&(s.x=c.x),s.y===null&&(s.y=c.y),l.x===null&&(l.x=c.x),l.y===null&&(l.y=c.y),s.x=Math.min(s.x,c.x),s.y=Math.min(s.y,c.y),l.x=Math.max(l.x,c.x),l.y=Math.max(l.y,c.y)}i=Math.min((a.width-n*2)/(l.x-s.x),(a.height-n*2)/(l.y-s.y)),o={x:-(s.x*i)+n+(a.width-n*2-(l.x-s.x)*i)/2,y:-(s.y*i)+n+(a.height-n*2-(l.y-s.y)*i)/2}}else if(r=="canvas")i=Math.min((a.width-n*2)/this.canvas.width,(a.height-n*2)/this.canvas.height),o={x:-(this.canvas.x*i)+n+(a.width-n*2-this.canvas.width*i)/2,y:-(this.canvas.y*i)+n+(a.height-n*2-this.canvas.height*i)/2};else return console.error("Did not recognize mode");return this.zoomContainer.goTo(i,o),null}},{key:"get_size",value:function(){return this.zoomContainer.get_size()}},{key:"zoom_to_reaction",value:function(n){var r=this.reactions[n],i=.5,o=this.get_size(),a={x:-r.label_x*i+o.width/2,y:-r.label_y*i+o.height/2};this.zoomContainer.goTo(i,a)}},{key:"zoom_to_node",value:function(n){var r=this.nodes[n],i=.5,o=this.get_size(),a={x:-r.label_x*i+o.width/2,y:-r.label_y*i+o.height/2};this.zoomContainer.goTo(i,a)}},{key:"zoom_to_text_label",value:function(n){var r=this.text_labels[n],i=.5,o=this.get_size(),a={x:-r.x*i+o.width/2,y:-r.y*i+o.height/2};this.zoomContainer.goTo(i,a)}},{key:"highlight_reaction",value:function(n){this.highlight(this.sel.selectAll("#r"+n).selectAll("text"))}},{key:"highlight_node",value:function(n){this.highlight(this.sel.selectAll("#n"+n).selectAll("text"))}},{key:"highlight_text_label",value:function(n){this.highlight(this.sel.selectAll("#l"+n).selectAll("text"))}},{key:"highlight",value:function(n){this.sel.selectAll(".highlight").classed("highlight",!1),n!==null&&n.classed("highlight",!0)}},{key:"save",value:function(){G.download_json(this.map_for_export(),this.map_name)}},{key:"map_for_export",value:function(){var n=[{map_name:this.map_name,map_id:this.map_id,map_description:this.map_description,homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:G.clone(this.reactions),nodes:G.clone(this.nodes),text_labels:G.clone(this.text_labels),canvas:this.canvas.sizeAndLocation()}];for(var r in n[1].reactions){var i=n[1].reactions[r],o={},A=["name","bigg_id","reversibility","label_x","label_y","gene_reaction_rule","genes","metabolites"];A.forEach(function(k){o[k]=i[k]}),o.segments={};for(var a in i.segments){var s=i.segments[a],l={},A=["from_node_id","to_node_id","b1","b2"];A.forEach(function(x){l[x]=s[x]}),o.segments[a]=l}n[1].reactions[r]=o}for(var u in n[1].nodes){var c=n[1].nodes[u],h={},A;c.node_type==="metabolite"?A=["node_type","x","y","bigg_id","name","label_x","label_y","node_is_primary"]:A=["node_type","x","y"],A.forEach(function(k){h[k]=c[k]}),n[1].nodes[u]=h}for(var p in n[1].text_labels){var g=n[1].text_labels[p],v={},A=["x","y","text"];A.forEach(function(k){v[k]=g[k]}),n[1].text_labels[p]=v}var m=n[1].canvas,y={},A=["x","y","width","height"];return A.forEach(function(E){y[E]=m[E]}),n[1].canvas=y,n}},{key:"saveMap",value:function(n,r,i){var o=this;this.callback_manager.run(n);var a=this.zoomContainer.windowScale,s=this.zoomContainer.windowTranslate,l=this.canvas.sizeAndLocation(),u={w:this.canvas.mouseNode.attr("width"),h:this.canvas.mouseNode.attr("height"),transform:this.canvas.mouseNode.attr("transform")};if(i==="gif"){var c=this.settings.get("reaction_data");c&&G.downloadGif("".concat(G.get_current_date(),"_").concat(this.map_name),this.scale.reaction_color)}else this.zoomContainer._goToSvg(1,{x:-l.x,y:-l.y},function(){o.svg.attr("width",l.width),o.svg.attr("height",l.height),o.canvas.mouseNode.attr("width","0px"),o.canvas.mouseNode.attr("height","0px"),o.canvas.mouseNode.attr("transform",null);var h=o.sel.selectAll(".multimarker-circle,.midmarker-circle,#canvas,.bezier,#rotation-center,.direction-arrow,.start-reaction-target").style("visibility","hidden");i==="svg"?G.downloadSvg("saved_map",o.svg,!0):i==="png"&&G.downloadPng("saved_map",o.svg),o.zoomContainer._goToSvg(a,s,function(){o.svg.attr("width",null),o.svg.attr("height",null),o.canvas.mouseNode.attr("width",u.w),o.canvas.mouseNode.attr("height",u.h),o.canvas.mouseNode.attr("transform",u.transform),h.style("visibility",null),o.callback_manager.run(r)})})}},{key:"save_svg",value:function(){this.saveMap("before_svg_export","after_svg_export","svg")}},{key:"save_png",value:function(){this.saveMap("before_png_export","after_png_export","png")}},{key:"save_gif",value:function(){this.saveMap("before_gif_export","after_gif_export","gif")}},{key:"convert_map",value:function(){var n=this;if(this.callback_manager.run("before_convert_map"),!this.has_cobra_model())throw Error("No COBRA model loaded.");var r=this.cobra_model,i={},o=["name","gene_reaction_rule","genes"],a={},s=["name"],l=!1;for(var u in this.reactions){var c=this.reactions[u];l=!1;var h=function(){var I=r.reactions[g];if(I.bigg_id==c.bigg_id){o.forEach(function(q){c[q]=I[q]});var D=!0,N=null,O=function(P){var J=I.metabolites[P],Y=ge.find(c.metabolites,function(fe){return fe.bigg_id===P});if(Y===void 0)return D=!1,0;var Q=Y.coefficient;if(N===null&&(N=J>0!=Q>0),N===!0&&J>0==Q>0||N===!1&&J>0!=Q>0)return D=!1,0},W;for(var F in I.metabolites)if(W=O(F),W===0)break;if(N&&D){c.metabolites.forEach(function(q){q.coefficient=-q.coefficient});var re=function(){var P=c.segments[p];P.reversibility=c.reversibility;var J=n.nodes[P.from_node_id],Y=n.nodes[P.to_node_id];c.metabolites.forEach(function(Q){Q.bigg_id===J.bigg_id?P.from_node_coefficient=Q.coefficient:Q.bigg_id===Y.bigg_id&&(P.to_node_coefficient=Q.coefficient)})};for(p in c.segments)re()}if(!D)return console.warn("Metabolites for ".concat(I.bigg_id,` are different in model and map. Could
 not check and fix direction.`)),1;l=!0}},p;for(var g in r.reactions)if(h())break;l||(i[u]=!0)}for(var v in this.nodes){var m=this.nodes[v];if(m.node_type=="metabolite"){l=!1;for(var y in r.metabolites){var A=r.metabolites[y];A.bigg_id==m.bigg_id&&(s.forEach(function(M){m[M]=A[M]}),l=!0)}l||(a[v]=!0)}}var E=Object.keys(i).length,k=Object.keys(a).length,x=1e4;E===0&&k===0?this.set_status("Successfully converted attributes.",x):k===0?(this.set_status("Converted attributes, but count not find "+E+" reactions in the model.",x),this.settings.set("highlight_missing",!0)):E===0?(this.set_status("Converted attributes, but count not find "+k+" metabolites in the model.",x),this.settings.set("highlight_missing",!0)):(this.set_status("Converted attributes, but count not find "+E+" reactions and "+k+" metabolites in the model.",x),this.settings.set("highlight_missing",!0)),this.draw_everything(),this.callback_manager.run("after_convert_map")}},{key:"import_background",value:function(n){var r=this;if(this.callback_manager.run("before_import_background"),n instanceof File){var i=new FileReader;i.onload=function(o){var a=o.target.result;document.getElementById("canvas-background").setAttribute("href",a),document.getElementById("canvas-background").setAttribute("display",""),r.callback_manager.run("after_import_background")},i.readAsDataURL(n)}else typeof n=="string"&&fetch(n).then(function(o){return o.blob()}).then(function(o){var a=new FileReader;a.onloadend=function(){var s=a.result;document.getElementById("canvas-background").setAttribute("href",s),document.getElementById("canvas-background").setAttribute("display",""),r.callback_manager.run("after_import_background")},a.readAsDataURL(o)}).catch(function(o){console.error("Failed to load image from URL: ".concat(n),o)})}},{key:"clear_background",value:function(){this.callback_manager.run("before_clear_background"),document.getElementById("canvas-background").setAttribute("href",""),document.getElementById("canvas-background").setAttribute("display","none"),this.callback_manager.run("after_clear_background")}}],[{key:"from_data",value:function(n,r,i,o,a,s,l,u){var c=n[1].canvas,h=n[0].map_name,p=n[0].map_id,g=n[0].map_description.replace(/(\nLast Modified.*)+$/g,"")+`
Last Modified `+Date(Date.now()).toString(),v=new t(r,i,o,a,s,l,c,u,h,p,g);v.reactions=n[1].reactions,v.nodes=n[1].nodes,v.text_labels=n[1].text_labels;for(var m in v.nodes){var y=v.nodes[m];if(y.connected_segments=[],u){if(y.node_type!=="metabolite")continue;v.search_index.insert("n"+m,{name:y.bigg_id,data:{type:"metabolite",node_id:m}}),v.search_index.insert("n_name"+m,{name:y.name,data:{type:"metabolite",node_id:m}})}}for(var A in v.reactions){var E=v.reactions[A];if(u){v.search_index.insert("r"+A,{name:E.bigg_id,data:{type:"reaction",reaction_id:A}}),v.search_index.insert("r_name"+A,{name:E.name,data:{type:"reaction",reaction_id:A}});for(var k in E.genes){var x=E.genes[k];v.search_index.insert("r"+A+"_g"+k,{name:x.bigg_id,data:{type:"reaction",reaction_id:A}}),v.search_index.insert("r"+A+"_g_name"+k,{name:x.name,data:{type:"reaction",reaction_id:A}})}}var M=[],I=function(){if(D=E.segments[F],D.reversibility=E.reversibility,!(D.from_node_id in v.nodes)||!(D.to_node_id in v.nodes))return console.warn("Bad node references in segment "+F+". Deleting segment."),M.push(F),1;var fe=v.nodes[D.from_node_id],de=v.nodes[D.to_node_id];E.metabolites.forEach(function(ve){ve.bigg_id===fe.bigg_id?D.from_node_coefficient=ve.coefficient:ve.bigg_id===de.bigg_id&&(D.to_node_coefficient=ve.coefficient)}),[fe,de].forEach(function(ve){ve.connected_segments.push({segment_id:F,reaction_id:A})}),N=v.nodes[D.from_node_id],O=v.nodes[D.to_node_id],(N.node_type=="metabolite"||O.node_type=="metabolite")&&(W=G.c_plus_c(N,G.c_times_scalar(G.c_minus_c(O,N),.5)),D.b1===null&&(D.b1=W),D.b2===null&&(D.b2=W))},D,N,O,W;for(var F in E.segments)I();M.forEach(function(Q){delete E.segments[Q]})}if(u)for(var re in v.text_labels){var q=v.text_labels[re];v.search_index.insert("l"+re,{name:q.text,data:{type:"text_label",text_label_id:re}})}v.beziers=Fm(v.reactions),v.largest_ids.reactions=Y(v.reactions),v.largest_ids.nodes=Y(v.nodes),v.largest_ids.text_labels=Y(v.text_labels);var P=0;for(var J in v.reactions)P=Y(v.reactions[J].segments,P);return v.largest_ids.segments=P,v.apply_reaction_data_to_map(null),v.apply_metabolite_data_to_map(null),v.apply_gene_data_to_map(null),v;function Y(Q,fe){return ge.isUndefined(fe)&&(fe=0),ge.isUndefined(Q)?fe:Math.max.apply(null,Object.keys(Q).map(function(de){return parseInt(de)}).concat([fe]))}}}])}();const Lf=t=>()=>t;function V2(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function G2(t){t.stopImmediatePropagation()}function Rf(t){t.preventDefault(),t.stopImmediatePropagation()}var Jm={name:"drag"},Ff={name:"space"},Xi={name:"handle"},Zi={name:"center"};const{abs:$m,max:Dt,min:Ot}=Math;function ev(t){return[+t[0],+t[1]]}function jf(t){return[ev(t[0]),ev(t[1])]}var Uf={name:"x",handles:["w","e"].map(Ia),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Wf={name:"y",handles:["n","s"].map(Ia),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},H2={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ia),input:function(t){return t==null?null:jf(t)},output:function(t){return t}},qn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tv={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nv={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Q2={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},X2={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ia(t){return{type:t}}function Z2(t){return!t.ctrlKey&&!t.button}function q2(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function K2(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yf(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function J2(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function rv(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function $2(){return eD(H2)}function eD(t){var e=q2,n=Z2,r=K2,i=!0,o=nl("start","brush","end"),a=6,s;function l(y){var A=y.property("__brush",m).selectAll(".overlay").data([Ia("overlay")]);A.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qn.overlay).merge(A).each(function(){var k=Yf(this).extent;ze(this).attr("x",k[0][0]).attr("y",k[0][1]).attr("width",k[1][0]-k[0][0]).attr("height",k[1][1]-k[0][1])}),y.selectAll(".selection").data([Ia("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var E=y.selectAll(".handle").data(t.handles,function(k){return k.type});E.exit().remove(),E.enter().append("rect").attr("class",function(k){return"handle handle--"+k.type}).attr("cursor",function(k){return qn[k.type]}),y.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(r).on("touchstart.brush",p).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(y,A,E){y.tween?y.on("start.brush",function(k){c(this,arguments).beforestart().start(k)}).on("interrupt.brush end.brush",function(k){c(this,arguments).end(k)}).tween("brush",function(){var k=this,x=k.__brush,M=c(k,arguments),I=x.selection,D=t.input(typeof A=="function"?A.apply(this,arguments):A,x.extent),N=Zs(I,D);function O(W){x.selection=W===1&&D===null?null:N(W),u.call(k),M.brush()}return I!==null&&D!==null?O:O(1)}):y.each(function(){var k=this,x=arguments,M=k.__brush,I=t.input(typeof A=="function"?A.apply(k,x):A,M.extent),D=c(k,x).beforestart();Vi(k),M.selection=I===null?null:I,u.call(k),D.start(E).brush(E).end(E)})},l.clear=function(y,A){l.move(y,null,A)};function u(){var y=ze(this),A=Yf(this).selection;A?(y.selectAll(".selection").style("display",null).attr("x",A[0][0]).attr("y",A[0][1]).attr("width",A[1][0]-A[0][0]).attr("height",A[1][1]-A[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(E){return E.type[E.type.length-1]==="e"?A[1][0]-a/2:A[0][0]-a/2}).attr("y",function(E){return E.type[0]==="s"?A[1][1]-a/2:A[0][1]-a/2}).attr("width",function(E){return E.type==="n"||E.type==="s"?A[1][0]-A[0][0]+a:a}).attr("height",function(E){return E.type==="e"||E.type==="w"?A[1][1]-A[0][1]+a:a})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,A,E){var k=y.__brush.emitter;return k&&(!E||!k.clean)?k:new h(y,A,E)}function h(y,A,E){this.that=y,this.args=A,this.state=y.__brush,this.active=0,this.clean=E}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,A){return this.starting?(this.starting=!1,this.emit("start",y,A)):this.emit("brush",y),this},brush:function(y,A){return this.emit("brush",y,A),this},end:function(y,A){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,A)),this},emit:function(y,A,E){var k=ze(this.that).datum();o.call(y,this.that,new V2(y,{sourceEvent:A,target:l,selection:t.output(this.state.selection),mode:E,dispatch:o}),k)}};function p(y){if(s&&!y.touches||!n.apply(this,arguments))return;var A=this,E=y.target.__data__.type,k=(i&&y.metaKey?E="overlay":E)==="selection"?Jm:i&&y.altKey?Zi:Xi,x=t===Wf?null:Q2[E],M=t===Uf?null:X2[E],I=Yf(A),D=I.extent,N=I.selection,O=D[0][0],W,F,re=D[0][1],q,P,J=D[1][0],Y,Q,fe=D[1][1],de,ve,ke=0,Ae=0,Ze,Me=x&&M&&i&&y.shiftKey,qe,ot,Ge=Array.from(y.touches||[y],Fe=>{const ht=Fe.identifier;return Fe=xt(Fe,A),Fe.point0=Fe.slice(),Fe.identifier=ht,Fe});Vi(A);var mt=c(A,arguments,!0).beforestart();if(E==="overlay"){N&&(Ze=!0);const Fe=[Ge[0],Ge[1]||Ge[0]];I.selection=N=[[W=t===Wf?O:Ot(Fe[0][0],Fe[1][0]),q=t===Uf?re:Ot(Fe[0][1],Fe[1][1])],[Y=t===Wf?J:Dt(Fe[0][0],Fe[1][0]),de=t===Uf?fe:Dt(Fe[0][1],Fe[1][1])]],Ge.length>1&&rr(y)}else W=N[0][0],q=N[0][1],Y=N[1][0],de=N[1][1];F=W,P=q,Q=Y,ve=de;var wr=ze(A).attr("pointer-events","none"),xr=wr.selectAll(".overlay").attr("cursor",qn[E]);if(y.touches)mt.moved=Vl,mt.ended=Va;else{var Yl=ze(y.view).on("mousemove.brush",Vl,!0).on("mouseup.brush",Va,!0);i&&Yl.on("keydown.brush",lh,!0).on("keyup.brush",uh,!0),bf(y.view)}u.call(A),mt.start(y,k.name);function Vl(Fe){for(const ht of Fe.changedTouches||[Fe])for(const Jr of Ge)Jr.identifier===ht.identifier&&(Jr.cur=xt(ht,A));if(Me&&!qe&&!ot&&Ge.length===1){const ht=Ge[0];$m(ht.cur[0]-ht[0])>$m(ht.cur[1]-ht[1])?ot=!0:qe=!0}for(const ht of Ge)ht.cur&&(ht[0]=ht.cur[0],ht[1]=ht.cur[1]);Ze=!0,Rf(Fe),rr(Fe)}function rr(Fe){const ht=Ge[0],Jr=ht.point0;var An;switch(ke=ht[0]-Jr[0],Ae=ht[1]-Jr[1],k){case Ff:case Jm:{x&&(ke=Dt(O-W,Ot(J-Y,ke)),F=W+ke,Q=Y+ke),M&&(Ae=Dt(re-q,Ot(fe-de,Ae)),P=q+Ae,ve=de+Ae);break}case Xi:{Ge[1]?(x&&(F=Dt(O,Ot(J,Ge[0][0])),Q=Dt(O,Ot(J,Ge[1][0])),x=1),M&&(P=Dt(re,Ot(fe,Ge[0][1])),ve=Dt(re,Ot(fe,Ge[1][1])),M=1)):(x<0?(ke=Dt(O-W,Ot(J-W,ke)),F=W+ke,Q=Y):x>0&&(ke=Dt(O-Y,Ot(J-Y,ke)),F=W,Q=Y+ke),M<0?(Ae=Dt(re-q,Ot(fe-q,Ae)),P=q+Ae,ve=de):M>0&&(Ae=Dt(re-de,Ot(fe-de,Ae)),P=q,ve=de+Ae));break}case Zi:{x&&(F=Dt(O,Ot(J,W-ke*x)),Q=Dt(O,Ot(J,Y+ke*x))),M&&(P=Dt(re,Ot(fe,q-Ae*M)),ve=Dt(re,Ot(fe,de+Ae*M)));break}}Q<F&&(x*=-1,An=W,W=Y,Y=An,An=F,F=Q,Q=An,E in tv&&xr.attr("cursor",qn[E=tv[E]])),ve<P&&(M*=-1,An=q,q=de,de=An,An=P,P=ve,ve=An,E in nv&&xr.attr("cursor",qn[E=nv[E]])),I.selection&&(N=I.selection),qe&&(F=N[0][0],Q=N[1][0]),ot&&(P=N[0][1],ve=N[1][1]),(N[0][0]!==F||N[0][1]!==P||N[1][0]!==Q||N[1][1]!==ve)&&(I.selection=[[F,P],[Q,ve]],u.call(A),mt.brush(Fe,k.name))}function Va(Fe){if(G2(Fe),Fe.touches){if(Fe.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Af(Fe.view,Ze),Yl.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);wr.attr("pointer-events","all"),xr.attr("cursor",qn.overlay),I.selection&&(N=I.selection),J2(N)&&(I.selection=null,u.call(A)),mt.end(Fe,k.name)}function lh(Fe){switch(Fe.keyCode){case 16:{Me=x&&M;break}case 18:{k===Xi&&(x&&(Y=Q-ke*x,W=F+ke*x),M&&(de=ve-Ae*M,q=P+Ae*M),k=Zi,rr(Fe));break}case 32:{(k===Xi||k===Zi)&&(x<0?Y=Q-ke:x>0&&(W=F-ke),M<0?de=ve-Ae:M>0&&(q=P-Ae),k=Ff,xr.attr("cursor",qn.selection),rr(Fe));break}default:return}Rf(Fe)}function uh(Fe){switch(Fe.keyCode){case 16:{Me&&(qe=ot=Me=!1,rr(Fe));break}case 18:{k===Zi&&(x<0?Y=Q:x>0&&(W=F),M<0?de=ve:M>0&&(q=P),k=Xi,rr(Fe));break}case 32:{k===Ff&&(Fe.altKey?(x&&(Y=Q-ke*x,W=F+ke*x),M&&(de=ve-Ae*M,q=P+Ae*M),k=Zi):(x<0?Y=Q:x>0&&(W=F),M<0?de=ve:M>0&&(q=P),k=Xi),xr.attr("cursor",qn[E]),rr(Fe));break}default:return}Rf(Fe)}}function g(y){c(this,arguments).moved(y)}function v(y){c(this,arguments).ended(y)}function m(){var y=this.__brush||{selection:null};return y.extent=jf(e.apply(this,arguments)),y.dim=t,y}return l.extent=function(y){return arguments.length?(e=typeof y=="function"?y:Lf(jf(y)),l):e},l.filter=function(y){return arguments.length?(n=typeof y=="function"?y:Lf(!!y),l):n},l.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Lf(!!y),l):r},l.handleSize=function(y){return arguments.length?(a=+y,l):a},l.keyModifiers=function(y){return arguments.length?(i=!!y,l):i},l.on=function(){var y=o.on.apply(o,arguments);return y===o?l:y},l}function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function tD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iD(r.key),r)}}function rD(t,e,n){return e&&nD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iD(t){var e=oD(t,"string");return Pa(e)=="symbol"?e:e+""}function oD(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aD=function(){function t(e,n,r,i){tD(this,t),this.brushSel=e.append("g").attr("id","brush-container");var o=this.brushSel.node(),a=e.select(i).node().nextSibling;o!==a&&o.parentNode.insertBefore(o,a),this.enabled=n,this.map=r}return rD(t,[{key:"brushIsEnabled",value:function(){return this.map.sel.select(".brush").empty()}},{key:"toggle",value:function(n){n===void 0&&(n=!this.enabled),n?this.setupSelectionBrush():this.brushSel.selectAll("*").remove()}},{key:"turnOffCrosshair",value:function(n){n.selectAll("rect").attr("cursor",null)}},{key:"setupSelectionBrush",value:function(){var n=this,r=this.map,i=this.brushSel,o=r.sel.selectAll("#nodes,#text-labels"),a=r.canvas.sizeAndLocation(),s=a.width,l=a.height,u=a.x,c=a.y,h=this.turnOffCrosshair.bind(this);i.selectAll("*").remove();var p=!1,g=$2().extent([[u,c],[u+s,c+l]]).on("start",function(){n.turnOffCrosshair(i),r.settings.get("hide_secondary_metabolites")&&(r.settings.set("hide_secondary_metabolites",!1),r.draw_everything(),r.set_status("Showing secondary metabolites. You can hide them again in Settings.",2e3))}).on("brush",function(v){var m=v.shiftKey,y=rv(this);if(y!==null){var A=m?o.selectAll(".node:not(.selected),.text-label:not(.selected)"):o.selectAll(".node,.text-label");A.classed("selected",function(E){var k=E.x,x=E.y;return y[0][0]<=k&&k<y[1][0]&&y[0][1]<=x&&x<y[1][1]})}}).on("end",function(){h(i);var v=rv(this);v===null?p?p=!1:r.select_none():(p=!0,i.call(g.move,null))});i.call(g),h(i)}}])}();function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function sD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cD(r.key),r)}}function uD(t,e,n){return e&&lD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cD(t){var e=fD(t,"string");return Na(e)=="symbol"?e:e+""}function fD(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yl(t,e){return _D(t)||pD(t,e)||dD(t,e)||hD()}function hD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dD(t,e){if(t){if(typeof t=="string")return iv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iv(t,e):void 0}}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pD(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _D(t){if(Array.isArray(t))return t}function gD(t,e){var n={savedValue:null,currentValue:null,lastStatus:null},r=Yo(t,e.toProperty(null)).scan(n,function(i,o){var a=i.savedValue,s=i.currentValue,l=i.lastStatus,u=yl(o,2),c=u[0],h=u[1],p=l!==h;return p&&h==="hold"?{savedValue:s,currentValue:s,lastStatus:h}:!p&&h==="hold"?{savedValue:a,currentValue:c,lastStatus:h}:p&&h==="abandon"?{savedValue:null,currentValue:a,lastStatus:h}:p&&h==="accept"?{savedValue:null,currentValue:s,lastStatus:h}:{savedValue:null,currentValue:c,lastStatus:h}}).skip(1).map(function(i){var o=i.currentValue;return o}).skipDuplicates().toEventStream();return r}var ov=function(){function t(e,n){var r=this;sD(this,t),this._options=e,this.statusBus=new ac;var i=ge.chain(e).mapObject(function(a,s){var l=ge.contains(n,s),u=r.createSetting(s,a,l),c=u.bus,h=u.stream,p=u.acceptedStream;return[c,h,p]}).pairs().map(function(a){var s=yl(a,2),l=s[0],u=yl(s[1],3),c=u[0],h=u[1],p=u[2];return[[l,c],[l,h],[l,p]]}).unzip().map(function(a){return ge.object(a)}).value(),o=yl(i,3);this.busses=o[0],this.streams=o[1],this.acceptedStreams=o[2]}return uD(t,[{key:"createSetting",value:function(n,r,i){var o=this,a=new ac,s=i?gD(a,this.statusBus):a.toEventStream(),l=s.sampledBy(this.statusBus.filter(function(u){return u==="accept"||u==="abandon"})).merge(s.filter(this.statusBus.map(function(u){return u==="accept"}).toProperty(!0)));return s.onValue(function(u){o._options[n]=u}),a.push(r),{bus:a,stream:s,acceptedStream:l}}},{key:"set_conditional",value:function(n,r){return console.warn("set_conditional is deprecated. Use Settings.set() instead"),this.set(n,r)}},{key:"set",value:function(n,r){if(!(n in this.busses))throw new Error("Invalid setting name ".concat(n));this.busses[n].push(r)}},{key:"get_option",value:function(n){return console.warn("get_option is deprecated. Use Settings.get() instead"),this.get(n)}},{key:"get",value:function(n){return this._options[n]}},{key:"holdChanges",value:function(){this.statusBus.push("hold")}},{key:"abandonChanges",value:function(){this.statusBus.push("abandon")}},{key:"acceptChanges",value:function(){this.statusBus.push("accept")}}])}();function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function mD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bD(r.key),r)}}function yD(t,e,n){return e&&vD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bD(t){var e=AD(t,"string");return La(e)=="symbol"?e:e+""}function AD(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wD=function(){function t(e,n,r){mD(this,t);var i=e.append("div").attr("id","text-edit-input");this.placedDiv=vf(i,n),this.placedDiv.hide(),this.input=i.append("input"),this.map=n,this.setUpMapCallbacks(n),this.zoomContainer=r,this.setUpZoomCallbacks(r),this.isNew=!1}return yD(t,[{key:"setUpMapCallbacks",value:function(n){var r=this;n.callback_manager.set("edit_text_label.text_edit_input",function(i,o){r.show(i,o)}),n.callback_manager.set("new_text_label.text_edit_input",function(i){r.activeTarget!==null&&r._acceptChanges(r.activeTarget.target),r.hide(),r._addAndEdit(i)}),n.callback_manager.set("hide_text_label_editor.text_edit_input",function(){r.hide()})}},{key:"setUpZoomCallbacks",value:function(n){var r=this;n.callbackManager.set("zoom.text_edit_input",function(){r.activeTarget&&r._acceptChanges(r.activeTarget.target),r.is_visible()&&r.hide()}),n.callbackManager.set("go_to.text_edit_input",function(){r.activeTarget&&r._acceptChanges(r.activeTarget.target),r.is_visible()&&r.hide()})}},{key:"is_visible",value:function(){return this.placedDiv.is_visible()}},{key:"show",value:function(n,r){var i=this;this.activeTarget&&this._acceptChanges(this.activeTarget.target),this.activeTarget={target:n,coords:r},n.each(function(o){i.input.node().value=o.text}),this.placedDiv.place(r),this.input.node().focus(),this.clearEscape=this.map.key_manager.addEscapeListener(function(){i._acceptChanges(n),i.hide()},!0),this.clearEnter=this.map.key_manager.addEnterListener(function(){i._acceptChanges(n),i.hide()},!0)}},{key:"hide",value:function(){this.isNew=!1,this.placedDiv.hide(),this.input.attr("value",""),this.activeTarget=null,this.clearEscape&&this.clearEscape(),this.clearEscape=null,this.clearEnter&&this.clearEnter(),this.clearEnter=null}},{key:"_acceptChanges",value:function(n){var r=this,i=this.input.node().value;if(i==="")n.each(function(a){var s={};s[a.text_label_id]=r.map.text_labels[a.text_label_id],r.map.delete_selectable({},s,!0)});else{var o=[];n.each(function(a){r.map.edit_text_label(a.text_label_id,i,!0,r.isNew),o.push(a.text_label_id)})}}},{key:"_addAndEdit",value:function(n){this.isNew=!0;var r=this.map.new_text_label(n,""),i=this.map.sel.select("#text-labels").selectAll(".text-label").filter(function(o){return o.text_label_id===r});i.select("text").classed("edit-text-cursor",!0),this.show(i,n)}}])}();function qi(t){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(null,arguments)}function xD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ED(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function CD(t,e,n){return e&&ED(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kD(t){var e=MD(t,"string");return qi(e)=="symbol"?e:e+""}function MD(t,e){if(qi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BD(t,e,n){return e=bl(e),SD(t,av()?Reflect.construct(e,n||[],bl(t).constructor):e.apply(t,n))}function SD(t,e){if(e&&(qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TD(t)}function TD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function av(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(av=function(){return!!t})()}function bl(t){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bl(t)}function DD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gf(t,e)}function Gf(t,e){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gf(t,e)}var OD=function(t){function e(n){var r;return xD(this,e),r=BD(this,e,[n]),r.state={},r}return DD(e,t),CD(e,[{key:"componentDidMount",value:function(){var r=this;this.props.connectSetStateFn(function(i){return r.setState(i)})}},{key:"is_visible",value:function(){return this.state.display}},{key:"render",value:function(){var r=this;return this.state.display?B(this.props.component,Vf({setDisplay:function(o){return r.setState({display:o})},ref:this.props.refPassthrough},this.state)):null}}])}(Ct);function zD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;Lu(B(OD,{component:t,connectSetStateFn:n,ref:e,refPassthrough:i}),r,r.children.length>0?r.firstChild:void 0)}const Ra=zD;function Ki(t){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(t)}function ID(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LD(r.key),r)}}function ND(t,e,n){return e&&PD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LD(t){var e=RD(t,"string");return Ki(e)=="symbol"?e:e+""}function RD(t,e){if(Ki(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ki(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FD(t,e,n){return e=Al(e),jD(t,sv()?Reflect.construct(e,n||[],Al(t).constructor):e.apply(t,n))}function jD(t,e){if(e&&(Ki(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UD(t)}function UD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sv=function(){return!!t})()}function Al(t){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(t)}function WD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hf(t,e)}function Hf(t,e){return Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hf(t,e)}var YD=function(t){function e(n){var r;return ID(this,e),r=FD(this,e,[n]),r.setWrapperRef=r.setWrapperRef.bind(r),r.handleClickOutside=r.handleClickOutside.bind(r),r.state={visible:!1},r}return WD(e,t),ND(e,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handleClickOutside)}},{key:"setWrapperRef",value:function(r){this.wrapperRef=r}},{key:"handleClickOutside",value:function(r){this.wrapperRef&&!this.wrapperRef.contains(r.target)&&this.setState({visible:!1})}},{key:"render",value:function(){var r=this;return B("div",{className:"selector"},B("div",{className:["selectorTitle",this.props.disabled?"disabled":""].join(" "),ref:this.setWrapperRef,onClick:function(){r.props.disabled||r.setState({visible:!r.state.visible})}},"Preset Scale Selections",B("i",{className:"icon-sort-down"})),B("div",{className:"selectorMenu",style:this.state.visible?{display:"block"}:{display:"none"}},this.props.children.map(function(i){return i})))}}])}(Ct);const lv=YD;var VD=b(72),Kn=b.n(VD),GD=b(825),Jn=b.n(GD),HD=b(659),$n=b.n(HD),QD=b(56),er=b.n(QD),XD=b(540),tr=b.n(XD),ZD=b(113),nr=b.n(ZD),wl=b(965),Ji={};Ji.styleTagTransform=nr(),Ji.setAttributes=er(),Ji.insert=$n().bind(null,"head"),Ji.domAPI=Jn(),Ji.insertStyleElement=tr(),Kn()(wl.A,Ji),wl.A&&wl.A.locals&&wl.A.locals;function $i(t){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(t)}function qD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$D(r.key),r)}}function JD(t,e,n){return e&&KD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $D(t){var e=eO(t,"string");return $i(e)=="symbol"?e:e+""}function eO(t,e){if($i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tO(t,e,n){return e=xl(e),nO(t,uv()?Reflect.construct(e,n||[],xl(t).constructor):e.apply(t,n))}function nO(t,e){if(e&&($i(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rO(t)}function rO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uv=function(){return!!t})()}function xl(t){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xl(t)}function iO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qf(t,e)}function Qf(t,e){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qf(t,e)}var oO=function(t){function e(){return qD(this,e),tO(this,e,arguments)}return iO(e,t),JD(e,[{key:"setUpDrag",value:function(){var r=this;if(ze(this.base).select(".pickerBox").on("mousedown.drag",null),!this.props.disabled){var i=0,o=vn().on("start",function(a){i=a.x,r.props.focus&&r.props.focus()}).on("drag",function(a){r.props.type!=="value"&&r.props.onChange&&r.props.onChange("type","value");var s=a.x-i;i=a.x;var l=r.props.value+s/r.props.trackWidth*(r.props.max-r.props.min),u=Math.max(r.props.min,Math.min(r.props.max,l));r.props.onChange("value",u)}).container(function(){return r.base.parentNode.parentNode});ze(this.base).select(".pickerBox").call(o)}}},{key:"componentDidUpdate",value:function(){this.setUpDrag()}},{key:"componentDidMount",value:function(){this.setUpDrag()}},{key:"render",value:function(){var r=this;return B("div",{className:"picker",style:{left:"".concat(this.props.location*this.props.trackWidth,"px"),zIndex:this.props.zIndex}},this.props.showTrash&&B("div",{className:"trashDiv"},B("i",{className:"icon-trash-empty","aria-hidden":"true",onClick:function(){r.props.remove&&r.props.remove()}})),B("div",{className:"pickerBox",onClick:function(){r.props.focus&&r.props.focus()}}),B("div",{className:["pickerOptions",this.props.location>.8?"rightOptions":""].join(" ")},B("input",{type:"text",className:"option",value:this.props.disabled?"":this.props.type==="value"?parseFloat(this.props.value.toFixed(2)):"".concat(this.props.type," (").concat(parseFloat(this.props.value.toFixed(2)),")"),disabled:this.props.disabled,onInput:function(o){var a=parseFloat(o.target.value);isNaN(a)||r.props.onChange("value",a)},onFocus:function(o){o.target.select(),r.props.focus&&r.props.focus()}}),B("select",{className:"typePicker",value:this.props.type,onChange:function(o){r.props.onChange&&r.props.onChange("type",o.target.value)},disabled:this.props.disabled,onFocus:function(o){r.props.focus&&r.props.focus()}},B("option",{value:"value"},"Value"),B("option",{value:"min"},"Min"),B("option",{value:"mean"},"Mean"),B("option",{value:"Q1"},"Q1"),B("option",{value:"median"},"Median"),B("option",{value:"Q3"},"Q3"),B("option",{value:"max"},"Max")),B("div",{className:"colorOptions"},B("input",{type:"text",className:"colorText",onInput:function(o){r.props.onChange&&r.props.onChange("color",o.target.value)},onFocus:function(o){o.target.select(),r.props.focus&&r.props.focus()},value:this.props.color||"",disabled:this.props.disabled}),B("input",{type:"color",className:"colorWheel",onInput:function(o){r.props.onChange&&r.props.onChange("color",o.target.value)},onFocus:function(o){o.target.select(),r.props.focus&&r.props.focus()},value:this.props.color||"",disabled:this.props.disabled})),B("input",{type:"text",className:"option",onInput:function(o){r.props.onChange&&r.props.onChange("size",parseInt(o.target.value))},onFocus:function(o){o.target.select(),r.props.focus&&r.props.focus()},value:this.props.size,disabled:this.props.disabled}),this.props.duration&&B("input",{type:"text",className:"option",onInput:function(o){r.props.onChange&&r.props.onChange("duration",parseInt(o.target.value))},onFocus:function(o){o.target.select(),r.props.focus&&r.props.focus()},value:this.props.duration,disabled:this.props.disabled})))}}])}(Ct);const El=oO;var aO=b(894),eo=b.n(aO),Cl=b(342),to={};to.styleTagTransform=nr(),to.setAttributes=er(),to.insert=$n().bind(null,"head"),to.domAPI=Jn(),to.insertStyleElement=tr(),Kn()(Cl.A,to),Cl.A&&Cl.A.locals&&Cl.A.locals;function no(t){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(t)}function bn(t,e,n){return(e=hv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cv(t,e){return cO(t)||uO(t,e)||lO(t,e)||sO()}function sO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lO(t,e){if(t){if(typeof t=="string")return fv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fv(t,e):void 0}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function uO(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cO(t){if(Array.isArray(t))return t}function fO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hv(r.key),r)}}function dO(t,e,n){return e&&hO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hv(t){var e=pO(t,"string");return no(e)=="symbol"?e:e+""}function pO(t,e){if(no(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _O(t,e,n){return e=kl(e),gO(t,dv()?Reflect.construct(e,n||[],kl(t).constructor):e.apply(t,n))}function gO(t,e){if(e&&(no(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mO(t)}function mO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dv=function(){return!!t})()}function kl(t){return kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kl(t)}function vO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xf(t,e)}function Xf(t,e){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xf(t,e)}var ro=400,yO=function(t){function e(){return fO(this,e),_O(this,e,arguments)}return vO(e,t),dO(e,[{key:"sortScale",value:function(){var r=this,i=ge.sortBy(this.props.scale,function(o){return o.type==="value"?o.value:r.props.stats[o.type]});return i}},{key:"placePickers",value:function(){var r=this.props.stats,i=this.props.scale.reduce(function(u,c){var h=cv(u,2),p=h[0],g=h[1];return c.type==="value"?[Math.min(c.value,p),Math.max(c.value,g)]:[p,g]},[r.min,r.max]),o=cv(i,2),a=o[0],s=o[1],l=this.props.scale.map(function(u){var c=u.type==="value"?u.value:r[u.type];return(c-a)/(s-a)});return{pickerLocations:l,absoluteMax:s,absoluteMin:a}}},{key:"scaleChange",value:function(r,i,o){var a=null;i==="type"&&o!=="value"?(a=eo()(this.props.scale,bn({},r,bn(bn({},i,{$set:o}),"$unset",["value"]))),this.props.onChange(a)):i==="value"&&this.props.scale[r].type!=="value"?(a=eo()(this.props.scale,bn({},r,bn(bn({},i,{$set:o}),"type",{$set:"value"}))),this.props.onChange(a)):o==="value"?(a=eo()(this.props.scale,bn({},r,bn(bn({},i,{$set:o}),"$merge",{value:this.props.stats[this.props.scale[r].type]}))),this.props.onChange(a)):(!isNaN(parseFloat(o))||o[0]==="#"&&i==="color")&&(a=eo()(this.props.scale,bn({},r,bn({},i,{$set:o}))),this.props.onChange(a))}},{key:"addColorStop",value:function(r){var i=eo()(this.props.scale,{$push:[{type:"value",value:r.layerX/r.target.clientWidth*this.props.stats.max+(1-r.layerX/r.target.clientWidth)*this.props.stats.min,color:"#9696ff",size:20,duration:1}]});this.props.onChange(i)}},{key:"makeGradient",value:function(r,i){var o=this,a=this.sortScale(),s=a.length<2?[{type:"min",color:"#f1ecfa"},{type:"max",color:"#f1ecfa"}]:a;return s.map(function(l){var u=l.type==="value"?l.value:o.props.stats[l.type];return" ".concat(l.color," ").concat((u-r)/(i-r)*100,"%")}).toString()}},{key:"removeColorStop",value:function(r){var i=eo()(this.props.scale,{$splice:[[[r],1]]});this.props.onChange(i)}},{key:"render",value:function(){var r=this;if(!this.props.stats)return B("div",{className:"scaleEditor"},B("div",null,B("div",{className:"scaleTrack disabled",style:{width:ro}},this.props.type," data not loaded",B(El,{location:0,trackWidth:ro,disabled:!0}),B(El,{location:1,trackWidth:ro,disabled:!0}))),B("div",{className:"scaleLabels"},B("label",null,"Value:"),B("label",null,"Color:"),B("label",null,"Size:")),B("div",{className:"noDataStyle"},B("label",{className:"styleHeader"},"Styles for reactions with no data"),B("br",null),B("label",null,"Color:"),B("input",{type:"text",className:"colorInput",disabled:!0}),B("input",{type:"color",className:"colorWheel",disabled:!0}),B("label",null,"Size:"),B("input",{type:"text",className:"sizeInput",disabled:!0})));var i=this.placePickers(),o=i.pickerLocations,a=i.absoluteMax,s=i.absoluteMin,l=this.props.scale.map(function(u,c){if(u.type!=="value")return B(El,{trackWidth:ro,type:u.type,location:o[c],onChange:function(p,g){return r.scaleChange(c,p,g)},focus:function(){return r.setState({focusedPicker:c})},remove:function(){return r.removeColorStop(c)},min:s,max:a,value:r.props.stats[u.type],color:u.color,size:u.size,duration:u.duration,zIndex:r.state.focusedPicker===c?"2":"0",showTrash:r.props.scale.length>=3});if(u.value!=null)return B(El,{trackWidth:ro,type:u.type,location:o[c],onChange:function(p,g){return r.scaleChange(c,p,g)},focus:function(){return r.setState({focusedPicker:c})},remove:function(){return r.removeColorStop(c)},min:s,max:a,value:u.value,color:u.color,size:u.size,duration:u.duration,zIndex:r.state.focusedPicker===c?"2":"0",showTrash:r.props.scale.length>=3})});return B("div",{className:"scaleEditor"},B("div",null,B("i",{className:"settingsTip"},"To add a color stop to the scale, click the gradient"),B("div",{className:"scaleTrack",style:{width:ro}},B("div",{className:"gradient",onClick:function(c){return r.addColorStop(c)},style:{background:"linear-gradient(to right,".concat(this.makeGradient(s,a),")")}}),l)),B("div",{className:"scaleLabels"},B("label",null,"Value:"),B("label",null,"Color:"),B("label",null,"Size:"),this.props.type==="Reaction"&&B("label",{title:"The seconds a reaction animation will last. The bigger the number, the slower the animation. And number must be greater than 0."},"Speed:")),B("div",{className:"noDataStyle"},B("label",{className:"styleHeader"},"Styles for reactions with no data"),B("br",null),B("label",null,"Color:"),B("input",{type:"text",className:"colorInput",value:this.props.noDataColor,onInput:function(c){return r.props.onNoDataColorChange(c.target.value)}}),B("input",{type:"color",className:"colorWheel",value:this.props.noDataColor,onInput:function(c){return r.props.onNoDataColorChange(c.target.value)}}),B("label",null,"Size:"),B("input",{type:"text",className:"sizeInput",value:this.props.noDataSize,onInput:function(c){return r.props.onNoDataSizeChange(parseFloat(c.target.value))}})))}}])}(Ct);const pv=yO;function io(t){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(t)}function bO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xO(r.key),r)}}function wO(t,e,n){return e&&AO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xO(t){var e=EO(t,"string");return io(e)=="symbol"?e:e+""}function EO(t,e){if(io(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CO(t,e,n){return e=Ml(e),kO(t,_v()?Reflect.construct(e,n||[],Ml(t).constructor):e.apply(t,n))}function kO(t,e){if(e&&(io(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MO(t)}function MO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_v=function(){return!!t})()}function Ml(t){return Ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ml(t)}function BO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zf(t,e)}function Zf(t,e){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Zf(t,e)}var SO=function(t){function e(n){var r;bO(this,e),r=CO(this,e,[n]);var i=[];if(n.scale)for(var o=0;o<n.scale.length;o++)i.push(n.scale[o].color);return r.state={colors:i},r}return BO(e,t),wO(e,[{key:"render",value:function(){var r=this;return B("div",{className:"scaleSelection",onClick:function(){return r.props.onClick()}},B("div",null,this.props.name),B("div",{className:"scaleColors"},this.state.colors.map(function(i){return B("i",{className:"icon-blank",style:{color:i}})})))}}])}(Ct);const gv=SO;var Bl=b(605),oo={};oo.styleTagTransform=nr(),oo.setAttributes=er(),oo.insert=$n().bind(null,"head"),oo.domAPI=Jn(),oo.insertStyleElement=tr(),Kn()(Bl.A,oo),Bl.A&&Bl.A.locals&&Bl.A.locals;function ao(t){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(t)}function Fa(t){return zO(t)||OO(t)||DO(t)||TO()}function TO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DO(t,e){if(t){if(typeof t=="string")return qf(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(t,e):void 0}}function OO(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zO(t){if(Array.isArray(t))return qf(t)}function qf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LO(r.key),r)}}function NO(t,e,n){return e&&PO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LO(t){var e=RO(t,"string");return ao(e)=="symbol"?e:e+""}function RO(t,e){if(ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FO(t,e,n){return e=Sl(e),jO(t,mv()?Reflect.construct(e,n||[],Sl(t).constructor):e.apply(t,n))}function jO(t,e){if(e&&(ao(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UO(t)}function UO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mv=function(){return!!t})()}function Sl(t){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sl(t)}function WO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kf(t,e)}function Kf(t,e){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kf(t,e)}var YO=function(t){function e(){return IO(this,e),FO(this,e,arguments)}return WO(e,t),NO(e,[{key:"componentWillMount",value:function(){var r=this;this.props.settings.holdChanges(),this.setState({clearEscape:this.props.map.key_manager.addEscapeListener(function(){return r.abandonChanges()},!0),clearEnter:this.props.map.key_manager.addKeyListener(["enter"],function(){return r.saveChanges()},!0)})}},{key:"componentWillUnmount",value:function(){this.state.clearEscape(),this.state.clearEnter()}},{key:"abandonChanges",value:function(){this.props.settings.abandonChanges(),this.props.setDisplay(!1)}},{key:"saveChanges",value:function(){this.props.settings.acceptChanges(),this.props.setDisplay(!1)}},{key:"handleStyle",value:function(r,i){var o=this.props.settings.get(i),a=o.indexOf(r);a===-1?this.props.settings.set(i,[].concat(Fa(o),[r])):this.props.settings.set(i,[].concat(Fa(o.slice(0,a)),Fa(o.slice(a+1))))}},{key:"render",value:function(){var r=this,i=this.props.settings,o=i.get("enable_tooltips")||[],a=this.props.map.get_data_statistics();return B("div",{className:"settingsBackground"},B("div",{className:"settingsBoxContainer"},B("button",{className:"discardChanges btn",onClick:function(){return r.abandonChanges()}},B("i",{className:"icon-cancel","aria-hidden":"true"})),B("button",{className:"saveChanges btn",onClick:function(){return r.saveChanges()}},B("i",{className:"icon-ok","aria-hidden":"true"})),B("div",{className:"settingsBox"},B("div",{className:"settingsTip"},B("i",null,"Tip: Hover over an option to see more details about it.")),B("hr",null),B("div",{className:"title"},"View and build options"),B("div",{className:"settingsContainer"},B("table",{className:"radioSelection"},B("tr",{title:"The identifiers that are show in the reaction, gene, and metabolite labels on the map."},B("td",{className:"optionLabel"},"Identifiers:"),B("td",{className:"singleLine"},B("label",{className:"optionGroup"},B("input",{type:"radio",name:"identifiers",onClick:function(){i.set("identifiers_on_map","bigg_id")},checked:i.get("identifiers_on_map")==="bigg_id"}),"ID's"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"identifiers",onClick:function(){i.set("identifiers_on_map","name")},checked:i.get("identifiers_on_map")==="name"}),"Descriptive names")))),B("table",{className:"radioSelection"},B("tr",{title:"Open the item in VMH or BiGG Models when the label is clicked"},B("td",{className:"optionLabel"},"Open in vmh:"),B("td",{className:"singleLine"},B("label",{className:"optionGroup"},B("input",{type:"radio",name:"open_in_vmh",onClick:function(){i.set("open_in_vmh",!0),window.localStorage.setItem("open_in_vmh",!0)},checked:i.get("open_in_vmh")}),"vmh"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"open_in_vmh",onClick:function(){i.set("open_in_vmh",!1),window.localStorage.setItem("open_in_vmh",!1)},checked:!i.get("open_in_vmh")}),"BiGG")))),B("table",{className:"radioSelection"},B("tr",{title:"The "},B("td",{className:"optionLabel",title:"Animation Line Style"},"Line Style:"),B("td",{className:"singleLine"},B("label",{className:"optionGroup"},B("input",{type:"radio",name:"animation_line_style",onClick:function(){i.set("animation_line_style","dashed")},checked:i.get("animation_line_style")==="dashed"}),"Dash"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"animation_line_style",onClick:function(){i.set("animation_line_style","dotted")},checked:i.get("animation_line_style")==="dotted"}),"Dot")))),B("label",{title:"If checked, then the scroll wheel and trackpad will control zoom rather than pan."},B("input",{type:"checkbox",onClick:function(){i.get("scroll_behavior")==="zoom"?i.set("scroll_behavior","pan"):i.set("scroll_behavior","zoom")},checked:i.get("scroll_behavior")==="zoom"}),"Scroll to zoom (instead of scroll to pan)"),B("label",{title:"If checked, then only the primary metabolites will be displayed."},B("input",{type:"checkbox",onClick:function(){return i.set("hide_secondary_metabolites",!i.get("hide_secondary_metabolites"))},checked:i.get("hide_secondary_metabolites")}),"Hide secondary metabolites"),B("label",{title:"If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)"},B("input",{type:"checkbox",onClick:function(){return i.set("show_gene_reaction_rules",!i.get("show_gene_reaction_rules"))},checked:i.get("show_gene_reaction_rules")}),"Show gene reaction rules"),B("label",{title:"If checked, hide all reaction, gene, and metabolite labels"},B("input",{type:"checkbox",onClick:function(){return i.set("hide_all_labels",!i.get("hide_all_labels"))},checked:i.get("hide_all_labels")}),"Hide reaction, gene, and metabolite labels"),B("label",{title:"If checked, then allow duplicate reactions during model building."},B("input",{type:"checkbox",onClick:function(){return i.set("allow_building_duplicate_reactions",!i.get("allow_building_duplicate_reactions"))},checked:i.get("allow_building_duplicate_reactions")}),"Allow duplicate reactions"),B("label",{title:"If checked, then highlight in red all the reactions on the map that are not present in the loaded model."},B("input",{type:"checkbox",onClick:function(){i.set("highlight_missing",!i.get("highlight_missing"))},checked:i.get("highlight_missing")}),"Highlight reactions not in model"),B("label",{title:"If checked, then the reactions with no flux will be hidden from the map when you loaded the reaction data."},B("input",{type:"checkbox",onClick:function(){i.set("hide_no_data_reaction",!i.get("hide_no_data_reaction"))},checked:i.get("hide_no_data_reaction")}),"Hide no data reactions"),B("label",{title:"If true, then use CSS3 3D transforms to speed up panning and zooming."},B("input",{type:"checkbox",onClick:function(){i.set("use_3d_transform",!i.get("use_3d_transform"))},checked:i.get("use_3d_transform")}),"Use 3D transform for responsive panning and zooming"),B("table",{style:{marginTop:"5px"}},B("tr",{title:"Determines over which elements tooltips will display for reactions, metabolites, and genes"},B("td",null,"Show tooltips over:"),B("td",{className:"singleLine"},B("label",{className:"tooltipOption",title:"If checked, tooltips will display over the gene, reaction, and metabolite labels"},B("input",{type:"checkbox",onClick:function(){var l="label",u=ge.contains(o,l)?ge.filter(o,function(c){return c!==l}):[].concat(Fa(o),[l]);i.set("enable_tooltips",u)},checked:ge.contains(o,"label")}),"Labels"),B("label",{className:"tooltipOption",title:"If checked, tooltips will display over the reaction line segments and metabolite circles"},B("input",{type:"checkbox",onClick:function(){var l="object",u=ge.contains(o,l)?ge.filter(o,function(c){return c!==l}):[].concat(Fa(o),[l]);i.set("enable_tooltips",u)},checked:ge.contains(o,"object")}),"Objects"))))),B("div",{className:"settingsTip",style:{marginTop:"16px"}},B("i",null,"Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).")),B("hr",null),B("div",{className:"scaleTitle"},B("div",{className:"title"},"Reactions"),B(lv,{disabled:a.reaction===null},Object.values(ge.mapObject(Qi,function(s,l){return B(gv,{name:l,scale:s,onClick:function(){i.set("reaction_scale_preset",l)}})})))),B(pv,{scale:i.get("reaction_scale"),settings:i,type:"Reaction",stats:a.reaction,noDataColor:i.get("reaction_no_data_color"),noDataSize:i.get("reaction_no_data_size"),onChange:function(l){i.set("reaction_scale",l)},onNoDataColorChange:function(l){i.set("reaction_no_data_color",l)},onNoDataSizeChange:function(l){i.set("reaction_no_data_size",l)},abs:i.get("reaction_styles").indexOf("abs")>-1}),B("div",{className:"subheading"},"Reaction or Gene data"),B("table",{className:"radioSelection"},B("tr",null,B("td",{className:"optionLabel",title:"Options for reactions data"},"Options:"),B("td",null,B("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of reactions on the map"},B("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return r.handleStyle("abs","reaction_styles")},checked:ge.contains(i.get("reaction_styles"),"abs"),disabled:a.reaction===null}),"Absolute value"),B("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the reaction data"},B("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return r.handleStyle("size","reaction_styles")},checked:ge.contains(i.get("reaction_styles"),"size"),disabled:a.reaction===null}),"Size"),B("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the reaction data"},B("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return r.handleStyle("color","reaction_styles")},checked:ge.contains(i.get("reaction_styles"),"color"),disabled:a.reaction===null}),"Color"),B("br",null),B("label",{className:"optionGroup",title:"If checked, then show data values in the reaction labels"},B("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return r.handleStyle("text","reaction_styles")},checked:ge.contains(i.get("reaction_styles"),"text"),disabled:a.reaction===null}),"Text (Show data in label)"))),B("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},B("td",{className:"optionLabel"},"Comparison:"),B("td",null,B("label",{className:"optionGroup"},B("input",{type:"radio",name:"reactionCompare",onClick:function(){return i.set("reaction_compare_style","fold")},checked:i.get("reaction_compare_style")==="fold",disabled:a.reaction===null}),"Fold Change"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"reactionCompare",onClick:function(){return i.set("reaction_compare_style","log2_fold")},checked:i.get("reaction_compare_style")==="log2_fold",disabled:a.reaction===null}),"Log2 (Fold Change)"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"reactionCompare",onClick:function(){return i.set("reaction_compare_style","diff")},checked:i.get("reaction_compare_style")==="diff",disabled:a.reaction===null}),"Difference")))),B("table",{className:"radioSelection"},B("tr",{title:"The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)"},B("td",{className:"optionLabelWide"},"Method for evaluating AND:"),B("td",null,B("label",{className:"optionGroup"},B("input",{type:"radio",name:"andMethod",onClick:function(){return i.set("and_method_in_gene_reaction_rule","mean")},checked:i.get("and_method_in_gene_reaction_rule")==="mean",disabled:a.reaction===null}),"Mean"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"andMethod",onClick:function(){return i.set("and_method_in_gene_reaction_rule","min")},checked:i.get("and_method_in_gene_reaction_rule")==="min",disabled:a.reaction===null}),"Min")))),B("hr",null),B("div",{className:"scaleTitle"},B("div",{className:"title"},"Metabolites"),B(lv,{disabled:a.metabolite===null},Object.values(ge.mapObject(Qi,function(s,l){return B(gv,{name:l,scale:s,onClick:function(){return i.set("metabolite_scale",s)}})})))),B(pv,{scale:i.get("metabolite_scale"),settings:i,type:"Metabolite",stats:a.metabolite,noDataColor:i.get("metabolite_no_data_color"),noDataSize:i.get("metabolite_no_data_size"),onChange:function(l){i.set("metabolite_scale",l)},onNoDataColorChange:function(l){i.set("metabolite_no_data_color",l)},onNoDataSizeChange:function(l){i.set("metabolite_no_data_size",l)},abs:ge.contains(i.get("metabolite_styles"),"abs")}),B("div",{className:"subheading"},"Metabolite data"),B("table",{className:"radioSelection"},B("tr",null,B("td",{className:"optionLabel",title:"Options for metabolite data"},"Options:"),B("td",null,B("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of metabolites on the map"},B("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return r.handleStyle("abs","metabolite_styles")},checked:ge.contains(i.get("metabolite_styles"),"abs"),disabled:a.metabolite===null}),"Absolute value"),B("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the metabolite data"},B("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return r.handleStyle("size","metabolite_styles")},checked:ge.contains(i.get("metabolite_styles"),"size"),disabled:a.metabolite===null}),"Size"),B("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the metabolite data"},B("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return r.handleStyle("color","metabolite_styles")},checked:ge.contains(i.get("metabolite_styles"),"color"),disabled:a.metabolite===null}),"Color"),B("br",null),B("label",{className:"optionGroup",title:"If checked, then show data values in the metabolite labels"},B("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return r.handleStyle("text","metabolite_styles")},checked:ge.contains(i.get("metabolite_styles"),"text"),disabled:a.metabolite===null}),"Text (Show data in label)"))),B("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},B("td",{className:"optionLabel"},"Comparison:"),B("td",null,B("label",{className:"optionGroup"},B("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return i.set("metabolite_compare_style","fold")},checked:i.get("metabolite_compare_style")==="fold",disabled:a.metabolite===null}),"Fold Change"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return i.set("metabolite_compare_style","log2_fold")},checked:i.get("metabolite_compare_style")==="log2_fold",disabled:a.metabolite===null}),"Log2 (Fold Change)"),B("label",{className:"optionGroup"},B("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return i.set("metabolite_compare_style","diff")},checked:i.get("metabolite_compare_style")==="diff",disabled:a.metabolite===null}),"Difference")))))))}}])}(Ct);const VO=YO;var Tl=b(248),so={};so.styleTagTransform=nr(),so.setAttributes=er(),so.insert=$n().bind(null,"head"),so.domAPI=Jn(),so.insertStyleElement=tr(),Kn()(Tl.A,so),Tl.A&&Tl.A.locals&&Tl.A.locals;function lo(t){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(t)}function GO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XO(r.key),r)}}function QO(t,e,n){return e&&HO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XO(t){var e=ZO(t,"string");return lo(e)=="symbol"?e:e+""}function ZO(t,e){if(lo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qO(t,e,n){return e=Dl(e),KO(t,vv()?Reflect.construct(e,n||[],Dl(t).constructor):e.apply(t,n))}function KO(t,e){if(e&&(lo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JO(t)}function JO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vv=function(){return!!t})()}function Dl(t){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dl(t)}function $O(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jf(t,e)}function Jf(t,e){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Jf(t,e)}var ez=function(t){function e(n){var r;return GO(this,e),r=qO(this,e,[n]),r.state={visible:null},r.setWrapperRef=r.setWrapperRef.bind(r),r.handleClickOutside=r.handleClickOutside.bind(r),r}return $O(e,t),QO(e,[{key:"componentWillMount",value:function(){this.setState({visible:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handleClickOutside)}},{key:"componentWillReceiveProps",value:function(r){this.setState({visible:r.visible})}},{key:"setWrapperRef",value:function(r){this.wrapperRef=r}},{key:"handleClickOutside",value:function(r){this.wrapperRef&&!this.wrapperRef.contains(r.target)&&this.setState({visible:!1})}},{key:"render",value:function(){var r=this;return B("li",{className:"dropdown",style:this.props.disabledEditing?{display:"none"}:{display:"block"}},B("div",{className:"dropdownButton",tabindex:"0",ref:this.setWrapperRef,onClick:function(){return r.setState({visible:!r.state.visible})}},this.props.name," ",B("i",{className:"icon-sort-down"})),B("ul",{className:"menu",style:this.state.visible?{display:"block"}:{display:"none"},id:this.props.rightMenu==="true"?"rightMenu":""},this.props.children.map(function(i){return i&&i.props.name==="divider"?B("li",{style:{height:"1px",backgroundColor:"#e5e5e5",padding:"0",margin:"8px 0"}}):i})))}}])}(Ct);const ja=ez;function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iz(r.key),r)}}function rz(t,e,n){return e&&nz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iz(t){var e=oz(t,"string");return uo(e)=="symbol"?e:e+""}function oz(t,e){if(uo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function az(t,e,n){return e=Ol(e),sz(t,yv()?Reflect.construct(e,n||[],Ol(t).constructor):e.apply(t,n))}function sz(t,e){if(e&&(uo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lz(t)}function lz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yv=function(){return!!t})()}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ol(t)}function uz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$f(t,e)}function $f(t,e){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$f(t,e)}var cz=function(t){function e(n){var r;return tz(this,e),r=az(this,e,[n]),r.assignKeyForInput=r.assignKeyForInput.bind(r),r}return uz(e,t),rz(e,[{key:"handleFileInput",value:function(r){var i=this,o=r.files[0],a=this.props.fileInputProcessor;if(a)a(o);else{var s=new window.FileReader;s.onload=function(){G.load_json_or_csv(o,Lt.csv_converter,function(l,u){return i.props.onClick(u)})},o!==void 0&&s.readAsText(o)}r.value=null}},{key:"assignKeyForInput",value:function(r){this.props.assignKey&&this.props.assignKey(function(){return r.click()})}},{key:"render",value:function(){var r=this,i=ge.contains(this.props.disabledButtons,this.props.name.replace(/ \(.*\)$/,""));return this.props.type==="load"?B("label",{className:"menuButton",tabindex:i?"-1":"0",id:i?"disabled":""},B("input",{type:"file",onChange:function(a){return r.handleFileInput(a.target)},accept:this.props.accept||".json,.csv",disabled:i,ref:this.assignKeyForInput}),this.props.name):this.props.checkMark?B("li",{className:"menuButton",tabindex:i?"-1":"0",onClick:this.props.onClick,id:i?"disabled":""},B("i",{className:"icon-ok","aria-hidden":"true"}," "),this.props.name):B("li",{className:"menuButton",tabindex:i?"-1":"0",onClick:i?null:this.props.onClick,id:i?"disabled":""},this.props.name)}}])}(Ct);const Ve=cz;function co(t){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(t)}function fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pz(r.key),r)}}function dz(t,e,n){return e&&hz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pz(t){var e=_z(t,"string");return co(e)=="symbol"?e:e+""}function _z(t,e){if(co(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(co(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gz(t,e,n){return e=zl(e),mz(t,bv()?Reflect.construct(e,n||[],zl(t).constructor):e.apply(t,n))}function mz(t,e){if(e&&(co(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vz(t)}function vz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bv=function(){return!!t})()}function zl(t){return zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zl(t)}function yz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eh(t,e)}function eh(t,e){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},eh(t,e)}var bz=function(t){function e(){return fz(this,e),gz(this,e,arguments)}return yz(e,t),dz(e,[{key:"componentWillMount",value:function(){var r=this;this.props.sel.selectAll(".escher-zoom-container").on("touchend.menuBar",function(){return r.setState({dropdownVisible:!1})}).on("click.menuBar",function(){return r.setState({dropdownVisible:!1})})}},{key:"componentWillUnmount",value:function(){this.props.sel.selectAll(".escher-zoom-container").on("touchend.menuBar",null).on("click.menuBar",null)}},{key:"render",value:function(){var r=this,i=this.props.settings.get("enable_keys"),o=this.props.settings.get("disabled_buttons"),a=this.props.map.beziers_enabled,s=this.props.settings.get("full_screen_button");return B("ul",{className:"menu-bar"},B(ja,{name:"Map",dropdownVisible:this.props.dropdownVisible},B(Ve,{name:"Save map JSON"+(i?" (Ctrl+S)":""),onClick:function(){return r.props.saveMap()},disabledButtons:o}),B(Ve,{name:"Load map JSON"+(i?" (Ctrl+O)":""),onClick:function(u){return r.props.loadMap(u)},assignKey:this.props.assignKeyLoadMap,type:"load",disabledButtons:o}),B(Ve,{name:"Import Background"+(i?" (Ctrl+I)":""),fileInputProcessor:function(u){return r.props.import_background(u)},accept:"image/*",type:"load",assignKey:this.props.assignKeyImportBackground,disabledButtons:o}),B(Ve,{name:"Clear Background"+(i?" (Ctrl+Shift+I)":""),onClick:function(){return r.props.clear_background()},disabledButtons:o}),B(Ve,{name:"Export as SVG"+(i?" (Ctrl+Shift+S)":""),onClick:function(){return r.props.save_svg()},disabledButtons:o}),B(Ve,{name:"Export as PNG"+(i?" (Ctrl+Shift+P)":""),onClick:function(){return r.props.save_png()},disabledButtons:o}),B(Ve,{name:"Export as GIF"+(i?" (Ctrl+Shift+G)":""),onClick:function(){return r.props.save_gif()},disabledButtons:o}),B(Ve,{name:"Clear map",onClick:function(){return r.props.clear_map()},disabledButtons:o})),B(ja,{name:"Model",dropdownVisible:this.props.dropdownVisible},B(Ve,{name:"Load COBRA model JSON"+(i?" (Ctrl+M)":""),onClick:function(u){return r.props.loadModel(u)},assignKey:this.props.assignKeyLoadModel,type:"load",disabledButtons:o}),B(Ve,{name:"Update names and gene reaction rules using model",onClick:function(){return r.props.updateRules()},disabledButtons:o}),B(Ve,{name:"Clear model",onClick:function(){return r.props.clearModel()},disabledButtons:o})),B(ja,{name:"Data",dropdownVisible:this.props.dropdownVisible},B(Ve,{name:"Load reaction data",onClick:function(u){return r.props.setReactionData(u)},type:"load",disabledButtons:o}),B(Ve,{name:"Clear reaction data",onClick:function(){return r.props.clearReactionData()},disabledButtons:o}),B("li",{name:"divider"}),B(Ve,{name:"Load gene data",onClick:function(u){return r.props.setGeneData(u)},type:"load",disabledButtons:o}),B(Ve,{name:"Clear gene data",onClick:function(){return r.props.clearGeneData()},disabledButtons:o}),B("li",{name:"divider"}),B(Ve,{name:"Load metabolite data",onClick:function(u){return r.props.setMetaboliteData(u)},type:"load",disabledButtons:o}),B(Ve,{name:"Clear metabolite data",onClick:function(){return r.props.clearMetaboliteData()},disabledButtons:o})),B(ja,{name:"Edit",rightMenu:"true",dropdownVisible:this.props.dropdownVisible,disabledEditing:!this.props.settings.get("enable_editing")},B(Ve,{name:"Pan mode"+(i?" (Z)":""),checkMark:this.props.mode==="zoom",onClick:function(){return r.props.setMode("zoom")},disabledButtons:o}),B(Ve,{name:"Select mode"+(i?" (V)":""),checkMark:this.props.mode==="brush",onClick:function(){return r.props.setMode("brush")},disabledButtons:o}),B(Ve,{name:"Add reaction mode"+(i?" (N)":""),checkMark:this.props.mode==="build",onClick:function(){return r.props.setMode("build")},disabledButtons:o}),B(Ve,{name:"Rotate mode"+(i?" (R)":""),checkMark:this.props.mode==="rotate",onClick:function(){return r.props.setMode("rotate")},disabledButtons:o}),B(Ve,{name:"Text mode"+(i?" (T)":""),checkMark:this.props.mode==="text",onClick:function(){return r.props.setMode("text")},disabledButtons:o}),B("li",{name:"divider"}),B(Ve,{name:"Delete"+(i?" (Del)":""),onClick:function(){return r.props.deleteSelected()},disabledButtons:o}),B(Ve,{name:"Undo"+(i?" (Ctrl+Z)":""),onClick:function(){return r.props.undo()},disabledButtons:o}),B(Ve,{name:"Redo"+(i?" (Ctrl+Shift+Z)":""),onClick:function(){return r.props.redo()},disabledButtons:o}),B("li",{name:"divider"}),B(Ve,{name:"Align vertical".concat(i?" (Alt+L)":""),onClick:this.props.align_vertical,disabledButtons:o}),B(Ve,{name:"Align horizontal".concat(i?" (Shift+Alt+L)":""),onClick:this.props.align_horizontal,disabledButtons:o}),B(Ve,{name:"Toggle primary/secondary"+(i?" (P)":""),onClick:function(){return r.props.togglePrimary()},disabledButtons:o}),B(Ve,{name:"Rotate reactant locations"+(i?" (C)":""),onClick:function(){return r.props.cyclePrimary()},disabledButtons:o}),B("li",{name:"divider"}),B(Ve,{name:"Select all"+(i?" (Ctrl+A)":""),onClick:function(){return r.props.selectAll()},disabledButtons:o}),B(Ve,{name:"Select none"+(i?" (Ctrl+Shift+A)":""),onClick:function(){return r.props.selectNone()},disabledButtons:o}),B(Ve,{name:"Invert selection",onClick:function(){return r.props.invertSelection()},disabledButtons:o})),B(ja,{name:"View",rightMenu:"true",dropdownVisible:this.props.dropdownVisible},B(Ve,{name:"Zoom in".concat(i?" (+)":""),onClick:function(){return r.props.zoom_in()},disabledButtons:o}),B(Ve,{name:"Zoom out".concat(i?" (-)":""),onClick:function(){return r.props.zoom_out()},disabledButtons:o}),B(Ve,{name:"Zoom to nodes".concat(i?" (0)":""),onClick:function(){return r.props.zoomExtentNodes()},disabledButtons:o}),B(Ve,{name:"Zoom to canvas".concat(i?" (1)":""),onClick:function(){return r.props.zoomExtentCanvas()},disabledButtons:o}),B(Ve,{name:"Find".concat(i?" (F)":""),onClick:function(){return r.props.search()},disabledButtons:o}),B(Ve,{name:"".concat(a?"Hide":"Show"," control points").concat(i?" (B)":""),onClick:function(){return r.props.toggleBeziers()},disabledButtons:o}),B("li",{name:"divider"}),s&&B(Ve,{name:"Full screen",onClick:function(){return r.props.full_screen()},checkMark:this.props.isFullScreen,disabledButtons:o}),s&&B("li",{name:"divider"}),B(Ve,{name:"Settings".concat(i?" (,)":""),onClick:function(){return r.props.renderSettingsMenu()},disabledButtons:o,type:"settings"})),B("div",{className:"switch-container"},B("label",{className:"switch tooltip"},B("input",{type:"checkbox",onClick:function(){r.props.settings.set("show_reaction_data_animation",!r.props.settings.get("show_reaction_data_animation")),r.props.settings.acceptChanges()},checked:this.props.settings.get("show_reaction_data_animation")}),B("span",{className:"slider"}),B("span",{className:"tooltiptext"},"Show flux visualization( animation NOT available in Safari)."))),B("a",{className:"helpButton",target:"#",href:"https://escher.readthedocs.org"},"?"))}}])}(Ct);const Az=bz;var Il=b(436),fo={};fo.styleTagTransform=nr(),fo.setAttributes=er(),fo.insert=$n().bind(null,"head"),fo.domAPI=Jn(),fo.insertStyleElement=tr(),Kn()(Il.A,fo),Il.A&&Il.A.locals&&Il.A.locals;function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function wz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cz(r.key),r)}}function Ez(t,e,n){return e&&xz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cz(t){var e=kz(t,"string");return ho(e)=="symbol"?e:e+""}function kz(t,e){if(ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mz(t,e,n){return e=Pl(e),Bz(t,Av()?Reflect.construct(e,n||[],Pl(t).constructor):e.apply(t,n))}function Bz(t,e){if(e&&(ho(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sz(t)}function Sz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Av(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Av=function(){return!!t})()}function Pl(t){return Pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pl(t)}function Tz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&th(t,e)}function th(t,e){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},th(t,e)}var Dz=function(t){function e(n){var r;return wz(this,e),r=Mz(this,e,[n]),r.state={current:0,searchItem:n.searchItem,counter:""},r}return Tz(e,t),Ez(e,[{key:"componentWillMount",value:function(){var r=this;this.setState({clearEscape:this.props.map.key_manager.addEscapeListener(function(){return r.close()},!0),clearNext:this.props.map.key_manager.addKeyListener(["enter","ctrl+g"],function(){return r.next()},!1),clearPrevious:this.props.map.key_manager.addKeyListener(["shift+enter","shift+ctrl+g"],function(){return r.previous()},!1)})}},{key:"componentDidMount",value:function(){this.inputRef.focus()}},{key:"componentWillUnmount",value:function(){this.state.clearEscape(),this.state.clearNext(),this.state.clearPrevious(),this.props.map.highlight(null)}},{key:"handleInput",value:function(r){var i=this.dropDuplicates(this.props.map.search_index.find(r)),o="";if(i===null||!r)this.props.map.highlight(null);else if(i.length===0)o="0 / 0",this.props.map.highlight(null);else{this.state.current>=i.length&&this.setState({current:0}),o="".concat(this.state.current+1,"/").concat(i.length);var a=i[this.state.current];if(a.type==="reaction")this.props.map.zoom_to_reaction(a.reaction_id),this.props.map.highlight_reaction(a.reaction_id);else if(a.type==="metabolite")this.props.map.zoom_to_node(a.node_id),this.props.map.highlight_node(a.node_id);else if(a.type==="text_label")this.props.map.zoom_to_text_label(a.text_label_id),this.props.map.highlight_text_label(a.text_label_id);else throw new Error("Bad search index data type: "+a.type)}this.setState({searchItem:r,current:0,counter:o,results:i})}},{key:"dropDuplicates",value:function(r){var i={metabolite:{type:"m",key:"node_id"},reaction:{type:"r",key:"reaction_id"},text_label:{type:"t",key:"text_label_id"}};return ge.uniq(r,function(o){var a=i[o.type],s=a.type,l=a.key;return"".concat(s).concat(o[l])})}},{key:"next",value:function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+1)%this.state.results.length)}},{key:"previous",value:function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+this.state.results.length-1)%this.state.results.length)}},{key:"update",value:function(r){this.setState({current:r,counter:"".concat(r+1,"/").concat(this.state.results.length)});var i=this.state.results[r];if(i.type==="reaction")this.props.map.zoom_to_reaction(i.reaction_id),this.props.map.highlight_reaction(i.reaction_id);else if(i.type==="metabolite")this.props.map.zoom_to_node(i.node_id),this.props.map.highlight_node(i.node_id);else if(i.type==="text_label")this.props.map.zoom_to_text_label(i.text_label_id),this.props.map.highlight_text_label(i.text_label_id);else throw new Error("Bad search index data type: "+i.type)}},{key:"close",value:function(){this.props.setDisplay(!1)}},{key:"render",value:function(){var r=this;return B("div",{className:"search-container"},B("input",{className:"search-field",value:this.state.searchItem,onInput:function(o){return r.handleInput(o.target.value)},ref:function(o){r.inputRef=o}}),B("button",{className:"search-bar-button left btn",onClick:function(){return r.previous()}},B("i",{className:"icon-left-open"})),B("button",{className:"search-bar-button right btn",onClick:function(){return r.next()}},B("i",{className:"icon-right-open"})),B("div",{className:"search-counter"},this.state.counter),B("button",{className:"search-bar-button btn",onClick:function(){return r.close()}},B("i",{className:"icon-cancel"})))}}])}(Ct);const Oz=Dz;var Nl=b(701),po={};po.styleTagTransform=nr(),po.setAttributes=er(),po.insert=$n().bind(null,"head"),po.domAPI=Jn(),po.insertStyleElement=tr(),Kn()(Nl.A,po),Nl.A&&Nl.A.locals&&Nl.A.locals;function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}function zz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nz(r.key),r)}}function Pz(t,e,n){return e&&Iz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nz(t){var e=Lz(t,"string");return _o(e)=="symbol"?e:e+""}function Lz(t,e){if(_o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rz(t,e,n){return e=Ll(e),Fz(t,wv()?Reflect.construct(e,n||[],Ll(t).constructor):e.apply(t,n))}function Fz(t,e){if(e&&(_o(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jz(t)}function jz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wv=function(){return!!t})()}function Ll(t){return Ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ll(t)}function Uz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nh(t,e)}function nh(t,e){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nh(t,e)}var Wz=function(t){function e(){return zz(this,e),Rz(this,e,arguments)}return Uz(e,t),Pz(e,[{key:"render",value:function(){var r=this,i=this.props.settings.get("menu"),o=this.props.settings.get("enable_keys"),a=this.props.settings.get("enable_editing");return B("ul",{className:"button-panel"},B("li",null,B("button",{className:"button btn",onClick:function(){return r.props.zoomContainer.zoom_in()},title:"Zoom in".concat(o?" (+)":"")},B("i",{className:"icon-zoom-in"}))),B("li",null,B("button",{className:"button btn",onClick:function(){return r.props.zoomContainer.zoom_out()},title:"Zoom out".concat(o?" (-)":"")},B("i",{className:"icon-zoom-out"}))),B("li",null,B("button",{className:"button btn",onClick:function(){return r.props.map.zoom_extent_canvas()},title:"Zoom to canvas".concat(o?" (1)":"")},B("i",{className:"icon-resize-full"}))),B("li",{style:{display:this.props.settings.get("full_screen_button")!==!1?"block":"none"}},B("button",{className:"button btn ".concat(this.props.isFullScreen?"active-button":""),onClick:function(){return r.props.full_screen()},title:"Toggle full screen"},B("i",{className:"icon-resize-full-alt"}))),B("li",{className:"grouping",style:{display:i==="all"&&a?"block":"none"}},B("button",{className:"buttonGroup btn",title:"Pan mode".concat(o?" (Z)":""),for:"zoom",id:this.props.mode==="zoom"?"currentMode":null,onClick:function(){return r.props.setMode("zoom")}},B("i",{className:"icon-move"})),B("button",{className:"buttonGroup btn",title:"Select mode".concat(o?" (V)":""),for:"brush",id:this.props.mode==="brush"?"currentMode":null,onClick:function(){return r.props.setMode("brush")}},B("i",{className:"icon-mouse-pointer"})),B("button",{className:"buttonGroup btn",title:"Add reaction mode".concat(o?" (N)":""),for:"build",onClick:function(){return r.props.setMode("build")},id:this.props.mode==="build"?"currentMode":null},B("i",{className:"icon-wrench"})),B("button",{className:"buttonGroup btn",title:"Rotate mode".concat(o?" (R)":""),for:"rotate",id:this.props.mode==="rotate"?"currentMode":null,onClick:function(){return r.props.setMode("rotate")}},B("i",{className:"icon-cw"})),B("button",{className:"buttonGroup btn",title:"Text mode".concat(o?" (T)":""),for:"text",id:this.props.mode==="text"?"currentMode":null,onClick:function(){return r.props.setMode("text")}},B("i",{className:"icon-font"}))),B("li",{className:"grouping",style:{display:this.props.mode==="build"&&i==="all"&&a?"block":"none"}},B("button",{className:"buttonGroup btn",title:"Direction arrow".concat(o?" (←)":""),onClick:function(){return r.props.buildInput.direction_arrow.left()}},B("i",{className:"icon-left-big"})),B("button",{className:"buttonGroup btn",title:"Direction arrow".concat(o?" (→)":""),onClick:function(){return r.props.buildInput.direction_arrow.right()}},B("i",{className:"icon-right-big"})),B("button",{className:"buttonGroup btn",title:"Direction arrow".concat(o?" (↑)":""),onClick:function(){return r.props.buildInput.direction_arrow.up()}},B("i",{className:"icon-up-big"})),B("button",{className:"buttonGroup btn",title:"Direction arrow".concat(o?" (↓)":""),onClick:function(){return r.props.buildInput.direction_arrow.down()}},B("i",{className:"icon-down-big"}))))}}])}(Ct);const Yz=Wz;function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function Vz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qz(r.key),r)}}function Hz(t,e,n){return e&&Gz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qz(t){var e=Xz(t,"string");return Ua(e)=="symbol"?e:e+""}function Xz(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zz=function(){function t(e,n,r,i,o){var a=this;Vz(this,t),this.div=e.append("div").attr("id","tooltip-container"),this.tooltipRef=null,this.zoomContainer=r,this.setUpZoomCallbacks(r),this.callbackManager=new Wi,this.div.on("mouseover",this.cancelHideTooltip.bind(this)),this.div.on("mouseleave",this.hide.bind(this)),this.map=i,this.setUpMapCallbacks(i),this.settings=o,this.delay_hide_timeout=null,this.currentTooltip=null,Ra(n,null,function(s){return a.callbackManager.set("pass_props",s)},this.div.node(),function(s){a.tooltipRef=s}),this.passProps({display:!1,disableTooltips:function(){return a.disableTooltips()},openInVmh:function(){return a.settings.get("open_in_vmh")},vmhBasicUrl:function(){return a.settings.get("vmh_basic_url")}})}return Hz(t,[{key:"disableTooltips",value:function(){this.settings.set("enable_tooltips",!1),this.map.draw_everything(),this.hide(),this.map.set_status(`Tooltips disabled. You can enable them again in the
                         settings menu.`,3e3)}},{key:"passProps",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.callbackManager.run("pass_props",null,n)}},{key:"setUpMapCallbacks",value:function(n){var r=this;this.placedDiv=vf(this.div,n,void 0,!1),n.callback_manager.set("show_tooltip.tooltip_container",function(i,o){r.show(i,o)}),n.callback_manager.set("hide_tooltip.tooltip_container",function(){return r.hide()}),n.callback_manager.set("delay_hide_tooltip.tooltip_container",function(){return r.delayHide()}),n.sel.selectAll(".canvas-group").on("touchend",function(){return r.hide()})}},{key:"setUpZoomCallbacks",value:function(n){n.callbackManager.set("zoom.tooltip_container",(function(){this.is_visible()&&this.hide()}).bind(this)),n.callbackManager.set("go_to.tooltip_container",(function(){this.is_visible()&&this.hide()}).bind(this))}},{key:"is_visible",value:function(){return this.placedDiv.is_visible()}},{key:"show",value:function(n,r){if(this.cancelHideTooltip(),ge.contains(["reaction_label","node_label","gene_label","reaction_object","node_object"],n)){var i=this.tooltipRef!==null&&this.tooltipRef.get_size?this.tooltipRef.get_size():{width:270,height:100};this.currentTooltip={type:n,id:r[n.replace("_label","_id").replace("_object","_id")]};var o=this.zoomContainer.windowTranslate,a=this.zoomContainer.windowScale,s=this.map!==null?this.map.get_size():{width:1e3,height:1e3},l={x:0,y:0},u=n==="reaction_object"?r.xPos:r.label_x,c=n==="reaction_object"?r.yPos:r.label_y,h=a*u+o.x+i.width,p=a*c+o.y+i.height;s.width<500?(h>s.width&&(l.x=-(h-s.width)/a),p>s.height-74&&(l.y=-(p-s.height+77)/a)):(a*u+o.x+.5*i.width>s.width?l.x=-i.width/a:h>s.width&&(l.x=-(h-s.width)/a),a*c+o.y+.5*i.height>s.height-45?l.y=-i.height/a:p>s.height-45&&(l.y=-(p-s.height+47)/a));var g={x:u+l.x,y:c+10+l.y};this.placedDiv.place(g),this.passProps({display:!0,biggId:r.bigg_id,name:r.name,loc:g,data:r.data_string,type:n.replace("_label","").replace("node","metabolite").replace("_object","")})}else throw new Error("Tooltip not supported for object type "+n)}},{key:"hide",value:function(){this.placedDiv.hide(),this.currentTooltip=null}},{key:"delayHide",value:function(){var n=this;this.delayHideTimeout=setTimeout(function(){return n.hide()},100)}},{key:"cancelHideTooltip",value:function(){this.delayHideTimeout!==null&&clearTimeout(this.delayHideTimeout)}}])}(),Rl=b(471),go={};go.styleTagTransform=nr(),go.setAttributes=er(),go.insert=$n().bind(null,"head"),go.domAPI=Jn(),go.insertStyleElement=tr(),Kn()(Rl.A,go),Rl.A&&Rl.A.locals&&Rl.A.locals;function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function qz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$z(r.key),r)}}function Jz(t,e,n){return e&&Kz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $z(t){var e=eI(t,"string");return mo(e)=="symbol"?e:e+""}function eI(t,e){if(mo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tI(t,e,n){return e=Fl(e),nI(t,xv()?Reflect.construct(e,[],Fl(t).constructor):e.apply(t,n))}function nI(t,e){if(e&&(mo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rI(t)}function rI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xv=function(){return!!t})()}function Fl(t){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fl(t)}function iI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rh(t,e)}function rh(t,e){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rh(t,e)}var oI=function(t){function e(){var n;return qz(this,e),n=tI(this,e),n.openBigg=n.openBigg.bind(n),n}return iI(e,t),Jz(e,[{key:"decompartmentalizeCheck",value:function(r,i){return i==="metabolite"?G.decompartmentalize(r)[0]:r}},{key:"openBigg",value:function(){var r=this.props.type,i=this.props.biggId,o="http://bigg.ucsd.edu/",a=r==="gene"?"".concat(o,"search?query=").concat(i):"".concat(o,"universal/").concat(r,"s/").concat(this.decompartmentalizeCheck(i,r)),s="".concat(this.props.vmhBasicUrl()).concat(i);window.open(this.props.openInVmh()?s:a)}},{key:"capitalizeFirstLetter",value:function(r){return typeof r=="string"?r.charAt(0).toUpperCase()+r.slice(1):console.warn("capitalizeFirstLetter was passed something other than a string")}},{key:"render",value:function(){var r=this.decompartmentalizeCheck(this.props.biggId,this.props.type),i=this.props.openInVmh()?"Open ".concat(r," in VMH"):"Open ".concat(r," in BiGG Models.");return B("div",{className:"default-tooltip"},B("div",{className:"id"},this.props.biggId),B("div",{className:"name"},"name: ",this.props.name),B("div",{className:"data"},"data: ",this.props.data&&this.props.data!=="(nd)"?this.props.data:"no data"),B("button",{onClick:this.openBigg},i),B("div",{className:"top-right"},B("div",{className:"type-label"},this.capitalizeFirstLetter(this.props.type)),B("a",{onClick:this.props.disableTooltips},"Disable Tooltips")))}}])}(Ct);const aI=oI;var jl=b(284),vo={};vo.styleTagTransform=nr(),vo.setAttributes=er(),vo.insert=$n().bind(null,"head"),vo.domAPI=Jn(),vo.insertStyleElement=tr(),Kn()(jl.A,vo),jl.A&&jl.A.locals&&jl.A.locals;var Ul=b(982),yo={};yo.styleTagTransform=nr(),yo.setAttributes=er(),yo.insert=$n().bind(null,"head"),yo.domAPI=Jn(),yo.insertStyleElement=tr(),Kn()(Ul.A,yo),Ul.A&&Ul.A.locals&&Ul.A.locals;const sI=`svg.escher-svg #mouse-node {
  fill: none;
}
svg.escher-svg #canvas {
  stroke: #ccc;
  stroke-width: 7px;
  fill: white;
}
svg.escher-svg .resize-rect {
  fill: black;
  opacity: 0;
  stroke: none;
}
svg.escher-svg .label {
  font-family: sans-serif;
  font-style: italic;
  font-weight: bold;
  font-size: 8px;
  fill: black;
  stroke: none;
  text-rendering: optimizelegibility;
  cursor: default;
}
svg.escher-svg .reaction-label {
  font-size: 30px;
  fill: rgb(32, 32, 120);
  text-rendering: optimizelegibility;
}
svg.escher-svg .node-label {
  font-size: 20px;
}
svg.escher-svg .gene-label {
  font-size: 18px;
  fill: rgb(32, 32, 120);
  text-rendering: optimizelegibility;
  cursor: default;
}
svg.escher-svg .text-label .label {
  font-size: 50px;
}
svg.escher-svg .text-label-input {
  font-size: 50px;
}
svg.escher-svg .node-circle {
  stroke-width: 2px;
}
svg.escher-svg .midmarker-circle, svg.escher-svg .multimarker-circle {
  fill: white;
  fill-opacity: 0.2;
  stroke: rgb(50, 50, 50);
}
svg.escher-svg g.selected .node-circle{
  stroke-width: 6px;
  stroke: rgb(20, 113, 199);
}
svg.escher-svg g.selected .label {
  fill: rgb(20, 113, 199);
}
svg.escher-svg .metabolite-circle {
  stroke: rgb(162, 69, 16);
  fill: rgb(224, 134, 91);
}
svg.escher-svg g.selected .metabolite-circle {
  stroke: rgb(5, 2, 0);
}
svg.escher-svg .segment {
  stroke: #334E75;
  stroke-width: 10px;
  fill: none;
}
svg.escher-svg .arrowhead {
  fill: #334E75;
}
svg.escher-svg .stoichiometry-label-rect {
  fill: white;
  opacity: 0.5;
}
svg.escher-svg .stoichiometry-label {
  fill: #334E75;
  font-size: 17px;
}
svg.escher-svg .membrane {
  fill: none;
  stroke: rgb(255, 187, 0);
}
svg.escher-svg .brush .extent {
  fill-opacity: 0.1;
  fill: black;
  stroke: #fff;
  shape-rendering: crispEdges;
}
svg.escher-svg #brush-container .background {
  fill: none;
}
svg.escher-svg .bezier-circle {
  fill: rgb(255,255,255);
}
svg.escher-svg .bezier-circle.b1 {
  stroke: red;
}
svg.escher-svg .bezier-circle.b2 {
  stroke: blue;
}
svg.escher-svg .connect-line{
  stroke: rgb(200,200,200);
}
svg.escher-svg .direction-arrow {
  cursor: default;
  stroke: black;
  stroke-width: 1px;
  fill: white;
  opacity: 0.3;
}
svg.escher-svg .start-reaction-target {
  stroke: rgb(100,100,100);
  fill: none;
  opacity: 0.5;
}
svg.escher-svg .rotation-center-line {
  stroke: red;
  stroke-width: 5px;
}
svg.escher-svg .highlight {
  fill: #D97000;
  text-decoration: underline;
}
svg.escher-svg .node-to-combine {
  stroke-width: 12px !important;
}
`;function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function ih(t,e){return cI(t)||uI(t,e)||Ev(t,e)||lI()}function lI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uI(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cI(t){if(Array.isArray(t))return t}function fI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ev(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function Ev(t,e){if(t){if(typeof t=="string")return Cv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cv(t,e):void 0}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_I(r.key),r)}}function pI(t,e,n){return e&&dI(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _I(t){var e=gI(t,"string");return Wa(e)=="symbol"?e:e+""}function gI(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mI=function(){function t(e,n,r,i,o){var a=this;hI(this,t),i?i instanceof Nr||("node"in i?i=ze(i.node()):i=ze(i)):i=ze("body").append("div"),o||(o={}),r||(r=sI),this.map_data=e,this.model_data=n,this.embeddedCss=r,this.selection=i,this.menu_div=null,this.button_div=null,this.search_bar_div=null,this.searchBarRef=null,this.semanticOptions=null,this.mode="zoom",this.selection.datum(this),this.selection.__builder__=this,this.has_custom_reaction_styles=!!o.reaction_styles;var s=G.set_options(o,{menu:"all",scroll_behavior:"pan",use_3d_transform:!1,enable_editing:!0,enable_keys:!0,enable_search:!0,fill_screen:!1,zoom_to_element:null,full_screen_button:!1,ignore_bootstrap:!1,disabled_buttons:null,semantic_zoom:null,starting_reaction:null,never_ask_before_quit:!1,unique_map_id:null,primary_metabolite_radius:20,secondary_metabolite_radius:10,marker_radius:5,gene_font_size:18,hide_secondary_metabolites:!1,show_gene_reaction_rules:!1,hide_all_labels:!1,canvas_size_and_loc:null,reaction_data:null,reaction_styles:["color","size","text"],reaction_compare_style:"log2_fold",reaction_scale:null,reaction_scale_preset:"GaBuGeRd",reaction_no_data_color:"#dcdcdc",reaction_no_data_size:8,show_reaction_data_animation:!1,animation_line_style:"dashed",reaction_data_threshold:Math.pow(10,-6),hide_no_data_reaction:!1,background_image_url:"",gene_data:null,and_method_in_gene_reaction_rule:"mean",metabolite_data:null,metabolite_styles:["color","size","text"],metabolite_compare_style:"log2_fold",metabolite_scale:null,metabolite_scale_preset:"WhYlRd",metabolite_no_data_color:"#ffffff",metabolite_no_data_size:10,identifiers_on_map:"bigg_id",highlight_missing:!1,allow_building_duplicate_reactions:!1,cofactors:["atp","adp","nad","nadh","nadp","nadph","gtp","gdp","h","coa","ump","h2o","ppi"],open_in_vmh:G.get_local_storage_item("open_in_vmh")==="true",vmh_basic_url:"https://www.vmh.life/#allsearch/",tooltip_component:aI,enable_tooltips:["label"],enable_keys_with_tooltip:!0,first_load_callback:null},{primary_metabolite_radius:!0,secondary_metabolite_radius:!0,marker_radius:!0,gene_font_size:!0,reaction_no_data_size:!0,metabolite_no_data_size:!0});if(G.check_for_parent_tag(this.selection,"svg"))throw new Error("Builder cannot be placed within an svg node because UI elements are html-based.");var l=["identifiers_on_map","scroll_behavior","hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","allow_building_duplicate_reactions","highlight_missing","hide_no_data_reaction","open_in_vmh","animation_line_style","enable_tooltips","reaction_scale_preset","reaction_no_data_color","reaction_no_data_size","reaction_scale","reaction_styles","reaction_compare_style","and_method_in_gene_reaction_rule","metabolite_scale_preset","metabolite_scale","metabolite_styles","metabolite_compare_style","metabolite_no_data_color","metabolite_no_data_size"];this.settings=new ov(s,l);var u=this.settings.get("reaction_data"),c=this.settings.get("reaction_data_threshold"),h=u&&G.process_reaction_data(u,c);this.settings.set("reaction_data",h),this.settings.get("fill_screen")&&this.settings.get("full_screen_button")&&(this.settings.set("full_screen_button",!1),console.warn("The option full_screen_button has no effect when fill_screen is true")),this.isFullScreen=!1,this.settings.get("fill_screen")&&(ze("html").classed("fill-screen",!0),ze("body").classed("fill-screen",!0),this.selection.classed("fill-screen-div",!0),this.isFullScreen=!0),this.savedFullScreenSettings=null,this.savedFullScreenParent=null,this.clearFullScreenEscape=null,this.callback_manager=new Wi;var p=this.settings.get("first_load_callback");p!==null&&this.callback_manager.set("first_load",function(){p(a)}),this.zoom_container=new zm(this.selection,this.settings.get("scroll_behavior"),this.settings.get("use_3d_transform")),this.zoom_container.callbackManager.set("zoom_change",function(){if(a.settings.get("semantic_zoom")){var v=a.zoom_container.windowScale,m=a.settings.get("semantic_zoom").sort(function(A,E){return A.zoomLevel-E.zoomLevel}).find(function(A){return A.zoomLevel>v});if(m){var y=!1;ge.mapObject(m.options,function(A,E){a.settings.get(E)!==A&&(a.settings.set(E,A),y=!0)}),y&&a._updateData(!1,!0)}}}),this.settings.streams.use_3d_transform.onValue(function(v){a.zoom_container.setUse3dTransform(v)}),this.settings.streams.scroll_behavior.onValue(function(v){a.zoom_container.setScrollBehavior(v)}),this.settings.streams.enable_tooltips.onValue(function(v){a._updateTooltipSetting(v)}),this.mapToolsContainer=null,this.selection.select(".map-tools-container").empty()?this.mapToolsContainer=this.selection.append("div").attr("class","map-tools-container"):this.mapToolsContainer=this.selection.select(".map-tools-container"),this._createStatus(this.selection),this.load_model(this.model_data,!1);var g=this.selection.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline");this.menu_div=g.append("div"),this.search_bar_div=g.append("div"),this.button_div=this.selection.append("div"),this.selection.select("#legend-config-modal").empty()&&(this.selection.append("div").attr("id","legend-config-modal"),this.selection.append("div").attr("id","legend-config-modal-overlay")),ge.delay(function(){a.load_map(a.map_data,!1);var v=a._reactionCheckAddAbs();a._updateData(!0,!0),a.settings.statusBus.onValue(function(m){if(m==="accept"){if(a._updateData(!0,!0,["reaction","metabolite"],!1),a.zoom_container!==null){var y=a.settings.get("scroll_behavior");a.zoom_container.setScrollBehavior(y)}a.map!==null&&(a.map.draw_all_nodes(!1),a.map.draw_all_reactions(!0,!1),a.map.select_none())}}),v!==null&&setTimeout(v,500),ge.defer(function(){return a.callback_manager.run("first_load",a)})},50)}return pI(t,[{key:"options",get:function(){throw new Error("builder.options is deprecated. Use builder.settings.get() and builder.settings.set() instead.")},set:function(n){throw new Error("builder.options is deprecated. Use builder.settings.get() and builder.settings.set() instead.")}},{key:"load_model",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ge.isNull(n)?this.cobra_model=null:this.cobra_model=Cf.from_cobra_json(n),this.map&&(this.map.cobra_model=this.cobra_model,r&&this._updateData(!0,!1),this.settings.get("highlight_missing")&&this.map.draw_all_reactions(!1,!1)),this.callback_manager.run("load_model",null,n,r)}},{key:"load_map",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o={};if(this.settings.get("semantic_zoom")){var a=fI(this.settings.get("semantic_zoom")),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;Object.keys(l.options).map(function(k){o[k]===void 0&&(o[k]=r.settings.get(k))})}}catch(k){a.e(k)}finally{a.f()}this.semanticOptions=Object.assign({},o)}G.remove_child_nodes(this.zoom_container.zoomedSel),G.remove_child_nodes(this.mapToolsContainer);var u=this.zoom_container.zoomedSel,c=this.zoom_container.svg;this.map&&this.map.key_manager.toggle(!1),n!==null?this.map=Nf.from_data(n,c,this.embeddedCss,u,this.zoom_container,this.settings,this.cobra_model,this.settings.get("enable_search")):this.map=new Nf(c,this.embeddedCss,u,this.zoom_container,this.settings,this.cobra_model,this.settings.get("canvas_size_and_loc"),this.settings.get("enable_search")),this.settings.get("background_image_url")&&this.map.import_background(this.settings.get("background_image_url")),this._setupStatus(this.map),this.map.set_status("Loading map ..."),this._updateTooltipSetting(this.settings.get("enable_tooltips")),i&&this._updateData(!1,!0),this.build_input=new YB(this.mapToolsContainer,this.map,this.zoom_container,this.settings),this.text_edit_input=new wD(this.mapToolsContainer,this.map,this.zoom_container),this.brush=new aD(u,!1,this.map,".canvas-group"),this.map.canvas.callbackManager.set("resize",function(){r.mode==="brush"&&r.brush.toggle(!0)}),this.setUpSettingsMenu(this.mapToolsContainer),this.setUpButtonPanel(this.mapToolsContainer);var h=this.mapToolsContainer.append("div").attr("class","search-menu-container"),p=h.append("div").attr("class","search-menu-container-inline"),g=h.append("svg").attr("class","legend-container").append("g").attr("class","legend-group").attr("transform","translate(10, 0)");g.append("defs").attr("class","legend-defs").append("linearGradient").attr("id","legend-gradient"),g.append("rect").attr("class","legend-rect"),g.append("g").attr("class","legend-axis"),h.append("svg").attr("class","vertical-legend-container"),this.setUpMenuBar(p),this.setUpSearchBar(p),this.tooltip_container=new Zz(this.mapToolsContainer,this.settings.get("tooltip_component"),this.zoom_container,this.map,this.settings),this.map.key_manager.assignedKeys=this.getKeys(),this.map.key_manager.inputList=[this.build_input,this.searchBarRef,function(){return r.settingsMenuRef},this.text_edit_input],this.settings.get("enable_keys_with_tooltip")||this.map.key_manager.inputList.push(this.tooltip_container),this.map.key_manager.update(),this.map.key_manager.toggle(this.settings.get("enable_keys")),this.settings.streams.enable_keys.onValue(function(k){r.map.key_manager.toggle(k)});var v=this.settings.get("disabled_buttons")||[];if(this.settings.get("reaction_data")||(v.push("Clear reaction data"),v.push("Export as GIF")),this.settings.get("gene_data")||v.push("Clear gene data"),this.settings.get("metabolite_data")||v.push("Clear metabolite data"),this.settings.get("enable_search")||v.push("Find"),this.settings.get("enable_editing")||v.push("Show control points"),this.settings.set("disabled_buttons",v),this.settings.get("zoom_to_element")){var m=this.settings.get("zoom_to_element").type,y=this.settings.get("zoom_to_element").id;if(ge.isUndefined(m)||["reaction","node"].indexOf(m)===-1)throw new Error('zoom_to_element type must be "reaction" or "node"');if(ge.isUndefined(y))throw new Error("zoom_to_element must include id");m==="reaction"?this.map.zoom_to_reaction(y):m==="node"&&this.map.zoom_to_node(y)}else if(n)this.map.zoom_extent_canvas();else if(this.settings.get("starting_reaction")&&this.cobra_model!==null){var A=this.zoom_container.get_size(),E={x:A.width/2,y:A.height/4};this.map.new_reaction_from_scratch(this.settings.get("starting_reaction"),E,90),this.map.zoom_extent_nodes()}else this.map.zoom_extent_canvas();this.settings.get("enable_editing")?this.zoom_mode():this.view_mode(),this.settings.streams.enable_editing.onValue(function(k){k?r.zoom_mode():r.view_mode()}),this.settings.get("enable_editing")&&this._setupConfirmBeforeExit(),this.map.draw_everything(),this.map.set_status(""),this.callback_manager.run("load_map",null,n,i)}},{key:"passPropsSettingsMenu",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.map.callback_manager.run("pass_props_settings_menu",null,n)}},{key:"setUpSettingsMenu",value:function(n){var r=this;this.settingsMenuRef=null,Ra(VO,function(i){r.settingsMenuRef=i},function(i){return r.map.callback_manager.set("pass_props_settings_menu",i)},n.append("div").node()),this.passPropsSettingsMenu({display:!1,settings:this.settings,map:this.map}),ge.mapObject(this.settings.streams,function(i,o){i.onValue(function(a){r.passPropsSettingsMenu()})}),this.settings.streams.reaction_styles.map(function(i){return ge.contains(i,"abs")}).skipDuplicates().onValue(function(){return r._updateData(!1,!0)}),this.settings.streams.metabolite_styles.map(function(i){return ge.contains(i,"abs")}).skipDuplicates().onValue(function(){return r._updateData(!1,!0)})}},{key:"passPropsMenuBar",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.map.callback_manager.run("pass_props_menu_bar",null,n)}},{key:"setUpMenuBar",value:function(n){var r=this;this.menuBarRef=null,Ra(Az,function(i){r.menuBarRef=i},function(i){return r.map.callback_manager.set("pass_props_menu_bar",i)},n.append("div").node()),this.passPropsMenuBar({display:this.settings.get("menu")==="all",settings:this.settings,sel:this.selection,mode:this.mode,map:this.map,saveMap:function(){r.semanticOptions&&(Object.entries(r.semanticOptions).map(function(o){var a=ih(o,2),s=a[0],l=a[1];r.settings.set(s,l)}),r._updateData()),r.map.save()},loadMap:function(o){return r.load_map(o)},assignKeyLoadMap:function(o){r.map.key_manager.assignedKeys.load_map.fn=o},save_svg:function(){return r.map.save_svg()},save_png:function(){return r.map.save_png()},save_gif:function(){return r.map.save_gif()},import_background:function(o){return r.map.import_background(o)},assignKeyImportBackground:function(o){r.map.key_manager.assignedKeys.import_background.fn=o},clear_background:function(){return r.map.clear_background()},clear_map:function(){r.clear_map()},loadModel:function(o){return r.load_model(o,!0)},assignKeyLoadModel:function(o){r.map.key_manager.assignedKeys.load_model.fn=o},clearModel:function(){r.load_model(null),r.callback_manager.run("clear_model")},updateRules:function(){return r.map.convert_map()},setReactionData:function(o){return r.set_reaction_data(o)},clearReactionData:function(){return r.set_reaction_data(null)},setGeneData:function(o){return r.set_gene_data(o)},clearGeneData:function(){return r.set_gene_data(null,!0)},setMetaboliteData:function(o){return r.set_metabolite_data(o)},clearMetaboliteData:function(o){return r.set_metabolite_data(null)},setMode:function(o){return r._setMode(o)},deleteSelected:function(){return r.map.delete_selected()},undo:function(){return r.map.undo_stack.undo()},redo:function(){return r.map.undo_stack.redo()},align_vertical:function(){return r.map.align_vertical()},align_horizontal:function(){return r.map.align_horizontal()},togglePrimary:function(){return r.map.toggle_selected_node_primary()},cyclePrimary:function(){return r.map.cycle_primary_node()},selectAll:function(){return r.map.select_all()},selectNone:function(){return r.map.select_none()},invertSelection:function(){return r.map.invert_selection()},zoom_in:function(){return r.zoom_container.zoom_in()},zoom_out:function(){return r.zoom_container.zoom_out()},zoomExtentNodes:function(){return r.map.zoom_extent_nodes()},zoomExtentCanvas:function(){return r.map.zoom_extent_canvas()},full_screen:function(){return r.full_screen()},search:function(){return r.passPropsSearchBar({display:!0})},toggleBeziers:function(){return r.map.toggle_beziers()},renderSettingsMenu:function(){return r.passPropsSettingsMenu({display:!0})}}),this.map.callback_manager.set("toggle_beziers",function(){r.passPropsMenuBar()}),this.settings.streams.disabled_buttons.onValue(function(i){r.passPropsMenuBar()}),this.callback_manager.set("set_mode",function(i){r.passPropsMenuBar({mode:i})}),this.settings.streams.menu.onValue(function(i){r.passPropsMenuBar({display:i==="all"})}),this.settings.streams.full_screen_button.onValue(function(i){r.passPropsMenuBar()})}},{key:"passPropsSearchBar",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.map.callback_manager.run("pass_props_search_bar",null,n)}},{key:"setUpSearchBar",value:function(n){var r=this;this.searchBarRef=null,Ra(Oz,function(i){r.searchBarRef=i},function(i){return r.map.callback_manager.set("pass_props_search_bar",i)},n.append("div").node()),this.passPropsSearchBar({display:!1,searchIndex:this.map.search_index,map:this.map})}},{key:"passPropsButtonPanel",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.map.callback_manager.run("pass_props_button_panel",null,n)}},{key:"setUpButtonPanel",value:function(n){var r=this;Ra(Yz,null,function(i){return r.map.callback_manager.set("pass_props_button_panel",i)},n.append("div").node()),this.passPropsButtonPanel({display:ge.contains(["all","zoom"],this.settings.get("menu")),mode:this.mode,settings:this.settings,setMode:function(o){return r._setMode(o)},zoomContainer:this.zoom_container,map:this.map,buildInput:this.build_input,full_screen:function(){return r.full_screen()}}),this.callback_manager.set("set_mode",function(i){r.passPropsButtonPanel({mode:i})}),this.settings.streams.full_screen_button.onValue(function(i){r.passPropsButtonPanel()})}},{key:"_setMode",value:function(n){this.mode=n,this.build_input.toggle(n==="build"),this.build_input.direction_arrow.toggle(n==="build"),this.brush.toggle(n==="brush"),this.zoom_container.togglePanDrag(n==="zoom"||n==="view"),this.map.canvas.toggleResize(n!=="view"),n==="rotate"?(this.map.behavior.toggleSelectableDrag(!1),this.map.behavior.toggleRotationMode(!0)):(this.map.behavior.toggleRotationMode(n==="rotate"),this.map.behavior.toggleSelectableDrag(n==="brush")),this.map.behavior.toggleSelectableClick(n==="build"||n==="brush"),this.map.behavior.toggleLabelDrag(n==="brush"),this.map.behavior.toggleTextLabelEdit(n==="text"),this.map.behavior.toggleBezierDrag(n==="brush"),(n==="view"||n==="text")&&this.map.select_none(),n==="rotate"&&this.map.deselect_text_labels(),this.map.draw_everything(),this.callback_manager.run("set_mode",null,n)}},{key:"view_mode",value:function(){this.callback_manager.run("view_mode"),this._setMode("view")}},{key:"build_mode",value:function(){this.callback_manager.run("build_mode"),this._setMode("build")}},{key:"brush_mode",value:function(){this.callback_manager.run("brush_mode"),this._setMode("brush")}},{key:"zoom_mode",value:function(){this.callback_manager.run("zoom_mode"),this._setMode("zoom")}},{key:"rotate_mode",value:function(){this.callback_manager.run("rotate_mode"),this._setMode("rotate")}},{key:"text_mode",value:function(){this.callback_manager.run("text_mode"),this._setMode("text")}},{key:"_reactionCheckAddAbs",value:function(){var n=this,r=this.settings.get("reaction_styles");return this.settings.get("reaction_data")&&!this.has_custom_reaction_styles&&!ge.contains(r,"abs")?(this.settings.set("reaction_styles",r.concat("abs")),function(){n.map.set_status("Visualizing absolute value of reaction data. Change this option in Settings.",5e3)}):null}},{key:"set_reaction_data",value:function(n){var r=this.settings.get("reaction_data_threshold"),i=n&&G.process_reaction_data(n,r);this.settings.set("reaction_data",i),i&&(this.settings._options.gene_data=null);var o=this._reactionCheckAddAbs();this._updateData(!0,!0,["reaction"]),o?o():this.map.set_status("");var a=this.settings.get("disabled_buttons")||[],s="Clear reaction data",l="Export as GIF",u="Clear gene data",c=a.indexOf(s);if(i&&c!==-1){a.splice(c,1),a.splice(a.indexOf(l),1);var h=a.indexOf(u);h===-1&&a.push(u),this.settings.set("disabled_buttons",a)}else!i&&c===-1&&(a.push(s),a.push(l),this.settings.set("disabled_buttons",a))}},{key:"set_gene_data",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.settings.set("gene_data",n),r&&this.settings.set("show_gene_reaction_rules",!1),n&&(this.settings._options.reaction_data=null,this.settings.set("show_gene_reaction_rules",!0)),this._updateData(!0,!0,["reaction"]),this.map.set_status("");var i=this.settings.get("disabled_buttons")||[],o=i.indexOf("Clear gene data"),a="Clear gene data",s="Clear reaction data";if(o>-1&&n){i.splice(o,1);var l=i.indexOf("Clear reaction data");l===-1&&i.push(s),this.settings.set("disabled_buttons",i)}else o===-1&&!n&&(i.push(a),this.settings.set("disabled_buttons",i))}},{key:"set_metabolite_data",value:function(n){this.settings.set("metabolite_data",n),this._updateData(!0,!0,["metabolite"]),this.map.set_status("");var r=this.settings.get("disabled_buttons")||[],i="Clear metabolite data",o=r.indexOf(i);o>-1&&n?(r.splice(o,1),this.settings.set("disabled_buttons",r)):o===-1&&!n&&(r.push(i),this.settings.set("disabled_buttons",r))}},{key:"_makeGeneDataObject",value:function(n,r,i){var o={};return r!==null&&G.extend(o,r.reactions),i!==null&&G.extend(o,i.reactions,!0),Lt.importAndCheck(n,"gene_data",o)}},{key:"clear_map",value:function(){this.callback_manager.run("clear_map"),this.map.clearMapData(),this._updateData(!0,!0,["reaction","metabolite"],!1),this.map.draw_everything()}},{key:"_updateData",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["reaction","metabolite"],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=ge.contains(o,"reaction"),l=ge.contains(o,"metabolite"),u,c,h;l&&i&&this.map!==null&&(u=Lt.importAndCheck(this.settings.get("metabolite_data"),"metabolite_data"),this.map.apply_metabolite_data_to_map(u),a&&this.map.draw_all_nodes(!1)),s&&(this.settings.get("reaction_data")&&i&&this.map!==null?(c=Lt.importAndCheck(this.settings.get("reaction_data"),"reaction_data"),this.map.apply_reaction_data_to_map(c),a&&this.map.draw_all_reactions(!1,!1)):this.settings.get("gene_data")&&i&&this.map!==null?(h=this._makeGeneDataObject(this.settings.get("gene_data"),this.cobra_model,this.map),this.map.apply_gene_data_to_map(h),a&&this.map.draw_all_reactions(!1,!1)):i&&this.map!==null&&(this.map.apply_reaction_data_to_map(null),a&&this.map.draw_all_reactions(!1,!1))),this.update_model_timer&&clearTimeout(this.update_model_timer);var p=5;this.update_model_timer=setTimeout(function(){l&&r&&n.cobra_model!==null&&(u||(u=Lt.importAndCheck(n.settings.get("metabolite_data"),"metabolite_data")),n.cobra_model.apply_metabolite_data(u,n.settings.get("metabolite_styles"),n.settings.get("metabolite_compare_style"))),s&&(n.settings.get("reaction_data")&&r&&n.cobra_model!==null?(c||(c=Lt.importAndCheck(n.settings.get("reaction_data"),"reaction_data")),n.cobra_model.apply_reaction_data(c,n.settings.get("reaction_styles"),n.settings.get("reaction_compare_style"))):n.settings.get("gene_data")&&r&&n.cobra_model!==null?(h||(h=n._makeGeneDataObject(n.settings.get("gene_data"),n.cobra_model,n.map)),n.cobra_model.apply_gene_data(h,n.settings.get("reaction_styles"),n.settings.get("identifiers_on_map"),n.settings.get("reaction_compare_style"),n.settings.get("and_method_in_gene_reaction_rule"))):r&&n.cobra_model!==null&&n.cobra_model.apply_reaction_data(null,n.settings.get("reaction_styles"),n.settings.get("reaction_compare_style"))),n.callback_manager.run("update_data",null,r,i,o,a)},p)}},{key:"_createStatus",value:function(n){this.status_bar=n.append("div").attr("id","status")}},{key:"_setupStatus",value:function(n){var r=this;n.callback_manager.set("set_status",function(i){return r.status_bar.html(i)})}},{key:"_updateTooltipSetting",value:function(n){this.map.behavior.toggleLabelMouseover(n&&n.includes("label")),this.map.behavior.toggleObjectMouseover(n&&n.includes("object"))}},{key:"getKeys",value:function(){var n=this,r=this.map,i=this.zoom_container;return{save:{key:"ctrl+s",target:r,fn:r.save},import_background:{key:"ctrl+i",fn:null},clear_background:{key:"ctrl+shift+i",target:r,fn:r.clear_background},save_svg:{key:"ctrl+shift+s",target:r,fn:r.save_svg},save_png:{key:"ctrl+shift+p",target:r,fn:r.save_png},save_gif:{key:"ctrl+shift+g",target:r,fn:r.save_gif},load_map:{key:"ctrl+o",fn:null},convert_map:{target:r,fn:r.convert_map},load_model:{key:"ctrl+m",fn:null},zoom_in_ctrl:{key:"ctrl+=",target:i,fn:i.zoom_in},zoom_in:{key:"=",target:i,fn:i.zoom_in,ignoreWithInput:!0},zoom_out_ctrl:{key:"ctrl+-",target:i,fn:i.zoom_out},zoom_out:{key:"-",target:i,fn:i.zoom_out,ignoreWithInput:!0},extent_nodes_ctrl:{key:"ctrl+0",target:r,fn:r.zoom_extent_nodes},extent_nodes:{key:"0",target:r,fn:r.zoom_extent_nodes,ignoreWithInput:!0},extent_canvas_ctrl:{key:"ctrl+1",target:r,fn:r.zoom_extent_canvas},extent_canvas:{key:"1",target:r,fn:r.zoom_extent_canvas,ignoreWithInput:!0},view_mode:{target:this,fn:this.view_mode,ignoreWithInput:!0},show_settings_ctrl:{key:"ctrl+,",fn:function(){return n.passPropsSettingsMenu({display:!0})}},show_settings:{key:",",fn:function(){return n.passPropsSettingsMenu({display:!0})},ignoreWithInput:!0},build_mode:{key:"n",target:this,fn:this.build_mode,ignoreWithInput:!0,requires:"enable_editing"},zoom_mode:{key:"z",target:this,fn:this.zoom_mode,ignoreWithInput:!0,requires:"enable_editing"},brush_mode:{key:"v",target:this,fn:this.brush_mode,ignoreWithInput:!0,requires:"enable_editing"},rotate_mode:{key:"r",target:this,fn:this.rotate_mode,ignoreWithInput:!0,requires:"enable_editing"},text_mode:{key:"t",target:this,fn:this.text_mode,ignoreWithInput:!0,requires:"enable_editing"},toggle_beziers:{key:"b",target:r,fn:r.toggle_beziers,ignoreWithInput:!0,requires:"enable_editing"},delete_ctrl:{key:"ctrl+backspace",target:r,fn:r.delete_selected,ignoreWithInput:!0,requires:"enable_editing"},delete:{key:"backspace",target:r,fn:r.delete_selected,ignoreWithInput:!0,requires:"enable_editing"},delete_del:{key:"del",target:r,fn:r.delete_selected,ignoreWithInput:!0,requires:"enable_editing"},align_vertical:{key:"alt+l",target:r,fn:r.align_vertical},align_horizontal:{key:"shift+alt+l",target:r,fn:r.align_horizontal},toggle_primary:{key:"p",target:r,fn:r.toggle_selected_node_primary,ignoreWithInput:!0,requires:"enable_editing"},cycle_primary:{key:"c",target:r,fn:r.cycle_primary_node,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_right:{key:"right",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.right,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_down:{key:"down",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.down,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_left:{key:"left",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.left,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_up:{key:"up",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.up,ignoreWithInput:!0,requires:"enable_editing"},undo:{key:"ctrl+z",target:r.undo_stack,fn:r.undo_stack.undo,requires:"enable_editing"},redo:{key:"ctrl+shift+z",target:r.undo_stack,fn:r.undo_stack.redo,requires:"enable_editing"},select_all:{key:"ctrl+a",target:r,fn:r.select_all,ignoreWithInput:!0,requires:"enable_editing"},select_none:{key:"ctrl+shift+a",target:r,fn:r.select_none,ignoreWithInput:!0,requires:"enable_editing"},invert_selection:{target:r,fn:r.invert_selection,requires:"enable_editing"},search_ctrl:{key:"ctrl+f",fn:function(){return n.passPropsSearchBar({display:!0})},requires:"enable_search"},search:{key:"f",fn:function(){return n.passPropsSearchBar({display:!0})},ignoreWithInput:!0,requires:"enable_search"}}}},{key:"_setupConfirmBeforeExit",value:function(){var n=this;window.onbeforeunload=function(r){return n.settings.get("never_ask_before_quit")?null:"You will lose any unsaved changes."}}},{key:"full_screen",value:function(){var n=this,r=["menu","scroll_behavior","enable_editing","enable_keys","enable_tooltips"];if(this.isFullScreen){if(ze("html").classed("fill-screen",!1),ze("body").classed("fill-screen",!1),this.selection.classed("fill-screen-div",!1),this.isFullScreen=!1,this.clearFullScreenEscape&&(this.clearFullScreenEscape(),this.clearFullScreenEscape=null),this.savedFullScreenParent){var i=this.savedFullScreenParent.node();i.insertBefore(this.selection.remove().node(),i.firstChild),this.savedFullScreenParent=null}this.savedFullScreenSettings!==null&&ge.mapObject(this.savedFullScreenSettings,function(s,l){n.settings.set(l,s)}),this.savedFullScreenSettings=null}else{var o=this.settings.get("full_screen_button");ge.isObject(o)&&(this.savedFullScreenSettings=ge.chain(o).pairs().map(function(s){var l=ih(s,2),u=l[0],c=l[1];if(ge.contains(r,u)){var h=n.settings.get(u);return n.settings.set(u,c),[u,h]}else return console.warn("".concat(u," not recognized as an option for full_screen_button")),[null,null]}).filter(function(s){var l=ih(s,2),u=l[0];return l[1],u}).object().value()),ze("html").classed("fill-screen",!0),ze("body").classed("fill-screen",!0),this.selection.classed("fill-screen-div",!0),this.isFullScreen=!0,this.savedFullScreenParent=ze(this.selection.node().parentNode);var a=ze("body").node();a.insertBefore(this.selection.remove().node(),a.firstChild),this.clearFullScreenEscape=this.map.key_manager.addEscapeListener(function(){return n.full_screen()})}this.map.zoom_extent_canvas(),this.passPropsButtonPanel({isFullScreen:this.isFullScreen}),this.passPropsMenuBar({isFullScreen:this.isFullScreen})}}])}();const oh=G.class_with_optional_new(mI);var vI=b(280).Pq;function yI(t){var e=G.set_options(t,{selection:null,getdatafiles:null,datafiles:null,update_callback:null,target:null});if(e.selection===null)throw new Error("No selection provided for DataMenu");var n=e.selection.select(".data-menu");n.empty()&&(n=e.selection.append("div").attr("class","data-menu"));var r=n.append("form").append("select").attr("class","dropdown-menu");return e.getdatafiles?(e.datafiles&&console.warn("DataMenu: getdatafiles option overrides datafiles"),vI(e.getdatafiles,function(s,l){return s?console.warn(s):(i(e.target,l.data,r,e.update_callback,e.selection),null)})):e.datafiles?i(e.target,e.datafiles,r,e.update_callback,e.selection):console.warn("DataMenu: No datafiles given"),{update:a};function i(s,l,u,c,h){u.node().addEventListener("change",function(){o(s,this.value,h,c)},!1);var p=l[0];a(l,u),o(s,p,h,c)}function o(s,l,u,c){G.load_the_file(s,l,function(h,p){if(h)return console.warn(h);e.data=p,c&&c(p)})}function a(s,l){l.selectAll(".menu-option").data(s).enter().append("option").attr("value",function(u){return u}).text(function(u){return u}),l.node().focus()}}function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function bI(t,e,n,r){var i=ah(Ao(1&r?t.prototype:t),e,n);return 2&r&&typeof i=="function"?function(o){return i.apply(n,o)}:i}function ah(){return ah=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=AI(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ah.apply(null,arguments)}function AI(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Ao(t))!==null;);return t}function kv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xI(r.key),r)}}function Mv(t,e,n){return e&&wI(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xI(t){var e=EI(t,"string");return bo(e)=="symbol"?e:e+""}function EI(t,e){if(bo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bv(t,e,n){return e=Ao(e),CI(t,Sv()?Reflect.construct(e,n||[],Ao(t).constructor):e.apply(t,n))}function CI(t,e){if(e&&(bo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kI(t)}function kI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sv=function(){return!!t})()}function Ao(t){return Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ao(t)}function Tv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sh(t,e)}function sh(t,e){return sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sh(t,e)}var Dv=null,Ov=null,Ya;try{Ya=b(51)}catch{}if(Ya){var zv="1.8.1",MI=["menu","scroll_behavior","use_3d_transform","enable_editing","enable_keys","full_screen_button","reaction_data","metabolite_data","gene_data"],Wl={reaction_data:"set_reaction_data",metabolite_data:"set_metabolite_data",gene_data:"set_gene_data"},BI=function(t){function e(){return kv(this,e),Bv(this,e,arguments)}return Tv(e,t),Mv(e,[{key:"render",value:function(){var r=this;if(!Ya)throw Error("@jupyter-widgets/base not installed. You must install it to use the jupyter widget");var i=ze(this.el).append("div");this.setHeight(i),ge.defer(function(){r.builder=new oh(r.getMapData(),r.getModelData(),r.model.get("embedded_css"),i,{first_load_callback:function(a){a.callback_manager.set("clear_map",function(){r.model.set("_loaded_map_json",null),r.model.save_changes()}),a.callback_manager.set("clear_model",function(){r.model.set("_loaded_model_json",null),r.model.save_changes()}),r.model.on("change:height",function(){r.setHeight(i)}),r.model.on("change:_loaded_map_json",function(){a.load_map(r.getMapData())}),r.model.on("change:_loaded_model_json",function(){a.load_model(r.getModelData())}),ge.mapObject(a.settings.acceptedStreams,function(s,l){if(r.model.keys().includes(l)){var u=r.model.get(l);u!==null?l in Wl?a[Wl[l]](u):a.settings.set(l,u):(r.model.set(l,a.settings.get(l)),r.model.save_changes()),r.model.on("change:".concat(l),function(){var c=r.model.get(l);ge.isEqual(c,a.settings.get(l))||(l in Wl?a[Wl[l]](c):a.settings.set(l,c),MI.includes(l)||a.map.draw_everything())})}s.onValue(function(c){ge.isEqual(c,r.model.get(l))||(r.model.set(l,c),r.model.save_changes())})}),a.map.draw_everything()}})})}},{key:"setHeight",value:function(r){r.style("height","".concat(this.model.get("height"),"px"))}},{key:"getMapData",value:function(){var r=this.model.get("_loaded_map_json");return r?JSON.parse(r):null}},{key:"getModelData",value:function(){var r=this.model.get("_loaded_model_json");return r?JSON.parse(r):null}}])}(Ya.DOMWidgetView),SI=function(t){function e(){return kv(this,e),Bv(this,e,arguments)}return Tv(e,t),Mv(e,[{key:"defaults",value:function(){return ge.extend(bI(e,"defaults",this,3)([]),{_model_name:"EscherMapModel",_view_name:"EscherMapView",_model_module:"escher",_view_module:"escher",_model_module_version:zv,_view_module_version:zv})}}])}(Ya.DOMWidgetModel);Dv=BI,Ov=SI}/**
* @license
*
* Escher
* Author: Zachary King
*
* The MIT License (MIT)
*
* This software is Copyright © 2015 The Regents of the University of
* California. All Rights Reserved.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
* THE SOFTWARE.
*/var TI="1.8.1",DI={_:ge,underscore:ge,preact:R,baconjs:S,mousetrap:sc(),vkbeautify:Zp(),d3_selection:Nr,d3_select:ze,d3_json:Ms.Pq}})(),L})())})(kb);var WN=kb.exports;function Mb(f){if(f==="None")return f;const[d,_]=f.split(".");return`${_} (${d})`}const YN=[{organism:"Escherichia coli",name:"e_coli_core.Core metabolism"},{organism:"Escherichia coli",name:"iJO1366.Central metabolism"},{organism:"Escherichia coli",name:"iJO1366.Fatty acid beta-oxidation"},{organism:"Escherichia coli",name:"iJO1366.Fatty acid biosynthesis (saturated)"},{organism:"Escherichia coli",name:"iJO1366.Nucleotide and histidine biosynthesis"},{organism:"Escherichia coli",name:"iJO1366.Nucleotide metabolism"},{organism:"Homo sapiens",name:"RECON1.Amino acid metabolism (partial)"},{organism:"Homo sapiens",name:"RECON1.Carbohydrate metabolism"},{organism:"Homo sapiens",name:"RECON1.Glycolysis TCA PPP"},{organism:"Homo sapiens",name:"RECON1.Inositol retinol metabolism"},{organism:"Homo sapiens",name:"RECON1.Tryptophan metabolism"},{organism:"Saccharomyces cerevisiae",name:"iMM904.Central carbon metabolism"}],VN=[{organism:"Escherichia coli",name:"e_coli_core"},{organism:"Escherichia coli",name:"iJO1366"},{organism:"Homo sapiens",name:"RECON1"},{organism:"Saccharomyces cerevisiae",name:"iMM904"}],GN="1-0-0",HN="6",In={maps:YN,models:VN,schema_version:GN,map_model_version:HN};class QN extends Cr{constructor(d){super(d),this.state={builder:null},this.handleQuickJumpChange=this.handleQuickJumpChange.bind(this)}shouldComponentUpdate(d){return this.props.url!==d.url&&this.loadMap(d.map),!1}mapUrl(d){const _=ni.find(In.maps,w=>w.name===d).organism;return`https://escher.github.io/${In.schema_version}/${In.map_model_version}/maps/${_}/${d}.json`}modelUrl(d){const _=ni.find(In.models,w=>w.name===d).organism;return`https://escher.github.io/${In.schema_version}/${In.map_model_version}/models/${_}/${d}.json`}componentDidMount(){Promise.all([this.props.map?fetch(this.mapUrl(this.props.map)).then(d=>d.json()):Promise.resolve(null),this.props.model?fetch(this.modelUrl(this.props.model)).then(d=>d.json()):Promise.resolve(null)]).then(([d,_])=>this.loadBuilder(d,_))}loadBuilder(d,_){const w=new WN.Builder(d,_,null,this.base,{fill_screen:!0,never_ask_before_quit:this.props.tool==="Viewer"||this.props.neverAskBeforeQuit,enable_editing:this.props.tool!=="Viewer",scroll_behavior:this.props.scrollToZoom?"zoom":"pan"});this.setState({builder:w})}loadMap(d){fetch(this.mapUrl(d)).then(_=>_.json()).then(_=>{this.state.builder.load_map(_)})}handleQuickJumpChange(d){const _=d.target.value.replace(/ /g,"%20"),C=iu().replace(/map=[^&]*/,`map=${_}`);My(C)}render(){const d=this.props.map?In.maps.map(_=>_.name).filter(_=>_.split(".")[0]===this.props.map.split(".")[0]):[];return $("div",{children:d.length>1&&$("select",{value:this.props.map,onChange:this.handleQuickJumpChange,id:"quick-jump-menu",children:d.map(_=>$("option",{value:_,children:Mb(_)}))})})}}const XN="/assets/escher-logo@2x-alCUHskY.png",ZN="/assets/sbrg-logo-BgBPBNmV.png",qN="/assets/nnf-logo-CKR0_2VE.jpg",KN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='256px'%20height='250px'%20viewBox='0%200%20256%20250'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20preserveAspectRatio='xMidYMid'%3e%3cg%3e%3cpath%20d='M128.00106,0%20C57.3172926,0%200,57.3066942%200,128.00106%20C0,184.555281%2036.6761997,232.535542%2087.534937,249.460899%20C93.9320223,250.645779%2096.280588,246.684165%2096.280588,243.303333%20C96.280588,240.251045%2096.1618878,230.167899%2096.106777,219.472176%20C60.4967585,227.215235%2052.9826207,204.369712%2052.9826207,204.369712%20C47.1599584,189.574598%2038.770408,185.640538%2038.770408,185.640538%20C27.1568785,177.696113%2039.6458206,177.859325%2039.6458206,177.859325%20C52.4993419,178.762293%2059.267365,191.04987%2059.267365,191.04987%20C70.6837675,210.618423%2089.2115753,204.961093%2096.5158685,201.690482%20C97.6647155,193.417512%20100.981959,187.77078%20104.642583,184.574357%20C76.211799,181.33766%2046.324819,170.362144%2046.324819,121.315702%20C46.324819,107.340889%2051.3250588,95.9223682%2059.5132437,86.9583937%20C58.1842268,83.7344152%2053.8029229,70.715562%2060.7532354,53.0843636%20C60.7532354,53.0843636%2071.5019501,49.6441813%2095.9626412,66.2049595%20C106.172967,63.368876%20117.123047,61.9465949%20128.00106,61.8978432%20C138.879073,61.9465949%20149.837632,63.368876%20160.067033,66.2049595%20C184.49805,49.6441813%20195.231926,53.0843636%20195.231926,53.0843636%20C202.199197,70.715562%20197.815773,83.7344152%20196.486756,86.9583937%20C204.694018,95.9223682%20209.660343,107.340889%20209.660343,121.315702%20C209.660343,170.478725%20179.716133,181.303747%20151.213281,184.472614%20C155.80443,188.444828%20159.895342,196.234518%20159.895342,208.176593%20C159.895342,225.303317%20159.746968,239.087361%20159.746968,243.303333%20C159.746968,246.709601%20162.05102,250.70089%20168.53925,249.443941%20C219.370432,232.499507%20256,184.536204%20256,128.00106%20C256,57.3066942%20198.691187,0%20128.00106,0%20Z%20M47.9405593,182.340212%20C47.6586465,182.976105%2046.6581745,183.166873%2045.7467277,182.730227%20C44.8183235,182.312656%2044.2968914,181.445722%2044.5978808,180.80771%20C44.8734344,180.152739%2045.876026,179.97045%2046.8023103,180.409216%20C47.7328342,180.826786%2048.2627451,181.702199%2047.9405593,182.340212%20Z%20M54.2367892,187.958254%20C53.6263318,188.524199%2052.4329723,188.261363%2051.6232682,187.366874%20C50.7860088,186.474504%2050.6291553,185.281144%2051.2480912,184.70672%20C51.8776254,184.140775%2053.0349512,184.405731%2053.8743302,185.298101%20C54.7115892,186.201069%2054.8748019,187.38595%2054.2367892,187.958254%20Z%20M58.5562413,195.146347%20C57.7719732,195.691096%2056.4895886,195.180261%2055.6968417,194.042013%20C54.9125733,192.903764%2054.9125733,191.538713%2055.713799,190.991845%20C56.5086651,190.444977%2057.7719732,190.936735%2058.5753181,192.066505%20C59.3574669,193.22383%2059.3574669,194.58888%2058.5562413,195.146347%20Z%20M65.8613592,203.471174%20C65.1597571,204.244846%2063.6654083,204.03712%2062.5716717,202.981538%20C61.4524999,201.94927%2061.1409122,200.484596%2061.8446341,199.710926%20C62.5547146,198.935137%2064.0575422,199.15346%2065.1597571,200.200564%20C66.2704506,201.230712%2066.6095936,202.705984%2065.8613592,203.471174%20Z%20M75.3025151,206.281542%20C74.9930474,207.284134%2073.553809,207.739857%2072.1039724,207.313809%20C70.6562556,206.875043%2069.7087748,205.700761%2070.0012857,204.687571%20C70.302275,203.678621%2071.7478721,203.20382%2073.2083069,203.659543%20C74.6539041,204.09619%2075.6035048,205.261994%2075.3025151,206.281542%20Z%20M86.046947,207.473627%20C86.0829806,208.529209%2084.8535871,209.404622%2083.3316829,209.4237%20C81.8013,209.457614%2080.563428,208.603398%2080.5464708,207.564772%20C80.5464708,206.498591%2081.7483088,205.631657%2083.2786917,205.606221%20C84.8005962,205.576546%2086.046947,206.424403%2086.046947,207.473627%20Z%20M96.6021471,207.069023%20C96.7844366,208.099171%2095.7267341,209.156872%2094.215428,209.438785%20C92.7295577,209.710099%2091.3539086,209.074206%2091.1652603,208.052538%20C90.9808515,206.996955%2092.0576306,205.939253%2093.5413813,205.66582%20C95.054807,205.402984%2096.4092596,206.021919%2096.6021471,207.069023%20Z'%20fill='%23CF6965'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",JN="/assets/escher-fba-BUbpY6uN.png",$N="/assets/structures-_scpDbt-.png",e3="/assets/tooltip-BKdBA7-x.png",t3=()=>$("div",{id:"homepage-title-box",class:"row",children:[$("div",{id:"github-link-box",children:[$("a",{href:"https://github.com/zakandrewking/escher",children:[$("img",{src:KN,alt:"GitHub",id:"github-link"}),"GitHub"]}),$("a",{href:"https://escher.readthedocs.io",children:"Docs"}),$("a",{href:"https://github.com/zakandrewking/escher/releases",children:"What's new?"})]}),$("img",{id:"homepage-logo",alt:"",src:XN}),$("div",{style:{width:"100%"},children:[$("div",{id:"homepage-title",children:"ESCHER"}),$("div",{id:"homepage-description",children:"Build, share, and embed visualizations of metabolic pathways"})]})]});class n3 extends Cr{constructor(d){super(d),this.state={maps:[{name:"None"},...In.maps],models:[{name:"None"},...In.models],tools:["Builder","Viewer"],organisms:["All",...ni.uniq(In.models.map(_=>_.organism))],map:"e_coli_core.Core metabolism",model:"e_coli_core",tool:"Builder",organism:"All",scrollToZoom:!1,neverAskBeforeQuit:!1},this.onOrganism=this.onOrganism.bind(this),this.handleOrganismChange=this.handleOrganismChange.bind(this)}componentDidMount(){window.addEventListener("keyup",d=>{d.keyCode===13&&document.getElementById("go-button").click()})}updateModel(d){d!=="None"&&this.setState({model:d.split(".")[0]})}handleOrganismChange(d){const _=d.target.value;if(this.setState({organism:_}),_!=="All"){const w=this.state.maps.filter(b=>this.onOrganism(b,_)).map(b=>b.name);ni.contains(w,this.state.map)||this.setState({map:w[1]});const C=this.state.models.filter(b=>this.onOrganism(b,_)).map(b=>b.name);ni.contains(C,this.state.model)||this.setState({model:C[1]})}}onOrganism(d,_=null){return _===null&&(_=this.state.organism),d.name==="None"||_==="All"||d.organism===_}render(){const d=["map","tool","scrollToZoom"],C=`#/app?${(this.state.tool==="Viewer"?d:[...d,"model","neverAskBeforeQuit"]).map(b=>{const L=this.state[b],z=L.name||L;return z!=="None"&&z!==!1?`${b}=${z}`:null}).filter(b=>b).join("&")}`;return $("div",{id:"filter-container",class:"column",children:[$("div",{id:"organism-filter",class:"filter",children:[$("h3",{class:"filter-label",children:"Filter by organism"}),$("select",{class:"filter-select",value:this.state.organism,onChange:this.handleOrganismChange,children:this.state.organisms.map(b=>$("option",{value:b,children:b}))})]}),$("div",{class:"row-collapse",children:[$("div",{id:"map-filter",class:"filter",children:[$("h3",{class:"filter-label",children:"Map"}),$("select",{class:"filter-select",value:this.state.map,onChange:b=>{this.setState({map:b.target.value}),this.updateModel(b.target.value)},children:this.state.maps.filter(b=>this.onOrganism(b)).map(b=>b.name).map(b=>$("option",{value:b,children:Mb(b)}))})]}),$("div",{id:"model-filter",class:"filter",style:this.state.tool==="Viewer"?"color: #aaa":null,children:[$("h3",{class:"filter-label",children:"Model (Optional)"}),$("select",{class:"filter-select",value:this.state.model,onChange:b=>this.setState({model:b.target.value}),disabled:this.state.tool==="Viewer",style:this.state.tool==="Viewer"?"background-color: #eee":null,children:this.state.models.filter(b=>this.onOrganism(b)).map(b=>b.name).map(b=>$("option",{value:b,children:b}))})]}),$("div",{id:"tool-filter",class:"filter",children:[$("h3",{class:"filter-label",children:"Tool"}),$("select",{class:"filter-select",value:this.state.tool,onChange:b=>this.setState({tool:b.target.value}),children:this.state.tools.map(b=>$("option",{value:b,children:b}))})]})]}),$("div",{class:"row-collapse",children:[$("div",{id:"options-filter",class:"filter",children:[$("h3",{class:"filter-label",children:"Options"}),$("label",{class:"filter-checkbox",children:[$("input",{type:"checkbox",checked:this.state.scrollToZoom,onChange:b=>this.setState({scrollToZoom:b.target.checked})}),"Scroll to zoom (instead of scroll to pan)"]}),$("label",{class:"filter-checkbox",style:this.state.tool==="Viewer"?"color: #aaa":null,children:[$("input",{type:"checkbox",checked:this.state.neverAskBeforeQuit,onChange:b=>this.setState({neverAskBeforeQuit:b.target.checked}),disabled:this.state.tool==="Viewer"}),"Never ask before reloading"]})]}),$("div",{class:"filter",id:"go-button-container",children:$("a",{href:C,id:"go-button",target:"_blank",children:"Load map"})})]})]})}}const r3=()=>$("div",{id:"apps",class:"row-collapse section",children:[$("div",{class:"column section-title",children:[$("h2",{children:"Escher Apps"}),$("span",{children:"New capabilities with extensions of Escher"})]}),$("a",{class:"demo-box",href:"https://sbrg.github.io/escher-fba",style:{backgroundImage:`url(${JN})`},children:$("div",{class:"demo-title",children:[$("h3",{children:"Escher-FBA"}),"Interactive, web-based flux balance analysis"]})})]}),i3=()=>$("div",{id:"python",class:"row-collapse section",children:[$("h2",{class:"section-title",children:"Escher for Python"}),$("div",{class:"column section-body",children:[$("p",{children:"Use Escher in Python and Jupyter"}),$("pre",{children:["import escher",$("br",{}),"escher.Builder(reaction_data=fluxes)"]}),$("a",{href:"https://escher.readthedocs.io/en/latest/escher-python.html",children:"Learn more and install"})]})]}),o3=()=>$("div",{id:"demos",class:"row-collapse section",children:[$("div",{class:"column section-title demo-section-title",children:[$("h2",{children:"Demos"}),$("span",{children:"Technical demos for developers"})]}),$("a",{class:"demo-box",href:"https://escher.github.io//escher-demo/structures",style:{backgroundImage:`url(${$N}`},children:$("div",{class:"demo-title",children:[$("h3",{children:"Structures"}),"Embed chemical structures"]})}),$("a",{class:"demo-box",href:"https://escher.github.io/escher-demo/custom_tooltips",style:{backgroundImage:`url(${e3})`},children:$("div",{class:"demo-title",children:[$("h3",{children:"Tooltips"}),"Customize tooltips"]})})]}),a3=()=>$("div",{id:"escher-converter",class:"row-collapse section",children:[$("h2",{class:"section-title",children:"EscherConverter"}),$("div",{class:"column section-body",children:[$("p",{children:"EscherConverter is a standalone program that reads files created with Escher and converts them to files in community standard formats."}),$("p",{children:$("a",{href:"https://escher.readthedocs.org/en/stable/escherconverter.html",children:"Learn more and download"})})]})]}),s3=()=>$("div",{class:"row-collapse section",children:[$("h2",{children:"FAQ"}),$("ol",{id:"faq-list",children:[$("li",{children:[$("h4",{children:"What is Escher?"}),$("p",{children:["Escher is a web-based tool for building, viewing, and sharing visualizations of biological pathways. These pathway maps are a great way to contextualize data about metabolism. To get started, load a map by clicking the ",$("b",{children:"Load Map"})," button above, or visit the ",$("a",{href:"https://escher.readthedocs.io",children:"documentation"})," to learn more."]})]}),$("li",{children:[$("h4",{children:"How do I cite Escher?"}),$("p",{children:"You can help support Escher by citing our publication when you use Escher or EscherConverter:"}),$("p",{children:["Zachary A. King, Andreas Dräger, Ali Ebrahim, Nikolaus Sonnenschein, Nathan E. Lewis, and Bernhard O. Palsson (2015) ",$("i",{children:"Escher: A web application for building, sharing, and embedding data-rich visualizations of biological pathways"}),", PLOS Computational Biology 11(8): e1004321. doi:",$("a",{href:"http://dx.doi.org/10.1371/journal.pcbi.1004321",children:"10.1371/journal.pcbi.1004321"})]})]}),$("li",{children:[$("h4",{children:"How is Escher licensed?"}),$("p",{children:["Escher and EscherConverter are distributed under the ",$("a",{href:"https://github.com/zakandrewking/escher/blob/master/LICENSE",children:"MIT license"}),"."]})]}),$("li",{children:[$("h4",{children:"What browsers can I use?"}),$("p",{children:"We recommend using Google Chrome for optimal performance, but Escher will also run in the latest versions of Firefox, MS Edge, and Safari (including mobile Chrome & Safari)."})]}),$("li",{children:[$("h4",{children:"I have more questions. Who do I ask?"}),$("p",{children:["Visit the ",$("a",{href:"https://escher.readthedocs.io",children:"documentation"})," to get started with Escher and explore the API, or ask questions in the ",$("a",{href:"https://gitter.im/zakandrewking/escher",children:"Gitter chat room"}),". If you find bugs or would like to contribute to the project, feel free to submit an issue and or a pull request on ",$("a",{href:"https://github.com/zakandrewking/escher",children:"Github"}),"."]})]})]})]}),l3=()=>$("div",{id:"funding",class:"column section",children:[$("p",{children:"Funding provided by the Novo Nordisk Foundation through the Center for Biosustainability at the Technical University of Denmark (NNF10CC1016517)."}),$("div",{id:"logos",class:"row",children:[$("a",{href:"http://novonordiskfonden.dk/en",children:$("img",{id:"nnf-logo",alt:"",src:qN})}),$("a",{href:"http://systemsbiology.ucsd.edu/",children:$("img",{id:"sbrg-logo",alt:"",src:ZN})})]})]}),u3=()=>$("footer",{children:$("div",{class:"footer-container column",children:[$("div",{class:"row",children:[$("span",{class:"more",children:[$("a",{href:"https://escher.readthedocs.io",children:"Documentation"})," – ",$("a",{href:"https://github.com/zakandrewking/escher",children:"GitHub"})]}),$("div",{class:"fill"}),$("span",{class:"version",children:$("a",{href:"https://github.com/zakandrewking/escher/releases",children:["Version ","1.8.1"]})})]}),$("span",{children:"© 2019 The Regents of the University of California"})]})});class c3 extends Cr{componentWillMount(){document.body.classList.contains("fill-screen")&&document.body.classList.remove("fill-screen")}render(){return $("div",{id:"homepage-container",children:[$("div",{id:"homepage-body",children:[$(t3,{}),$(n3,{}),$("hr",{}),$(r3,{}),$("hr",{}),$(i3,{}),$("hr",{}),$(o3,{}),$("hr",{}),$(a3,{}),$("hr",{}),$(s3,{}),$("hr",{}),$(l3,{})]}),$(u3,{})]})}}const f3=()=>$(Sy,{history:sP(),children:[$(c3,{path:"/"}),$(QN,{path:"/app"})]});YI($(f3,{}),document.getElementById("root"));
