!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=9)}([function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a=j;for(o=arguments.length;o-- >2;)N.push(arguments[o]);for(e&&null!=e.children&&(N.length||N.push(e.children),delete e.children);N.length;)if((r=N.pop())&&void 0!==r.pop)for(o=r.length;o--;)N.push(r[o]);else"boolean"===typeof r&&(r=null),(i="function"!==typeof t)&&(null==r?r="":"number"===typeof r?r=String(r):"string"!==typeof r&&(i=!1)),i&&n?a[a.length-1]+=r:a===j?a=[r]:a.push(r),n=i;var s=new D;return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==S.vnode&&S.vnode(s),s}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function a(t,e){return r(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t){!t._dirty&&(t._dirty=!0)&&1==Q.push(t)&&(S.debounceRendering||O)(c)}function c(){for(var t;t=Q.pop();)t._dirty&&C(t)}function l(t,e,n){return"string"===typeof e||"number"===typeof e?void 0!==t.splitText:"string"===typeof e.nodeName?!t._componentConstructor&&u(t,e.nodeName):n||t._componentConstructor===e.nodeName}function u(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function f(t){var e=i({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function h(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)o(n,null),o(r,t);else if("class"!==e||i)if("style"===e){if(r&&"string"!==typeof r&&"string"!==typeof n||(t.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"===typeof r[a]&&!1===L.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,A,s):t.removeEventListener(e,A,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var c=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?c?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!==typeof r&&(c?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function A(t){return this._listeners[t.type](S.event&&S.event(t)||t)}function g(){for(var t;t=z.shift();)S.afterMount&&S.afterMount(t),t.componentDidMount&&t.componentDidMount()}function b(t,e,n,r,i,o){F++||(U=null!=i&&void 0!==i.ownerSVGElement,Y=null!=t&&!("__preactattr_"in t));var a=m(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--F||(Y=!1,o||g()),a}function m(t,e,n,r,i){var o=t,a=U;if(null!=e&&"boolean"!==typeof e||(e=""),"string"===typeof e||"number"===typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),v(t,!0))),o.__preactattr_=!0,o;var s=e.nodeName;if("function"===typeof s)return B(t,e,n,r);if(U="svg"===s||"foreignObject"!==s&&U,s=String(s),(!t||!u(t,s))&&(o=h(s,U),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),v(t,!0)}var c=o.firstChild,l=o.__preactattr_,f=e.children;if(null==l){l=o.__preactattr_={};for(var d=o.attributes,p=d.length;p--;)l[d[p].name]=d[p].value}return!Y&&f&&1===f.length&&"string"===typeof f[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=f[0]&&(c.nodeValue=f[0]):(f&&f.length||null!=c)&&y(o,f,n,r,Y||null!=l.dangerouslySetInnerHTML),w(o,e.attributes,l),U=a,o}function y(t,e,n,r,i){var o,a,s,c,u,f=t.childNodes,h=[],p={},A=0,g=0,b=f.length,y=0,_=e?e.length:0;if(0!==b)for(var w=0;w<b;w++){var x=f[w],M=x.__preactattr_,E=_&&M?x._component?x._component.__key:M.key:null;null!=E?(A++,p[E]=x):(M||(void 0!==x.splitText?!i||x.nodeValue.trim():i))&&(h[y++]=x)}if(0!==_)for(var w=0;w<_;w++){c=e[w],u=null;var E=c.key;if(null!=E)A&&void 0!==p[E]&&(u=p[E],p[E]=void 0,A--);else if(g<y)for(o=g;o<y;o++)if(void 0!==h[o]&&l(a=h[o],c,i)){u=a,h[o]=void 0,o===y-1&&y--,o===g&&g++;break}u=m(u,c,n,r),s=f[w],u&&u!==t&&u!==s&&(null==s?t.appendChild(u):u===s.nextSibling?d(s):t.insertBefore(u,s))}if(A)for(var w in p)void 0!==p[w]&&v(p[w],!1);for(;g<=y;)void 0!==(u=h[y--])&&v(u,!1)}function v(t,e){var n=t._component;n?I(n):(null!=t.__preactattr_&&o(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||d(t),_(t))}function _(t){for(t=t.lastChild;t;){var e=t.previousSibling;v(t,!0),t=e}}function w(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||p(t,r,n[r],n[r]=void 0,U);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||p(t,r,n[r],n[r]=e[r],U)}function x(t,e,n){var r,i=P.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),k.call(r,e,n)):(r=new k(e,n),r.constructor=t,r.render=M);i--;)if(P[i].constructor===t)return r.nextBase=P[i].nextBase,P.splice(i,1),r;return r}function M(t,e,n){return this.constructor(t,n)}function E(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,"undefined"===typeof t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&t.base?s(t):C(t,1,i)),o(t.__ref,t))}function C(t,e,n,r){if(!t._disable){var o,a,s,c=t.props,l=t.state,u=t.context,h=t.prevProps||c,d=t.prevState||l,p=t.prevContext||u,A=t.base,m=t.nextBase,y=A||m,_=t._component,w=!1,M=p;if(t.constructor.getDerivedStateFromProps&&(l=i(i({},l),t.constructor.getDerivedStateFromProps(c,l)),t.state=l),A&&(t.props=h,t.state=d,t.context=p,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,u)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,u),t.props=c,t.state=l,t.context=u),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!w){o=t.render(c,l,u),t.getChildContext&&(u=i(i({},u),t.getChildContext())),A&&t.getSnapshotBeforeUpdate&&(M=t.getSnapshotBeforeUpdate(h,d));var B,k,T=o&&o.nodeName;if("function"===typeof T){var D=f(o);a=_,a&&a.constructor===T&&D.key==a.__key?E(a,D,1,u,!1):(B=a,t._component=a=x(T,D,u),a.nextBase=a.nextBase||m,a._parentComponent=t,E(a,D,0,u,!1),C(a,1,n,!0)),k=a.base}else s=y,B=_,B&&(s=t._component=null),(y||1===e)&&(s&&(s._component=null),k=b(s,o,u,n||!A,y&&y.parentNode,!0));if(y&&k!==y&&a!==_){var N=y.parentNode;N&&k!==N&&(N.replaceChild(k,y),B||(y._component=null,v(y,!1)))}if(B&&I(B),t.base=k,k&&!r){for(var j=t,O=t;O=O._parentComponent;)(j=O).base=k;k._component=j,k._componentConstructor=j.constructor}}for(!A||n?z.push(t):w||(t.componentDidUpdate&&t.componentDidUpdate(h,d,M),S.afterUpdate&&S.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);F||r||g()}}function B(t,e,n,r){for(var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,c=s,l=f(e);i&&!c&&(i=i._parentComponent);)c=i.constructor===e.nodeName;return i&&c&&(!r||i._component)?(E(i,l,3,n,r),t=i.base):(o&&!s&&(I(o),t=a=null),i=x(e.nodeName,l,n),t&&!i.nextBase&&(i.nextBase=t,a=null),E(i,l,1,n,r),t=i.base,a&&t!==a&&(a._component=null,v(a,!1))),t}function I(t){S.beforeUnmount&&S.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?I(n):e&&(null!=e.__preactattr_&&o(e.__preactattr_.ref,null),t.nextBase=e,d(e),P.push(t),_(e)),o(t.__ref,null)}function k(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function T(t,e,n){return b(n,t,{},!1,e,!1)}n.d(e,"c",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return k}),n.d(e,"d",function(){return T});var D=function(){},S={},N=[],j=[],O="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,L=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Q=[],z=[],F=0,U=!1,Y=!1,P=[];i(k.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"===typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),s(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),C(this,2)},render:function(){}})},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return b=t,m}}function o(t,e){try{return t(e)}catch(t){return b=t,m}}function a(t,e,n){try{t(e,n)}catch(t){return b=t,m}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&A(t,this)}function c(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),l(t,new p(e,n,a))})}function l(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);u(t,e)}function u(t,e){g(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?f(e.promise,t._18):h(e.promise,t._18));var r=o(n,t._18);r===m?h(e.promise,b):f(e.promise,r)})}function f(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=i(e);if(n===m)return h(t,b);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void A(n.bind(e),t)}t._83=1,t._18=e,d(t)}function h(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),d(t)}function d(t){if(1===t._75&&(l(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)l(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function A(t,e){var n=!1,r=a(t,function(t){n||(n=!0,f(e,t))},function(t){n||(n=!0,h(e,t))});n||r!==m||(n=!0,h(e,b))}var g=n(12),b=null,m={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return c(this,t,e);var n=new s(r);return l(this,new p(t,e,n)),n}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,o=t.match(i),a={};if(o&&o[1])for(var c=o[1].split("&"),l=0;l<c.length;l++){var u=c[l].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}t=s(t.replace(i,"")),e=s(e||"");for(var f=Math.max(t.length,e.length),h=0;h<f;h++)if(e[h]&&":"===e[h].charAt(0)){var d=e[h].replace(/(^\:|[+*?]+$)/g,""),p=(e[h].match(/[+*?]+$/)||x)[0]||"",A=~p.indexOf("+"),g=~p.indexOf("*"),b=t[h]||"";if(!b&&!g&&(p.indexOf("?")<0||A)){r=!1;break}if(a[d]=decodeURIComponent(b),A||g){a[d]=t.slice(h).map(decodeURIComponent).join("/");break}}else if(e[h]!==t[h]){r=!1;break}return(!0===n.default||!1!==r)&&a}function o(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function a(t,e){return t.index=e,t.rank=u(t),t.attributes}function s(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function c(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}function l(t){return s(t).map(c).join("")}function u(t){return t.attributes.default?0:l(t.attributes.path)}function f(t){return null!=t.__preactattr_||"undefined"!==typeof Symbol&&null!=t[Symbol.for("preactattr")]}function h(t,e){void 0===e&&(e="push"),M&&M[e]?M[e](t):"undefined"!==typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}function d(){var t;return t=M&&M.location?M.location:M&&M.getCurrentLocation?M.getCurrentLocation():"undefined"!==typeof location?location:B,""+(t.pathname||"")+(t.search||"")}function p(t,e){return void 0===e&&(e=!1),"string"!==typeof t&&t.url&&(e=t.replace,t=t.url),A(t)&&h(t,e?"replace":"push"),g(t)}function A(t){for(var e=E.length;e--;)if(E[e].canRoute(t))return!0;return!1}function g(t){for(var e=!1,n=0;n<E.length;n++)!0===E[n].routeTo(t)&&(e=!0);for(var r=C.length;r--;)C[r](t);return e}function b(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return p(e)}}function m(t){if(0==t.button)return b(t.currentTarget||t.target||this),y(t)}function y(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function v(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")&&f(e)){if(e.hasAttribute("native"))return;if(b(e))return y(t)}}while(e=e.parentNode)}}function _(){I||("function"===typeof addEventListener&&(M||addEventListener("popstate",function(){g(d())}),addEventListener("click",v)),I=!0)}n.d(e,"b",function(){return d}),n.d(e,"c",function(){return p});var w=n(0),x={},M=null,E=[],C=[],B={},I=!1,k=function(t){function e(e){t.call(this,e),e.history&&(M=e.history),this.state={url:e.url||d()},_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},e.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},e.prototype.componentWillMount=function(){E.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;M&&(this.unlisten=M.listen(function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))})),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"===typeof this.unlisten&&this.unlisten(),E.splice(E.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(a).sort(o).map(function(t){var o=i(e,t.attributes.path,t.attributes);if(o){if(!1!==n){var a={url:e,matches:o};return r(a,o),delete a.ref,delete a.key,Object(w.b)(t,a)}return t}}).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,r=t.onChange,i=e.url,o=this.getMatchingChildren(n,i,!0),a=o[0]||null;this._didRoute=!!a;var s=this.previousUrl;return i!==s&&(this.previousUrl=i,"function"===typeof r&&r({router:this,url:i,previous:s,active:o,current:a})),a},e}(w.a),T=function(t){return Object(w.c)("a",r({onClick:m},t))},D=function(t){return Object(w.c)(t.component,t)};k.subscribers=C,k.getCurrentUrl=d,k.route=p,k.Router=k,k.Route=D,k.Link=T,e.a=k},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";e.__esModule=!0;var r=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return r(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(t,e,n){(function(t,n){var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},a=o._,s=Array.prototype,c=Object.prototype,l="undefined"!==typeof Symbol?Symbol.prototype:null,u=s.push,f=s.slice,h=c.toString,d=c.hasOwnProperty,p=Array.isArray,A=Object.keys,g=Object.create,b=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"==typeof e||e.nodeType?o._=m:("undefined"!=typeof n&&!n.nodeType&&n.exports&&(e=n.exports=m),e._=m),m.VERSION="1.9.1";var y,v=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return m.iteratee!==y?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?v(t,e,n):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=y=function(t,e){return _(t,e,1/0)};var w=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},x=function(t){if(!m.isObject(t))return{};if(g)return g(t);b.prototype=t;var e=new b;return b.prototype=null,e},M=function(t){return function(e){return null==e?void 0:e[t]}},E=function(t,e){return null!=t&&d.call(t,e)},C=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},B=Math.pow(2,53)-1,I=M("length"),k=function(t){var e=I(t);return"number"==typeof e&&e>=0&&e<=B};m.each=m.forEach=function(t,e,n){e=v(e,n);var r,i;if(k(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=m.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},m.map=m.collect=function(t,e,n){e=_(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var T=function(t){var e=function(e,n,r,i){var o=!k(e)&&m.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var c=o?o[s]:s;r=n(r,e[c],c,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,v(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=T(1),m.reduceRight=m.foldr=T(-1),m.find=m.detect=function(t,e,n){var r=k(t)?m.findIndex:m.findKey,i=r(t,e,n);if(void 0!==i&&-1!==i)return t[i]},m.filter=m.select=function(t,e,n){var r=[];return e=_(e,n),m.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},m.reject=function(t,e,n){return m.filter(t,m.negate(_(e)),n)},m.every=m.all=function(t,e,n){e=_(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},m.some=m.any=function(t,e,n){e=_(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n,r){return k(t)||(t=m.values(t)),("number"!=typeof n||r)&&(n=0),m.indexOf(t,e,n)>=0},m.invoke=w(function(t,e,n){var r,i;return m.isFunction(e)?i=e:m.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),m.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=C(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=k(t)?t:m.values(t);for(var s=0,c=t.length;s<c;s++)null!=(r=t[s])&&r>o&&(o=r)}else e=_(e,n),m.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},m.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=k(t)?t:m.values(t);for(var s=0,c=t.length;s<c;s++)null!=(r=t[s])&&r<o&&(o=r)}else e=_(e,n),m.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,n){if(null==e||n)return k(t)||(t=m.values(t)),t[m.random(t.length-1)];var r=k(t)?m.clone(t):m.values(t),i=I(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=m.random(a,o),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,e)},m.sortBy=function(t,e,n){var r=0;return e=_(e,n),m.pluck(m.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var D=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=_(r,i),m.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};m.groupBy=D(function(t,e,n){E(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=D(function(t,e,n){t[n]=e}),m.countBy=D(function(t,e,n){E(t,n)?t[n]++:t[n]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?f.call(t):m.isString(t)?t.match(S):k(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:k(t)?t.length:m.keys(t).length},m.partition=D(function(t,e,n){t[n?0:1].push(e)},!0),m.first=m.head=m.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var N=function(t,e,n,r){r=r||[];for(var i=r.length,o=0,a=I(t);o<a;o++){var s=t[o];if(k(s)&&(m.isArray(s)||m.isArguments(s)))if(e)for(var c=0,l=s.length;c<l;)r[i++]=s[c++];else N(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};m.flatten=function(t,e){return N(t,e,!1)},m.without=w(function(t,e){return m.difference(t,e)}),m.uniq=m.unique=function(t,e,n,r){m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],a=0,s=I(t);a<s;a++){var c=t[a],l=n?n(c,a,t):c;e&&!n?(a&&o===l||i.push(c),o=l):n?m.contains(o,l)||(o.push(l),i.push(c)):m.contains(i,c)||i.push(c)}return i},m.union=w(function(t){return m.uniq(N(t,!0,!0))}),m.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=I(t);r<i;r++){var o=t[r];if(!m.contains(e,o)){var a;for(a=1;a<n&&m.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},m.difference=w(function(t,e){return e=N(e,!0,!0),m.filter(t,function(t){return!m.contains(e,t)})}),m.unzip=function(t){for(var e=t&&m.max(t,I).length||0,n=Array(e),r=0;r<e;r++)n[r]=m.pluck(t,r);return n},m.zip=w(m.unzip),m.object=function(t,e){for(var n={},r=0,i=I(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var j=function(t){return function(e,n,r){n=_(n,r);for(var i=I(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};m.findIndex=j(1),m.findLastIndex=j(-1),m.sortedIndex=function(t,e,n,r){n=_(n,r,1);for(var i=n(e),o=0,a=I(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var O=function(t,e,n){return function(r,i,o){var a=0,s=I(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(f.call(r,a,s),m.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},m.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(f.call(t,r,r+=e));return n};var L=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=x(t.prototype),a=t.apply(o,i);return m.isObject(a)?a:o};m.bind=w(function(t,e,n){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var r=w(function(i){return L(t,r,e,this,n.concat(i))});return r}),m.partial=w(function(t,e){var n=m.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return L(t,r,this,this,a)};return r}),m.partial.placeholder=m,m.bindAll=w(function(t,e){e=N(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=m.bind(t[r],t)}}),m.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return E(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=w(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var c=function(){s=!1===n.leading?0:m.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=m.now();s||!1!==n.leading||(s=l);var u=e-(l-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},m.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=w(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=m.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},m.once=m.partial(m.before,2),m.restArguments=w;var Q=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(t,e){var n=z.length,r=t.constructor,i=m.isFunction(r)&&r.prototype||c,o="constructor";for(E(t,o)&&!m.contains(e,o)&&e.push(o);n--;)(o=z[n])in t&&t[o]!==i[o]&&!m.contains(e,o)&&e.push(o)};m.keys=function(t){if(!m.isObject(t))return[];if(A)return A(t);var e=[];for(var n in t)E(t,n)&&e.push(n);return Q&&F(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var n in t)e.push(n);return Q&&F(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},m.mapObject=function(t,e,n){e=_(e,n);for(var r=m.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()};var U=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,c=0;c<s;c++){var l=a[c];e&&void 0!==n[l]||(n[l]=o[l])}return n}};m.extend=U(m.allKeys),m.extendOwn=m.assign=U(m.keys),m.findKey=function(t,e,n){e=_(e,n);for(var r,i=m.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r};var Y=function(t,e,n){return e in n};m.pick=w(function(t,e){var n={},r=e[0];if(null==t)return n;m.isFunction(r)?(e.length>1&&(r=v(r,e[1])),e=m.allKeys(t)):(r=Y,e=N(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),m.omit=w(function(t,e){var n,r=e[0];return m.isFunction(r)?(r=m.negate(r),e.length>1&&(n=e[1])):(e=m.map(N(e,!1,!1),String),r=function(t,n){return!m.contains(e,n)}),m.pick(t,r,n)}),m.defaults=U(m.allKeys,!0),m.create=function(t,e){var n=x(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var P,R;P=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&R(t,e,n,r)},R=function(t,e,n,r){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!P(t[c],e[c],n,r))return!1}else{var u,f=m.keys(t);if(c=f.length,m.keys(e).length!==c)return!1;for(;c--;)if(u=f[c],!E(e,u)||!P(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(t,e){return P(t,e)},m.isEmpty=function(t){return null==t||(k(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=p||function(t){return"[object Array]"===h.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){m["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return E(t,"callee")});var W=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof W&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return E(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!d.call(t,i))return!1;t=t[i]}return!!n},m.noConflict=function(){return o._=a,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return C(e,t)}:M(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?C(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=v(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=m.invert(G),V=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=V(G),m.unescape=V(H),m.result=function(t,e,n){m.isArray(e)||(e=[e]);var r=e.length;if(!r)return m.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=m.isFunction(o)?o.call(t):o}return t};var Z=0;m.uniqueId=function(t){var e=++Z+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+J[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||K).source,(e.interpolate||K).source,(e.evaluate||K).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(q,X),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,m)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},m.chain=function(t){var e=m(t);return e._chain=!0,e};var $=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),$(this,n.apply(m,t))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],$(this,n)}}),m.each(["concat","join","slice"],function(t){var e=s[t];m.prototype[t]=function(){return $(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(i=function(){return m}.apply(e,r))&&(n.exports=i)}()}).call(e,n(2),n(25)(t))},function(t,e,n){"use strict";function r(t){if("None"===t)return t;var e=t.split("."),n=i(e,2),r=n[0];return n[1]+" ("+r+")"}e.a=r;var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports={maps:[{organism:"Escherichia coli",name:"e_coli_core.Core metabolism"},{organism:"Escherichia coli",name:"iJO1366.Central metabolism"},{organism:"Escherichia coli",name:"iJO1366.Fatty acid beta-oxidation"},{organism:"Escherichia coli",name:"iJO1366.Fatty acid biosynthesis (saturated)"},{organism:"Escherichia coli",name:"iJO1366.Nucleotide and histidine biosynthesis"},{organism:"Escherichia coli",name:"iJO1366.Nucleotide metabolism"},{organism:"Homo sapiens",name:"RECON1.Amino acid metabolism (partial)"},{organism:"Homo sapiens",name:"RECON1.Carbohydrate metabolism"},{organism:"Homo sapiens",name:"RECON1.Glycolysis TCA PPP"},{organism:"Homo sapiens",name:"RECON1.Inositol retinol metabolism"},{organism:"Homo sapiens",name:"RECON1.Tryptophan metabolism"},{organism:"Saccharomyces cerevisiae",name:"iMM904.Central carbon metabolism"}],models:[{organism:"Escherichia coli",name:"e_coli_core"},{organism:"Escherichia coli",name:"iJO1366"},{organism:"Homo sapiens",name:"RECON1"},{organism:"Saccharomyces cerevisiae",name:"iMM904"}],schema_version:"1-0-0",map_model_version:"6"}},function(t,e,n){n(10),t.exports=n(16)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(11).enable(),window.Promise=n(13)),n(14),Object.assign=n(15)},function(t,e,n){"use strict";function r(){l=!1,s._47=null,s._71=null}function i(t){function e(e){(t.allRejections||a(f[e].error,t.whitelist||c))&&(f[e].displayId=u++,t.onUnhandled?(f[e].logged=!0,t.onUnhandled(f[e].displayId,f[e].error)):(f[e].logged=!0,o(f[e].displayId,f[e].error)))}function n(e){f[e].logged&&(t.onHandled?t.onHandled(f[e].displayId,f[e].error):f[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[e].displayId+".")))}t=t||{},l&&r(),l=!0;var i=0,u=0,f={};s._47=function(t){2===t._83&&f[t._56]&&(f[t._56].logged?n(t._56):clearTimeout(f[t._56].timeout),delete f[t._56])},s._71=function(t,n){0===t._75&&(t._56=i++,f[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,c)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(1),c=[ReferenceError,TypeError,RangeError],l=!1;e.disable=r,e.enable=i},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function r(){for(;c<a.length;){var t=c;if(c+=1,a[t].call(),c>l){for(var e=0,n=a.length-c;e<n;e++)a[e]=a[e+c];a.length-=c,c=0}}a.length=0,c=0,s=!1}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,c=0,l=1024,u="undefined"!==typeof e?e:self,f=u.MutationObserver||u.WebKitMutationObserver;o="function"===typeof f?function(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(e,n(2))},function(t,e,n){"use strict";function r(t){var e=new i(i._44);return e._83=1,e._18=t,e}var i=n(1);t.exports=i;var o=r(!0),a=r(!1),s=r(null),c=r(void 0),l=r(0),u=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return c;if(!0===t)return o;if(!1===t)return a;if(0===t)return l;if(""===t)return u;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var c=s.then;if("function"===typeof c){return void new i(c.bind(s)).then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return b.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function c(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function l(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(b.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(b.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(b.arrayBuffer&&b.blob&&y(t))this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!v(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function A(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var b={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(b.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(t){return t&&DataView.prototype.isPrototypeOf(t)},v=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},b.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];g.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=g,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:A(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new g(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&b.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,c=r(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)o.call(n,u)&&(c[u]=n[u]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(c[s[f]]=n[s[f]])}}return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(17),a=n.n(o),s=n(24),c=n(28),l=function(){return Object(r.c)(i.a,{history:a()()},Object(r.c)(c.a,{path:"/"}),Object(r.c)(s.a,{path:"/app"}))};Object(r.d)(Object(r.c)(l,null),document.getElementById("root"))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(4),a=r(o),s=n(18),c=r(s),l=n(19),u=n(5),f=n(22),h=r(f),d=n(23),p={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,u.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:u.stripLeadingSlash,decodePath:u.addLeadingSlash},slash:{encodePath:u.addLeadingSlash,decodePath:u.addLeadingSlash}},A=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},g=function(t){return window.location.hash=t},b=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Hash history needs a DOM");var e=window.history,n=(0,d.supportsGoWithoutReloadUsingHash)(),r=t.getUserConfirmation,o=void 0===r?d.getConfirmation:r,s=t.hashType,f=void 0===s?"slash":s,m=t.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(t.basename)):"",y=p[f],v=y.encodePath,_=y.decodePath,w=function(){var t=_(A());return(0,a.default)(!m||(0,u.hasBasename)(t,m),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+m+'".'),m&&(t=(0,u.stripBasename)(t,m)),(0,l.createLocation)(t)},x=(0,h.default)(),M=function(t){i(G,t),G.length=e.length,x.notifyListeners(G.location,G.action)},E=!1,C=null,B=function(){var t=A(),e=v(t);if(t!==e)b(e);else{var n=w(),r=G.location;if(!E&&(0,l.locationsAreEqual)(r,n))return;if(C===(0,u.createPath)(n))return;C=null,I(n)}},I=function(t){if(E)E=!1,M();else{x.confirmTransitionTo(t,"POP",o,function(e){e?M({action:"POP",location:t}):k(t)})}},k=function(t){var e=G.location,n=N.lastIndexOf((0,u.createPath)(e));-1===n&&(n=0);var r=N.lastIndexOf((0,u.createPath)(t));-1===r&&(r=0);var i=n-r;i&&(E=!0,Q(i))},T=A(),D=v(T);T!==D&&b(D);var S=w(),N=[(0,u.createPath)(S)],j=function(t){return"#"+v(m+(0,u.createPath)(t))},O=function(t,e){(0,a.default)(void 0===e,"Hash history cannot push state; it is ignored");var n=(0,l.createLocation)(t,void 0,void 0,G.location);x.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=(0,u.createPath)(n),r=v(m+e);if(A()!==r){C=e,g(r);var i=N.lastIndexOf((0,u.createPath)(G.location)),o=N.slice(0,-1===i?0:i+1);o.push(e),N=o,M({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),M()}})},L=function(t,e){(0,a.default)(void 0===e,"Hash history cannot replace state; it is ignored");var n=(0,l.createLocation)(t,void 0,void 0,G.location);x.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=(0,u.createPath)(n),r=v(m+e);A()!==r&&(C=e,b(r));var i=N.indexOf((0,u.createPath)(G.location));-1!==i&&(N[i]=e),M({action:"REPLACE",location:n})}})},Q=function(t){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},z=function(){return Q(-1)},F=function(){return Q(1)},U=0,Y=function(t){U+=t,1===U?(0,d.addEventListener)(window,"hashchange",B):0===U&&(0,d.removeEventListener)(window,"hashchange",B)},P=!1,R=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=x.setPrompt(t);return P||(Y(1),P=!0),function(){return P&&(P=!1,Y(-1)),e()}},W=function(t){var e=x.appendListener(t);return Y(1),function(){Y(-1),e()}},G={length:e.length,action:"POP",location:S,createHref:j,push:O,replace:L,go:Q,goBack:z,goForward:F,block:R,listen:W};return G};e.default=m},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;c=new Error(e.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(20),a=r(o),s=n(21),c=r(s),l=n(5);e.createLocation=function(t,e,n,r){var o=void 0;"string"===typeof t?(o=(0,l.parsePath)(t),o.state=e):(o=i({},t),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,a.default)(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,c.default)(t.state,e.state)}},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),c=a||s;if(t&&r(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var l=void 0;if(o.length){var u=o[o.length-1];l="."===u||".."===u||""===u}else l=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?i(o,h):".."===d?(i(o,h),f++):f&&(i(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return l&&"/"!==p.substr(-1)&&(p+="/"),p}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});var n="undefined"===typeof t?"undefined":i(t);if(n!==("undefined"===typeof e?"undefined":i(e)))return!1;if("object"===n){var o=t.valueOf(),a=e.valueOf();if(o!==t||a!==e)return r(o,a);var s=Object.keys(t),c=Object.keys(e);return s.length===c.length&&s.every(function(n){return r(t[n],e[n])})}return!1}Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){var t=null,e=function(e){return(0,i.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,o){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}};e.default=o},function(t,e,n){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),s=n(3),c=n(6),l=n.n(c),u=n(26),f=(n.n(u),n(7)),h=n(27),d=(n.n(h),n(8)),p=n.n(d),A=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={builder:null},n.handleQuickJumpChange=n.handleQuickJumpChange.bind(n),n}return o(e,t),g(e,[{key:"shouldComponentUpdate",value:function(t){return this.props.url!==t.url&&this.loadMap(t.map),!1}},{key:"mapUrl",value:function(t){var e=l.a.find(p.a.maps,function(e){return e.name===t}).organism;return"https://escher.github.io/"+p.a.schema_version+"/"+p.a.map_model_version+"/maps/"+e+"/"+t+".json"}},{key:"modelUrl",value:function(t){var e=l.a.find(p.a.models,function(e){return e.name===t}).organism;return"https://escher.github.io/"+p.a.schema_version+"/"+p.a.map_model_version+"/models/"+e+"/"+t+".json"}},{key:"componentDidMount",value:function(){var t=this;Promise.all([this.props.map?fetch(this.mapUrl(this.props.map)).then(function(t){return t.json()}):Promise.resolve(null),this.props.model?fetch(this.modelUrl(this.props.model)).then(function(t){return t.json()}):Promise.resolve(null)]).then(function(e){var n=A(e,2),r=n[0],i=n[1];return t.loadBuilder(r,i)})}},{key:"loadBuilder",value:function(t,e){var n=new u.Builder(t,e,null,this.base,{fill_screen:!0,never_ask_before_quit:"Viewer"===this.props.tool||this.props.neverAskBeforeQuit,enable_editing:"Viewer"!==this.props.tool,scroll_behavior:this.props.scrollToZoom?"zoom":"pan"});this.setState({builder:n})}},{key:"loadMap",value:function(t){var e=this;fetch(this.mapUrl(t)).then(function(t){return t.json()}).then(function(t){e.state.builder.load_map(t)})}},{key:"handleQuickJumpChange",value:function(t){var e=t.target.value.replace(/ /g,"%20"),n=Object(s.b)(),r=n.replace(/map=[^&]*/,"map="+e);Object(s.c)(r)}},{key:"render",value:function(){var t=this,e=this.props.map?p.a.maps.map(function(t){return t.name}).filter(function(e){return e.split(".")[0]===t.props.map.split(".")[0]}):[];return Object(a.c)("div",null,e.length>1&&Object(a.c)("select",{value:this.props.map,onChange:this.handleQuickJumpChange,id:"quick-jump-menu"},e.map(function(t){return Object(a.c)("option",{value:t},Object(f.a)(t))})))}}]),e}(a.a);e.a=b},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){!function(e,r){t.exports=r(function(){try{return n(!function(){var t=new Error('Cannot find module "@jupyter-widgets/base"');throw t.code="MODULE_NOT_FOUND",t}())}catch(t){}}())}(window,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=38)}([function(t,e,n){"use strict";function r(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rt&&e.documentElement.namespaceURI===rt?e.createElement(t):e.createElementNS(n,t)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(){}function a(){return[]}function s(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function c(t,e,n,r,i,o){for(var a,c=0,l=e.length,u=o.length;c<u;++c)(a=e[c])?(a.__data__=o[c],r[c]=a):n[c]=new s(t,o[c]);for(;c<l;++c)(a=e[c])&&(i[c]=a)}function l(t,e,n,r,i,o,a){var c,l,u,f={},h=e.length,d=o.length,p=new Array(h);for(c=0;c<h;++c)(l=e[c])&&(p[c]=u=gt+a.call(l,l.__data__,c,e),u in f?i[c]=l:f[u]=l);for(c=0;c<d;++c)u=gt+a.call(t,o[c],c,o),(l=f[u])?(r[c]=l,l.__data__=o[c],f[u]=null):n[c]=new s(t,o[c]);for(c=0;c<h;++c)(l=e[c])&&f[p[c]]===l&&(i[c]=l)}function u(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function f(t){return function(){this.removeAttribute(t)}}function h(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d(t,e){return function(){this.setAttribute(t,e)}}function p(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function A(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function g(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function b(t){return function(){this.style.removeProperty(t)}}function m(t,e,n){return function(){this.style.setProperty(t,e,n)}}function y(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function v(t,e){return t.style.getPropertyValue(e)||Tt(t).getComputedStyle(t,null).getPropertyValue(e)}function _(t){return function(){delete this[t]}}function w(t,e){return function(){this[t]=e}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function M(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new C(t)}function C(t){this._node=t,this._names=M(t.getAttribute("class")||"")}function B(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function I(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function k(t){return function(){B(this,t)}}function T(t){return function(){I(this,t)}}function D(t,e){return function(){(e.apply(this,arguments)?B:I)(this,t)}}function S(){this.textContent=""}function N(t){return function(){this.textContent=t}}function j(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function O(){this.innerHTML=""}function L(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function F(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function Y(){var t=this.parentNode;t&&t.removeChild(this)}function P(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function R(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function W(t,e,n){return t=G(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function G(t,e,n){return function(r){var i=Wt;Wt=r;try{t.call(this,this.__data__,e,n)}finally{Wt=i}}}function H(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function V(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Z(t,e,n){var r=Rt.hasOwnProperty(t.type)?W:G;return function(i,o,a){var s,c=this.__on,l=r(e,o,a);if(c)for(var u=0,f=c.length;u<f;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function K(t,e,n,r){var i=Wt;t.sourceEvent=Wt,Wt=t;try{return e.apply(n,r)}finally{Wt=i}}function J(t,e,n){var r=Tt(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function q(t,e){return function(){return J(this,t,e)}}function X(t,e){return function(){return J(this,t,e.apply(this,arguments))}}function $(t,e){this._groups=t,this._parents=e}function tt(){return new $([[document.documentElement]],Vt)}function et(){return new nt}function nt(){this._="@"+(++qt).toString(36)}n.r(e);var rt="http://www.w3.org/1999/xhtml",it={svg:"http://www.w3.org/2000/svg",xhtml:rt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),it.hasOwnProperty(e)?{space:it[e],local:t}:t},at=function(t){var e=ot(t);return(e.local?i:r)(e)},st=function(t){return null==t?o:function(){return this.querySelector(t)}},ct=function(t){"function"!==typeof t&&(t=st(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new $(r,this._parents)},lt=function(t){return null==t?a:function(){return this.querySelectorAll(t)}},ut=function(t){"function"!==typeof t&&(t=lt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new $(r,i)},ft=function(t){return function(){return this.matches(t)}},ht=function(t){"function"!==typeof t&&(t=ft(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new $(r,this._parents)},dt=function(t){return new Array(t.length)},pt=function(){return new $(this._enter||this._groups.map(dt),this._parents)};s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var At=function(t){return function(){return t}},gt="$",bt=function(t,e){if(!t)return A=new Array(this.size()),f=-1,this.each(function(t){A[++f]=t}),A;var n=e?l:c,r=this._parents,i=this._groups;"function"!==typeof t&&(t=At(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),f=0;f<o;++f){var h=r[f],d=i[f],p=d.length,A=t.call(h,h&&h.__data__,f,r),g=A.length,b=s[f]=new Array(g),m=a[f]=new Array(g);n(h,d,b,m,u[f]=new Array(p),A,e);for(var y,v,_=0,w=0;_<g;++_)if(y=b[_]){for(_>=w&&(w=_+1);!(v=m[w])&&++w<g;);y._next=v||null}}return a=new $(a,r),a._enter=s,a._exit=u,a},mt=function(){return new $(this._exit||this._groups.map(dt),this._parents)},yt=function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},vt=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=l[d]||u[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new $(a,this._parents)},_t=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},wt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=u);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),f=0;f<c;++f)(a=s[f])&&(l[f]=a);l.sort(e)}return new $(i,this._parents).order()},xt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Mt=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Et=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},Ct=function(){var t=0;return this.each(function(){++t}),t},Bt=function(){return!this.node()},It=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},kt=function(t,e){var n=ot(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?h:f:"function"===typeof e?n.local?g:A:n.local?p:d)(n,e))},Tt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Dt=function(t,e,n){return arguments.length>1?this.each((null==e?b:"function"===typeof e?y:m)(t,e,null==n?"":n)):v(this.node(),t)},St=function(t,e){return arguments.length>1?this.each((null==e?_:"function"===typeof e?x:w)(t,e)):this.node()[t]};C.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Nt=function(t,e){var n=M(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?D:e?k:T)(n,e))},jt=function(t){return arguments.length?this.each(null==t?S:("function"===typeof t?j:N)(t)):this.node().textContent},Ot=function(t){return arguments.length?this.each(null==t?O:("function"===typeof t?Q:L)(t)):this.node().innerHTML},Lt=function(){return this.each(z)},Qt=function(){return this.each(F)},zt=function(t){var e="function"===typeof t?t:at(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ft=function(t,e){var n="function"===typeof t?t:at(t),r=null==e?U:"function"===typeof e?e:st(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Ut=function(){return this.each(Y)},Yt=function(t){return this.select(t?R:P)},Pt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Rt={},Wt=null;if("undefined"!==typeof document){"onmouseenter"in document.documentElement||(Rt={mouseenter:"mouseover",mouseleave:"mouseout"})}var Gt=function(t,e,n){var r,i,o=H(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?Z:V,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},Ht=function(t,e){return this.each(("function"===typeof e?X:q)(t,e))},Vt=[null];$.prototype=tt.prototype={constructor:$,select:ct,selectAll:ut,filter:ht,data:bt,enter:pt,exit:mt,join:yt,merge:vt,order:_t,sort:wt,call:xt,nodes:Mt,node:Et,size:Ct,empty:Bt,each:It,attr:kt,style:Dt,property:St,classed:Nt,text:jt,html:Ot,raise:Lt,lower:Qt,append:zt,insert:Ft,remove:Ut,clone:Yt,datum:Pt,on:Gt,dispatch:Ht};var Zt=tt,Kt=function(t){return"string"===typeof t?new $([[document.querySelector(t)]],[document.documentElement]):new $([[t]],Vt)},Jt=function(t){return Kt(at(t).call(document.documentElement))},qt=0;nt.prototype=et.prototype={constructor:nt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Xt=function(){for(var t,e=Wt;t=e.sourceEvent;)e=t;return e},$t=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},te=function(t){var e=Xt();return e.changedTouches&&(e=e.changedTouches[0]),$t(t,e)},ee=function(t){return"string"===typeof t?new $([document.querySelectorAll(t)],[document.documentElement]):new $([null==t?[]:t],Vt)},ne=function(t,e,n){arguments.length<3&&(n=e,e=Xt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return $t(t,r);return null},re=function(t,e){null==e&&(e=Xt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=$t(t,e[n]);return i};n.d(e,"create",function(){return Jt}),n.d(e,"creator",function(){return at}),n.d(e,"local",function(){return et}),n.d(e,"matcher",function(){return ft}),n.d(e,"mouse",function(){return te}),n.d(e,"namespace",function(){return ot}),n.d(e,"namespaces",function(){return it}),n.d(e,"clientPoint",function(){return $t}),n.d(e,"select",function(){return Kt}),n.d(e,"selectAll",function(){return ee}),n.d(e,"selection",function(){return Zt}),n.d(e,"selector",function(){return st}),n.d(e,"selectorAll",function(){return lt}),n.d(e,"style",function(){return v}),n.d(e,"touch",function(){return ne}),n.d(e,"touches",function(){return re}),n.d(e,"window",function(){return Tt}),n.d(e,"event",function(){return Wt}),n.d(e,"customEvent",function(){return K})},function(t,e,n){"use strict";function r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function i(){}function o(t){var e;return t=(t+"").trim().toLowerCase(),(e=O.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=L.exec(t))?a(parseInt(e[1],16)):(e=Q.exec(t))?new u(e[1],e[2],e[3],1):(e=z.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=F.exec(t))?s(e[1],e[2],e[3],e[4]):(e=U.exec(t))?s(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Y.exec(t))?h(e[1],e[2]/100,e[3]/100,1):(e=P.exec(t))?h(e[1],e[2]/100,e[3]/100,e[4]):R.hasOwnProperty(t)?a(R[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function a(t){return new u(t>>16&255,t>>8&255,255&t,1)}function s(t,e,n,r){return r<=0&&(t=e=n=NaN),new u(t,e,n,r)}function c(t){return t instanceof i||(t=o(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function l(t,e,n,r){return 1===arguments.length?c(t):new u(t,e,n,null==r?1:r)}function u(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function f(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function h(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new A(t,e,n,r)}function d(t){if(t instanceof A)return new A(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=o(t)),!t)return new A;if(t instanceof A)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,l=s-a,u=(s+a)/2;return l?(c=e===s?(n-r)/l+6*(n<r):n===s?(r-e)/l+2:(e-n)/l+4,l/=u<.5?s+a:2-s-a,c*=60):l=u>0&&u<1?0:c,new A(c,l,u,t.opacity)}function p(t,e,n,r){return 1===arguments.length?d(t):new A(t,e,n,null==r?1:r)}function A(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function g(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function b(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof C)return B(t);t instanceof u||(t=c(t));var e,n,r=x(t.r),i=x(t.g),o=x(t.b),a=v((.2225045*r+.7168786*i+.0606169*o)/V);return r===i&&i===o?e=n=a:(e=v((.4360747*r+.3850649*i+.1430804*o)/H),n=v((.0139322*r+.0971045*i+.7141733*o)/Z)),new y(116*a-16,500*(e-a),200*(a-n),t.opacity)}function m(t,e,n,r){return 1===arguments.length?b(t):new y(t,e,n,null==r?1:r)}function y(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>X?Math.pow(t,1/3):t/q+K}function _(t){return t>J?t*t*t:q*(t-K)}function w(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function M(t){if(t instanceof C)return new C(t.h,t.c,t.l,t.opacity);if(t instanceof y||(t=b(t)),0===t.a&&0===t.b)return new C(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*G;return new C(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function E(t,e,n,r){return 1===arguments.length?M(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function B(t){if(isNaN(t.h))return new y(t.l,0,0,t.opacity);var e=t.h*W;return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function I(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);t instanceof u||(t=c(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(at*r+it*e-ot*n)/(at+it-ot),o=r-i,a=(rt*(n-i)-et*o)/nt,s=Math.sqrt(a*a+o*o)/(rt*i*(1-i)),l=s?Math.atan2(a,o)*G-120:NaN;return new T(l<0?l+360:l,s,i,t.opacity)}function k(t,e,n,r){return 1===arguments.length?I(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var D=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},S="\\s*([+-]?\\d+)\\s*",N="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O=/^#([0-9a-f]{3})$/,L=/^#([0-9a-f]{6})$/,Q=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),z=new RegExp("^rgb\\("+[j,j,j]+"\\)$"),F=new RegExp("^rgba\\("+[S,S,S,N]+"\\)$"),U=new RegExp("^rgba\\("+[j,j,j,N]+"\\)$"),Y=new RegExp("^hsl\\("+[N,j,j]+"\\)$"),P=new RegExp("^hsla\\("+[N,j,j,N]+"\\)$"),R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D(i,o,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),D(u,l,r(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+f(this.r)+f(this.g)+f(this.b)},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),D(A,p,r(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new A(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new A(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new u(g(t>=240?t-240:t+120,i,r),g(t,i,r),g(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var W=Math.PI/180,G=180/Math.PI,H=.96422,V=1,Z=.82521,K=4/29,J=6/29,q=3*J*J,X=J*J*J;D(y,m,r(i,{brighter:function(t){return new y(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=H*_(e),t=V*_(t),n=Z*_(n),new u(w(3.1338561*e-1.6168667*t-.4906146*n),w(-.9787684*e+1.9161415*t+.033454*n),w(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),D(C,E,r(i,{brighter:function(t){return new C(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new C(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return B(this).rgb()}}));var $=-.14861,tt=1.78277,et=-.29227,nt=-.90649,rt=1.97294,it=rt*nt,ot=rt*tt,at=tt*et-nt*$;D(T,k,r(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new T(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*W,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new u(255*(e+n*($*r+tt*i)),255*(e+n*(et*r+nt*i)),255*(e+n*(rt*r)),this.opacity)}})),n.d(e,"a",function(){return o}),n.d(e,"f",function(){return l}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return m}),n.d(e,"c",function(){return E}),n.d(e,"b",function(){return k})},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function i(t,e){return function(n){return t+n*e}}function o(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function a(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):I(isNaN(t)?e:t)}function s(t){return 1===(t=+t)?c:function(e,n){return n-e?o(e,n,t):I(isNaN(e)?n:e)}}function c(t,e){var n=e-t;return n?i(t,n):I(isNaN(t)?e:t)}function l(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Object(E.f)(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function u(t){return function(){return t}}function f(t){return function(e){return t(e)+""}}function h(t){return"none"===t?U:(_||(_=document.createElement("DIV"),w=document.documentElement,x=document.defaultView),_.style.transform=t,t=x.getComputedStyle(w.appendChild(_),null).getPropertyValue("transform"),w.removeChild(_),t=t.slice(7,-1).split(","),Y(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function d(t){return null==t?U:(M||(M=document.createElementNS("http://www.w3.org/2000/svg","g")),M.setAttribute("transform",t),(t=M.transform.baseVal.consolidate())?(t=t.matrix,Y(t.a,t.b,t.c,t.d,t.e,t.f)):U)}function p(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:S(t,i)},{i:c-2,x:S(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:S(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:S(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function c(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:S(t,n)},{i:s-2,x:S(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function A(t){return((t=Math.exp(t))+1/t)/2}function g(t){return((t=Math.exp(t))-1/t)/2}function b(t){return((t=Math.exp(2*t))-1)/(t+1)}function m(t){return function(e,n){var r=t((e=Object(E.d)(e)).h,(n=Object(E.d)(n)).h),i=c(e.s,n.s),o=c(e.l,n.l),a=c(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function y(t){return function(e,n){var r=t((e=Object(E.c)(e)).h,(n=Object(E.c)(n)).h),i=c(e.c,n.c),o=c(e.l,n.l),a=c(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function v(t){return function e(n){function r(e,r){var i=t((e=Object(E.b)(e)).h,(r=Object(E.b)(r)).h),o=c(e.s,r.s),a=c(e.l,r.l),s=c(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var _,w,x,M,E=n(1),C=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,c=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,c)}},B=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],c=t[(i+2)%e];return r((n-i/e)*e,o,a,s,c)}},I=function(t){return function(){return t}},k=function t(e){function n(t,e){var n=r((t=Object(E.f)(t)).r,(e=Object(E.f)(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=c(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=s(e);return n.gamma=t,n}(1),T=(l(C),l(B),function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Q(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}),D=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},S=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},N=function(t,e){var n,r={},i={};null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={});for(n in e)n in t?r[n]=Q(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},j=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O=new RegExp(j.source,"g"),L=function(t,e){var n,r,i,o=j.lastIndex=O.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=j.exec(t))&&(r=O.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:S(n,r)})),o=O.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?f(c[0].x):u(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})},Q=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?I(e):("number"===r?S:"string"===r?(n=Object(E.a)(e))?(e=n,k):L:e instanceof E.a?k:e instanceof Date?D:Array.isArray(e)?T:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?N:S)(t,e)},z=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},F=180/Math.PI,U={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Y=function(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*F,skewX:Math.atan(c)*F,scaleX:a,scaleY:s}},P=p(h,"px, ","px)","deg)"),R=p(d,", ",")",")"),W=Math.SQRT2,G=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],c=e[1],l=e[2],u=s-i,f=c-o,h=u*u+f*f;if(h<1e-12)r=Math.log(l/a)/W,n=function(t){return[i+t*u,o+t*f,a*Math.exp(W*t*r)]};else{var d=Math.sqrt(h),p=(l*l-a*a+4*h)/(2*a*2*d),m=(l*l-a*a-4*h)/(2*l*2*d),y=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-y)/W,n=function(t){var e=t*r,n=A(y),s=a/(2*d)*(n*b(W*e+y)-g(y));return[i+s*u,o+s*f,a*n/A(W*e+y)]}}return n.duration=1e3*r,n},H=(m(a),m(c),y(a),y(c),v(a),v(c));n.d(e,"a",function(){return Q}),n.d(e,"c",function(){return S}),n.d(e,"e",function(){return z}),n.d(e,"f",function(){return L}),n.d(e,"g",function(){return P}),n.d(e,"h",function(){return R}),n.d(e,"i",function(){return G}),n.d(e,"d",function(){return k}),n.d(e,"b",function(){return H})},function(t,e,n){"use strict";function r(){try{new Blob}catch(t){alert("Blob not supported")}}function i(t,e,n){if(void 0===t||null===t)return e;var r={};for(var i in e){var o=i in t&&null!==t[i]&&void 0!==t[i],a=o?t[i]:e[i];n&&i in n&&(a=parseFloat(a),isNaN(a)&&(o?(console.warn("Bad float for option "+i),a=parseFloat(e[i]),isNaN(a)&&(console.warn("Bad float for default "+i),a=null)):(console.warn("Bad float for default "+i),a=null))),r[i]=a}return r}function o(t){for(var e=t.node();e.hasChildNodes();)e.removeChild(e.lastChild)}function a(t,e){var n="";return t&&ot(t,function(t,r){t&&console.warn(t),n=r,e(n)}),!1}function s(t,e){return-1!==t.indexOf(e,t.length-e.length)}function c(t,e,n,r){return r?(e&&console.warn("File "+e+" overridden by value."),void n.call(t,null,r)):e?void(s(e,"json")?it(e,function(e,r){n.call(t,e,r)}):s(e,"css")?ot(e,function(e,r){n.call(t,e,r)}):n.call(t,"Unrecognized file type",null)):void n.call(t,"No filename",null)}function l(t,e,n){0===e.length&&n.call(t);for(var r=-1,i=e.length;++r<e.length;)c(t,e[r].file,function(e,r){this.call(t,e,r),--i||n.call(t)}.bind(e[r].callback),e[r].value)}function u(){var t,e=function e(n){if(!(this instanceof e)){t=!0;var r=new e(arguments);return t=!1,r}"function"===typeof this.init&&this.init.apply(this,t?n:arguments)};return e}function f(t){return new Proxy(t,{apply:function(t,e,n){return new(Function.prototype.bind.apply(t,[null].concat(n)))}})}function h(t,e){t.select("defs").remove();var n=t.append("defs"),r=n.node();return r.parentNode.insertBefore(r,r.parentNode.firstChild),n.append("style").attr("type","text/css").text(e),n}function d(t,e,n,r,i,o,a,s){var c={};for(var l in r)void 0===r[l]?console.warn("Undefined value for id "+l+" in object. Ignoring."):c[l]=r[l];var u=t.select(e).selectAll(n).data(g(c,i),function(t){return t[i]}),f=o?o(u.enter()).merge(u):u;a&&f.call(a),s&&u.exit().call(s)}function p(t,e,n,r,i,o,a){var s=t.selectAll(e).data(function(t){return g(t[n],r)},function(t){return t[r]}),c=i?i(s.enter()).merge(s):s;o&&c.call(o),a&&s.exit().call(a)}function A(t,e){var n=[];for(var r in t){var i=y(t[r]);i[e]=r,n.push(i)}return n}function g(t,e){var n=[];for(var r in t){var i=t[r];i[e]=r,n.push(i)}return n}function b(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!=e[n])return!1;return!0}function m(t){for(var e={},n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.keys(i),a=0,s=o.length;a<s;a++){var c=o[a];if(c in e)e[c][n]=i[c];else{for(var l=[],u=0;u<r;u++)l[u]=null;l[n]=i[c],e[c]=l}}return e}function y(t){return rt.isArray(t)?rt.map(t,function(t){return y(t)}):rt.isObject(t)?rt.mapObject(t,function(t,e){return y(t)}):t}function v(t,e,n){void 0===n&&(n=!1);for(var r in e){if(r in t&&!n)throw new Error("Attribute "+r+" already in object.");t[r]=e[r]}}function _(t){var e=[];return t.forEach(function(t){t.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),e}function w(t){for(var e=[],n=0,r=t.length;n<r;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function x(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}function M(t,e){for(var n={},r=-1;++r<e.length;)n[e[r]]=y(t[e[r]]);return e.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function E(t,e){for(var n={},r=-1;++r<e.length;)n[e[r]]=t[e[r]];return e.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function C(t,e){return null===t||null===e||void 0===t||void 0===e?null:{x:t.x+e.x,y:t.y+e.y}}function B(t,e){return null===t||null===e||void 0===t||void 0===e?null:{x:t.x-e.x,y:t.y-e.y}}function I(t,e){return{x:t.x*e,y:t.y*e}}function k(t,e){r();var n=JSON.stringify(t),i=new Blob([n],{type:"application/json"});ct(i,e+".json")}function T(t,e,n,r){window.File&&window.FileReader&&window.FileList&&window.Blob||e("The File APIs are not fully supported in this browser.",null);var i=new window.FileReader;if(i.onload=function(t){var n,r=t.target.result;try{n=JSON.parse(r)}catch(t){return void e(t,null)}e(null,n)},void 0!==n&&null!==n)try{n()}catch(t){console.warn(t)}i.onabort=function(t){try{r()}catch(t){console.warn(t)}},i.onerror=function(t){try{r()}catch(t){console.warn(t)}},i.readAsText(t)}function D(t,e,n,r,i,o){var a=function(t){var r,i,o=t.target.result;try{r=JSON.parse(o)}catch(t){i="JSON error: "+t;try{r=e(at(o))}catch(t){return void n(i+"\nCSV error: "+t,null)}}n(null,r)};if(void 0!==o&&null!==o)return console.warn("Debugging load_json_or_csv"),a(o);window.File&&window.FileReader&&window.FileList&&window.Blob||n("The File APIs are not fully supported in this browser.",null);var s=new window.FileReader;if(void 0!==r&&null!==r)try{r()}catch(t){console.warn(t)}s.onabort=function(t){try{i()}catch(t){console.warn(t)}},s.onerror=function(t){try{i()}catch(t){console.warn(t)}},s.onload=a,s.readAsText(t)}function S(t,e,n){r();var i=(new XMLSerializer).serializeToString(e.node());n&&(i=nt.xml(i)),i='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+i;var o=new Blob([i],{type:"image/svg+xml"});ct(o,t+".svg")}function N(t,e){r();var n=(new XMLSerializer).serializeToString(e.node());n='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+n;var i=document.createElement("canvas"),o=i.getContext("2d"),a=e.node().getBBox(),s=a.width+a.x,c=a.height+a.y;s<1e4&&c<1e4?(i.width=s,i.height=c):i.width>i.height?(i.width=1e4,i.height=c/s*1e4):(i.width=s/c*1e4,i.height=1e4);var l=new Image;l.src="data:image/svg+xml;base64,"+btoa(n),l.onload=function(){o.fillStyle="#FFF",o.fillRect(0,0,i.width,i.height),o.drawImage(l,0,0,i.width,i.height),i.toBlob(function(e){ct(e,t+".png")})}}function j(t,e,n){return t.map(function(t){return O(t,e,n)})}function O(t,e,n){return{x:Math.cos(-e)*(t.x-n.x)+Math.sin(-e)*(t.y-n.y)+n.x-t.x,y:-Math.sin(-e)*(t.x-n.x)+Math.cos(-e)*(t.y-n.y)+n.y-t.y}}function L(t){var e=t[1].x-t[0].x,n=t[1].y-t[0].y;return 0===e&&n>=0?Math.PI/2:0===e&&n<0?3*Math.PI/2:e>=0&&n>=0?Math.atan(n/e):e>=0?Math.atan(n/e)+2*Math.PI:Math.atan(n/e)+Math.PI}function Q(t){return 180*t/Math.PI}function z(t){return t<-Math.PI?t+2*Math.floor((t-Math.PI)/(-2*Math.PI))*Math.PI:t>Math.PI?t-2*Math.floor((t+Math.PI)/(2*Math.PI))*Math.PI:t}function F(t){return Math.PI/180*t}function U(t){return z(F(t))}function Y(t,e,n){var r=Math.atan2(e.x-n.x,n.y-e.y);return Math.atan2(e.x-n.x+t.x,n.y-e.y-t.y)-r}function P(t,e){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function R(t,e){e.forEach(function(n,r){void 0===t[r]&&console.error("Argument is undefined: "+e[r])})}function W(t,e){return t+"_"+e}function G(t){var e=/(.*)_([a-z0-9]{1,2})$/,n=e.exec(t);return null!==n?n.slice(1,3):[t,null]}function H(t){return t.reduce(function(t,e){return t+e})/t.length}function V(t){t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length%2==1?t[e]:(t[e-1]+t[e])/2}function Z(t){t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return 1===t.length?[t[0],t[0],t[0]]:t.length%2===1?[V(t.slice(0,e)),t[e],V(t.slice(e+1))]:[V(t.slice(0,e)),(t[e-1]+t[e])/2,V(t.slice(e))]}function K(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}function J(){return K(12)}function q(t,e){for(t instanceof st&&(t=t.node());null!==t.parentNode;)if(t=t.parentNode,void 0!==t.tagName&&t.tagName.toLowerCase()===e.toLowerCase())return!0;return!1}function X(t,e){return void 0!==e&&null!==e&&(e=e.replace(/^\/|\/$/g,""),t=[e,t].join("/")),t.replace(/^\/|\/$/g,"")+".json"}function $(t){return t.ownerDocument}function tt(t){return $(t).defaultView}function et(t){if(-1!==t.indexOf("skew")||-1!==t.indexOf("matrix"))throw new Error("d3_transform_catch does not work with skew or matrix");var e=/translate\s*\(\s*([0-9.-]+)\s*,\s*([0-9.-]+)\s*\)/.exec(t),n=rt.isNull(e),r=n?0:Number(e[1]),i=n?0:Number(e[2]),o=/rotate\s*\(\s*([0-9.-]+)\s*\)/.exec(t),a=rt.isNull(o),s=a?0:Number(o[1]),c=/scale\s*\(\s*([0-9.-]+)\s*\)/.exec(t);return{translate:[r,i],rotate:s,scale:rt.isNull(c)?0:Number(c[1])}}var nt=n(21),rt=n(4),it=n(16).json,ot=n(16).text,at=n(14).csvParseRows,st=n(0).selection;try{var ct=n(39).saveAs}catch(t){console.warn("Not a browser, so FileSaver.js not available.")}t.exports={set_options:i,remove_child_nodes:o,load_css:a,load_files:l,load_the_file:c,make_class:u,class_with_optional_new:f,setup_defs:h,draw_an_object:d,draw_a_nested_object:p,make_array:A,make_array_ref:g,compare_arrays:b,arrayToObject:m,clone:y,extend:v,uniqueConcat:_,unique_strings_array:w,debounce:x,object_slice_for_ids:M,object_slice_for_ids_ref:E,c_plus_c:C,c_minus_c:B,c_times_scalar:I,download_json:k,load_json:T,load_json_or_csv:D,downloadSvg:S,downloadPng:N,rotate_coords_recursive:j,rotate_coords:O,get_angle:L,to_degrees:Q,angleNorm:z,to_radians:F,to_radians_norm:U,angle_for_event:Y,distance:P,check_undefined:R,compartmentalize:W,decompartmentalize:G,mean:H,median:V,quartiles:Z,random_characters:K,generate_map_id:J,check_for_parent_tag:q,name_to_url:X,get_document:$,get_window:tt,d3_transform_catch:et}},function(t,e,n){(function(t,n){var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},a=o._,s=Array.prototype,c=Object.prototype,l="undefined"!==typeof Symbol?Symbol.prototype:null,u=s.push,f=s.slice,h=c.toString,d=c.hasOwnProperty,p=Array.isArray,A=Object.keys,g=Object.create,b=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};e.nodeType?o._=m:(!n.nodeType&&n.exports&&(e=n.exports=m),e._=m),m.VERSION="1.9.1";var y,v=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return m.iteratee!==y?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?v(t,e,n):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=y=function(t,e){return _(t,e,1/0)};var w=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},x=function(t){if(!m.isObject(t))return{};if(g)return g(t);b.prototype=t;var e=new b;return b.prototype=null,e},M=function(t){return function(e){return null==e?void 0:e[t]}},E=function(t,e){return null!=t&&d.call(t,e)},C=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},B=Math.pow(2,53)-1,I=M("length"),k=function(t){var e=I(t);return"number"==typeof e&&e>=0&&e<=B};m.each=m.forEach=function(t,e,n){e=v(e,n);var r,i;if(k(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=m.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},m.map=m.collect=function(t,e,n){e=_(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var T=function(t){var e=function(e,n,r,i){var o=!k(e)&&m.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var c=o?o[s]:s;r=n(r,e[c],c,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,v(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=T(1),m.reduceRight=m.foldr=T(-1),m.find=m.detect=function(t,e,n){var r=k(t)?m.findIndex:m.findKey,i=r(t,e,n);if(void 0!==i&&-1!==i)return t[i]},m.filter=m.select=function(t,e,n){var r=[];return e=_(e,n),m.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},m.reject=function(t,e,n){return m.filter(t,m.negate(_(e)),n)},m.every=m.all=function(t,e,n){e=_(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},m.some=m.any=function(t,e,n){e=_(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n,r){return k(t)||(t=m.values(t)),("number"!=typeof n||r)&&(n=0),m.indexOf(t,e,n)>=0},m.invoke=w(function(t,e,n){var r,i;return m.isFunction(e)?i=e:m.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),m.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=C(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=k(t)?t:m.values(t);for(var s=0,c=t.length;s<c;s++)null!=(r=t[s])&&r>o&&(o=r)}else e=_(e,n),m.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},m.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=k(t)?t:m.values(t);for(var s=0,c=t.length;s<c;s++)null!=(r=t[s])&&r<o&&(o=r)}else e=_(e,n),m.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,n){if(null==e||n)return k(t)||(t=m.values(t)),t[m.random(t.length-1)];var r=k(t)?m.clone(t):m.values(t),i=I(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=m.random(a,o),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,e)},m.sortBy=function(t,e,n){var r=0;return e=_(e,n),m.pluck(m.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var D=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=_(r,i),m.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};m.groupBy=D(function(t,e,n){E(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=D(function(t,e,n){t[n]=e}),m.countBy=D(function(t,e,n){E(t,n)?t[n]++:t[n]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?f.call(t):m.isString(t)?t.match(S):k(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:k(t)?t.length:m.keys(t).length},m.partition=D(function(t,e,n){t[n?0:1].push(e)},!0),m.first=m.head=m.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var N=function(t,e,n,r){r=r||[];for(var i=r.length,o=0,a=I(t);o<a;o++){var s=t[o];if(k(s)&&(m.isArray(s)||m.isArguments(s)))if(e)for(var c=0,l=s.length;c<l;)r[i++]=s[c++];else N(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};m.flatten=function(t,e){return N(t,e,!1)},m.without=w(function(t,e){return m.difference(t,e)}),m.uniq=m.unique=function(t,e,n,r){m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],a=0,s=I(t);a<s;a++){var c=t[a],l=n?n(c,a,t):c;e&&!n?(a&&o===l||i.push(c),o=l):n?m.contains(o,l)||(o.push(l),i.push(c)):m.contains(i,c)||i.push(c)}return i},m.union=w(function(t){return m.uniq(N(t,!0,!0))}),m.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=I(t);r<i;r++){var o=t[r];if(!m.contains(e,o)){var a;for(a=1;a<n&&m.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},m.difference=w(function(t,e){return e=N(e,!0,!0),m.filter(t,function(t){return!m.contains(e,t)})}),m.unzip=function(t){for(var e=t&&m.max(t,I).length||0,n=Array(e),r=0;r<e;r++)n[r]=m.pluck(t,r);return n},m.zip=w(m.unzip),m.object=function(t,e){for(var n={},r=0,i=I(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var j=function(t){return function(e,n,r){n=_(n,r);for(var i=I(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};m.findIndex=j(1),m.findLastIndex=j(-1),m.sortedIndex=function(t,e,n,r){n=_(n,r,1);for(var i=n(e),o=0,a=I(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var O=function(t,e,n){return function(r,i,o){var a=0,s=I(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(f.call(r,a,s),m.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},m.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(f.call(t,r,r+=e));return n};var L=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=x(t.prototype),a=t.apply(o,i);return m.isObject(a)?a:o};m.bind=w(function(t,e,n){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var r=w(function(i){return L(t,r,e,this,n.concat(i))});return r}),m.partial=w(function(t,e){var n=m.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return L(t,r,this,this,a)};return r}),m.partial.placeholder=m,m.bindAll=w(function(t,e){e=N(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=m.bind(t[r],t)}}),m.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return E(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=w(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var c=function(){s=!1===n.leading?0:m.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=m.now();s||!1!==n.leading||(s=l);var u=e-(l-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},m.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=w(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=m.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},m.once=m.partial(m.before,2),m.restArguments=w;var Q=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(t,e){var n=z.length,r=t.constructor,i=m.isFunction(r)&&r.prototype||c,o="constructor";for(E(t,o)&&!m.contains(e,o)&&e.push(o);n--;)(o=z[n])in t&&t[o]!==i[o]&&!m.contains(e,o)&&e.push(o)};m.keys=function(t){if(!m.isObject(t))return[];if(A)return A(t);var e=[];for(var n in t)E(t,n)&&e.push(n);return Q&&F(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var n in t)e.push(n);return Q&&F(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},m.mapObject=function(t,e,n){e=_(e,n);for(var r=m.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()};var U=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,c=0;c<s;c++){var l=a[c];e&&void 0!==n[l]||(n[l]=o[l])}return n}};m.extend=U(m.allKeys),m.extendOwn=m.assign=U(m.keys),m.findKey=function(t,e,n){e=_(e,n);for(var r,i=m.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r};var Y=function(t,e,n){return e in n};m.pick=w(function(t,e){var n={},r=e[0];if(null==t)return n;m.isFunction(r)?(e.length>1&&(r=v(r,e[1])),e=m.allKeys(t)):(r=Y,e=N(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),m.omit=w(function(t,e){var n,r=e[0];return m.isFunction(r)?(r=m.negate(r),e.length>1&&(n=e[1])):(e=m.map(N(e,!1,!1),String),r=function(t,n){return!m.contains(e,n)}),m.pick(t,r,n)}),m.defaults=U(m.allKeys,!0),m.create=function(t,e){var n=x(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var P,R;P=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&R(t,e,n,r)},R=function(t,e,n,r){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!P(t[c],e[c],n,r))return!1}else{var u,f=m.keys(t);if(c=f.length,m.keys(e).length!==c)return!1;for(;c--;)if(u=f[c],!E(e,u)||!P(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(t,e){return P(t,e)},m.isEmpty=function(t){return null==t||(k(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=p||function(t){return"[object Array]"===h.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){m["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return E(t,"callee")});var W=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof W&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return E(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!d.call(t,i))return!1;t=t[i]}return!!n},m.noConflict=function(){return o._=a,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return C(e,t)}:M(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?C(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=v(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=m.invert(G),V=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=V(G),m.unescape=V(H),m.result=function(t,e,n){m.isArray(e)||(e=[e]);var r=e.length;if(!r)return m.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=m.isFunction(o)?o.call(t):o}return t};var Z=0;m.uniqueId=function(t){var e=++Z+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+J[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||K).source,(e.interpolate||K).source,(e.evaluate||K).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(q,X),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,m)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},m.chain=function(t){var e=m(t);return e._chain=!0,e};var $=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),$(this,n.apply(m,t))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],$(this,n)}}),m.each(["concat","join","slice"],function(t){var e=s[t];m.prototype[t]=function(){return $(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(i=function(){return m}.apply(e,r))&&(n.exports=i)}()}).call(this,n(22),n(23)(t))},function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a=O;for(o=arguments.length;o-- >2;)j.push(arguments[o]);for(e&&null!=e.children&&(j.length||j.push(e.children),delete e.children);j.length;)if((r=j.pop())&&void 0!==r.pop)for(o=r.length;o--;)j.push(r[o]);else"boolean"===typeof r&&(r=null),(i="function"!==typeof t)&&(null==r?r="":"number"===typeof r?r=String(r):"string"!==typeof r&&(i=!1)),i&&n?a[a.length-1]+=r:a===O?a=[r]:a.push(r),n=i;var s=new S;return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==N.vnode&&N.vnode(s),s}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function a(t,e){return r(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t){!t._dirty&&(t._dirty=!0)&&1==z.push(t)&&(N.debounceRendering||L)(c)}function c(){for(var t;t=z.pop();)t._dirty&&C(t)}function l(t,e,n){return"string"===typeof e||"number"===typeof e?void 0!==t.splitText:"string"===typeof e.nodeName?!t._componentConstructor&&u(t,e.nodeName):n||t._componentConstructor===e.nodeName}function u(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function f(t){var e=i({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function h(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)o(n,null),o(r,t);else if("class"!==e||i)if("style"===e){if(r&&"string"!==typeof r&&"string"!==typeof n||(t.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"===typeof r[a]&&!1===Q.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,A,s):t.removeEventListener(e,A,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var c=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?c?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!==typeof r&&(c?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function A(t){return this._listeners[t.type](N.event&&N.event(t)||t)}function g(){for(var t;t=F.shift();)N.afterMount&&N.afterMount(t),t.componentDidMount&&t.componentDidMount()}function b(t,e,n,r,i,o){U++||(Y=null!=i&&void 0!==i.ownerSVGElement,P=null!=t&&!("__preactattr_"in t));var a=m(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--U||(P=!1,o||g()),a}function m(t,e,n,r,i){var o=t,a=Y;if(null!=e&&"boolean"!==typeof e||(e=""),"string"===typeof e||"number"===typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),v(t,!0))),o.__preactattr_=!0,o;var s=e.nodeName;if("function"===typeof s)return B(t,e,n,r);if(Y="svg"===s||"foreignObject"!==s&&Y,s=String(s),(!t||!u(t,s))&&(o=h(s,Y),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),v(t,!0)}var c=o.firstChild,l=o.__preactattr_,f=e.children;if(null==l){l=o.__preactattr_={};for(var d=o.attributes,p=d.length;p--;)l[d[p].name]=d[p].value}return!P&&f&&1===f.length&&"string"===typeof f[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=f[0]&&(c.nodeValue=f[0]):(f&&f.length||null!=c)&&y(o,f,n,r,P||null!=l.dangerouslySetInnerHTML),w(o,e.attributes,l),Y=a,o}function y(t,e,n,r,i){var o,a,s,c,u,f=t.childNodes,h=[],p={},A=0,g=0,b=f.length,y=0,_=e?e.length:0;if(0!==b)for(var w=0;w<b;w++){var x=f[w],M=x.__preactattr_,E=_&&M?x._component?x._component.__key:M.key:null;null!=E?(A++,p[E]=x):(M||(void 0!==x.splitText?!i||x.nodeValue.trim():i))&&(h[y++]=x)}if(0!==_)for(var w=0;w<_;w++){c=e[w],u=null;var E=c.key;if(null!=E)A&&void 0!==p[E]&&(u=p[E],p[E]=void 0,A--);else if(g<y)for(o=g;o<y;o++)if(void 0!==h[o]&&l(a=h[o],c,i)){u=a,h[o]=void 0,o===y-1&&y--,o===g&&g++;break}u=m(u,c,n,r),s=f[w],u&&u!==t&&u!==s&&(null==s?t.appendChild(u):u===s.nextSibling?d(s):t.insertBefore(u,s))}if(A)for(var w in p)void 0!==p[w]&&v(p[w],!1);for(;g<=y;)void 0!==(u=h[y--])&&v(u,!1)}function v(t,e){var n=t._component;n?I(n):(null!=t.__preactattr_&&o(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||d(t),_(t))}function _(t){for(t=t.lastChild;t;){var e=t.previousSibling;v(t,!0),t=e}}function w(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||p(t,r,n[r],n[r]=void 0,Y);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||p(t,r,n[r],n[r]=e[r],Y)}function x(t,e,n){var r,i=R.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),k.call(r,e,n)):(r=new k(e,n),r.constructor=t,r.render=M);i--;)if(R[i].constructor===t)return r.nextBase=R[i].nextBase,R.splice(i,1),r;return r}function M(t,e,n){return this.constructor(t,n)}function E(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,"undefined"===typeof t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===N.syncComponentUpdates&&t.base?s(t):C(t,1,i)),o(t.__ref,t))}function C(t,e,n,r){if(!t._disable){var o,a,s,c=t.props,l=t.state,u=t.context,h=t.prevProps||c,d=t.prevState||l,p=t.prevContext||u,A=t.base,m=t.nextBase,y=A||m,_=t._component,w=!1,M=p;if(t.constructor.getDerivedStateFromProps&&(l=i(i({},l),t.constructor.getDerivedStateFromProps(c,l)),t.state=l),A&&(t.props=h,t.state=d,t.context=p,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,u)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,u),t.props=c,t.state=l,t.context=u),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!w){o=t.render(c,l,u),t.getChildContext&&(u=i(i({},u),t.getChildContext())),A&&t.getSnapshotBeforeUpdate&&(M=t.getSnapshotBeforeUpdate(h,d));var B,k,T=o&&o.nodeName;if("function"===typeof T){var D=f(o);a=_,a&&a.constructor===T&&D.key==a.__key?E(a,D,1,u,!1):(B=a,t._component=a=x(T,D,u),a.nextBase=a.nextBase||m,a._parentComponent=t,E(a,D,0,u,!1),C(a,1,n,!0)),k=a.base}else s=y,B=_,B&&(s=t._component=null),(y||1===e)&&(s&&(s._component=null),k=b(s,o,u,n||!A,y&&y.parentNode,!0));if(y&&k!==y&&a!==_){var S=y.parentNode;S&&k!==S&&(S.replaceChild(k,y),B||(y._component=null,v(y,!1)))}if(B&&I(B),t.base=k,k&&!r){for(var j=t,O=t;O=O._parentComponent;)(j=O).base=k;k._component=j,k._componentConstructor=j.constructor}}for(!A||n?F.push(t):w||(t.componentDidUpdate&&t.componentDidUpdate(h,d,M),N.afterUpdate&&N.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);U||r||g()}}function B(t,e,n,r){for(var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,c=s,l=f(e);i&&!c&&(i=i._parentComponent);)c=i.constructor===e.nodeName;return i&&c&&(!r||i._component)?(E(i,l,3,n,r),t=i.base):(o&&!s&&(I(o),t=a=null),i=x(e.nodeName,l,n),t&&!i.nextBase&&(i.nextBase=t,a=null),E(i,l,1,n,r),t=i.base,a&&t!==a&&(a._component=null,v(a,!1))),t}function I(t){N.beforeUnmount&&N.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?I(n):e&&(null!=e.__preactattr_&&o(e.__preactattr_.ref,null),t.nextBase=e,d(e),R.push(t),_(e)),o(t.__ref,null)}function k(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function T(t,e,n){return b(n,t,{},!1,e,!1)}function D(){return{}}n.r(e),n.d(e,"h",function(){return r}),n.d(e,"createElement",function(){return r}),n.d(e,"cloneElement",function(){return a}),n.d(e,"createRef",function(){return D}),n.d(e,"Component",function(){return k}),n.d(e,"render",function(){return T}),n.d(e,"rerender",function(){return c}),n.d(e,"options",function(){return N});var S=function(){},N={},j=[],O=[],L="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,Q=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,z=[],F=[],U=0,Y=!1,P=!1,R=[];i(k.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"===typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),s(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),C(this,2)},render:function(){}});var W={h:r,createElement:r,cloneElement:a,createRef:D,Component:k,render:T,rerender:c,options:N};e.default=W},function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){if(!(e=u.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function o(t){return h=_(t),d=h.format,p=h.formatPrefix,h}n.r(e);var a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},s=function(t){return t=a(Math.abs(t)),t?t[1]:NaN},c=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},l=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var f,h,d,p,A=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},g=function(t,e){var n=a(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(f=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+a(t,Math.max(0,e+o-1))[0]},b=function(t,e){var n=a(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},m={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return b(100*t,e)},r:b,s:g,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},y=function(t){return t},v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],_=function(t){function e(t){function e(t){var e,r,o,l=w,h=x;if("c"===_)h=M(t)+h,t="";else{t=+t;var m=t<0;if(t=M(Math.abs(t),b),y&&(t=A(t)),m&&0===+t&&(m=!1),l=(m?"("===c?c:"-":"-"===c||"("===c?"":c)+l,h=("s"===_?v[8+f/3]:"")+h+(m&&"("===c?")":""),E)for(e=-1,r=t.length;++e<r;)if(48>(o=t.charCodeAt(e))||o>57){h=(46===o?a+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}g&&!d&&(t=i(t,1/0));var C=l.length+t.length+h.length,B=C<p?new Array(p-C+1).join(n):"";switch(g&&d&&(t=i(B+t,B.length?p-h.length:1/0),B=""),s){case"<":t=l+t+h+B;break;case"=":t=l+B+t+h;break;case"^":t=B.slice(0,C=B.length>>1)+l+t+h+B.slice(C);break;default:t=B+l+t+h}return u(t)}t=r(t);var n=t.fill,s=t.align,c=t.sign,l=t.symbol,d=t.zero,p=t.width,g=t.comma,b=t.precision,y=t.trim,_=t.type;"n"===_?(g=!0,_="g"):m[_]||(null==b&&(b=12),y=!0,_="g"),(d||"0"===n&&"="===s)&&(d=!0,n="0",s="=");var w="$"===l?o[0]:"#"===l&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",x="$"===l?o[1]:/[%p]/.test(_)?h:"",M=m[_],E=/[defgprs%]/.test(_);return b=null==b?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=r(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(s(n)/3))),a=Math.pow(10,-o),c=v[8+o/3];return function(t){return i(a*t)+c}}var i=t.grouping&&t.thousands?c(t.grouping,t.thousands):y,o=t.currency,a=t.decimal,u=t.numerals?l(t.numerals):y,h=t.percent||"%";return{format:e,formatPrefix:n}};o({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var w=function(t){return Math.max(0,-s(Math.abs(t)))},x=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(e)/3)))-s(Math.abs(t)))},M=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,s(e)-s(t))+1};n.d(e,"formatDefaultLocale",function(){return o}),n.d(e,"format",function(){return d}),n.d(e,"formatPrefix",function(){return p}),n.d(e,"formatLocale",function(){return _}),n.d(e,"formatSpecifier",function(){return r}),n.d(e,"precisionFixed",function(){return w}),n.d(e,"precisionPrefix",function(){return x}),n.d(e,"precisionRound",function(){return M})},function(t,e,n){"use strict";function r(){f.event.stopImmediatePropagation()}function i(t,e){var n=t.document.documentElement,r=Object(f.select)(t).on("dragstart.drag",null);e&&(r.on("click.drag",h,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function o(t,e,n,r,i,o,a,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=l}function a(){return!f.event.button}function s(){return this.parentNode}function c(t){return null==t?{x:f.event.x,y:f.event.y}:t}function l(){return"ontouchstart"in this}n.r(e);var u=n(8),f=n(0),h=function(){f.event.preventDefault(),f.event.stopImmediatePropagation()},d=function(t){var e=t.document.documentElement,n=Object(f.select)(t).on("dragstart.drag",h,!0);"onselectstart"in e?n.on("selectstart.drag",h,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},p=function(t){return function(){return t}};o.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var A=function(){function t(t){t.on("mousedown.drag",e).filter(B).on("touchstart.drag",g).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!x&&M.apply(this,arguments)){var t=y("mouse",E.apply(this,arguments),f.mouse,this,arguments);t&&(Object(f.select)(f.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",A,!0),d(f.event.view),r(),w=!1,v=f.event.clientX,_=f.event.clientY,t("start"))}}function n(){if(h(),!w){var t=f.event.clientX-v,e=f.event.clientY-_;w=t*t+e*e>D}I.mouse("drag")}function A(){Object(f.select)(f.event.view).on("mousemove.drag mouseup.drag",null),i(f.event.view,w),h(),I.mouse("end")}function g(){if(M.apply(this,arguments)){var t,e,n=f.event.changedTouches,i=E.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=y(n[t].identifier,i,f.touch,this,arguments))&&(r(),e("start"))}}function b(){var t,e,n=f.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=I[n[t].identifier])&&(h(),e("drag"))}function m(){var t,e,n=f.event.changedTouches,i=n.length;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),t=0;t<i;++t)(e=I[n[t].identifier])&&(r(),e("end"))}function y(e,n,r,i,a){var s,c,l,u=r(n,e),h=k.copy();if(Object(f.customEvent)(new o(t,"beforestart",s,e,T,u[0],u[1],0,0,h),function(){return null!=(f.event.subject=s=C.apply(i,a))&&(c=s.x-u[0]||0,l=s.y-u[1]||0,!0)}))return function d(p){var A,g=u;switch(p){case"start":I[e]=d,A=T++;break;case"end":delete I[e],--T;case"drag":u=r(n,e),A=T}Object(f.customEvent)(new o(t,p,s,e,A,u[0]+c,u[1]+l,u[0]-g[0],u[1]-g[1],h),h.apply,h,[p,i,a])}}var v,_,w,x,M=a,E=s,C=c,B=l,I={},k=Object(u.a)("start","drag","end"),T=0,D=0;return t.filter=function(e){return arguments.length?(M="function"===typeof e?e:p(!!e),t):M},t.container=function(e){return arguments.length?(E="function"===typeof e?e:p(e),t):E},t.subject=function(e){return arguments.length?(C="function"===typeof e?e:p(e),t):C},t.touchable=function(e){return arguments.length?(B="function"===typeof e?e:p(!!e),t):B},t.on=function(){var e=k.on.apply(k,arguments);return e===k?t:e},t.clickDistance=function(e){return arguments.length?(D=(e=+e)*e,t):Math.sqrt(D)},t};n.d(e,"drag",function(){return A}),n.d(e,"dragDisable",function(){return d}),n.d(e,"dragEnable",function(){return i})},function(t,e,n){"use strict";function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=c,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var c={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=o(t+"",r),c=-1,l=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++c<l;)if(n=(t=i[c]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this}for(;++c<l;)if((n=(t=i[c]).type)&&(n=a(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var l=r;n.d(e,"a",function(){return l})},function(t,e,n){"use strict";function r(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"===typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"===typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var s=t[a];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=A[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(f(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(f(r.parts[o],e));A[r.id]={id:r.id,refs:1,parts:a}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s=o[1],c=o[2],l=o[3],u={css:s,media:c,sourceMap:l};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function o(t,e){var n=m(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=_[_.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),_.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!==typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=m(t.insertAt.before,n);n.insertBefore(e,i)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function s(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=u();n&&(t.attrs.nonce=n)}return l(e,t.attrs),o(t,e),e}function c(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(){return n.nc}function f(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"===typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var l=v++;n=y||(y=s(e)),r=h.bind(null,n,l,!1),i=h.bind(null,n,l,!0)}else t.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(n=c(e),r=p.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function h(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var A={},g=function(t){var e;return function(){return"undefined"===typeof e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),b=function(t,e){return e?e.querySelector(t):document.querySelector(t)},m=function(t){var e={};return function(t,n){if("function"===typeof t)return t();if("undefined"===typeof e[t]){var r=b.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),y=null,v=0,_=[],w=n(54);t.exports=function(t,e){if("undefined"!==typeof DEBUG&&DEBUG&&"object"!==typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"===typeof e.attrs?e.attrs:{},e.singleton||"boolean"===typeof e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=A[s.id];c.refs--,o.push(c)}if(t){r(i(t,e),e)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete A[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(){return at||(lt(i),at=ct.now()+st)}function i(){at=0}function o(){this._call=this._time=this._next=null}function a(t,e,n){var r=new o;return r.restart(t,e,n),r}function s(){r(),++et;for(var t,e=q;e;)(t=at-e._time)>=0&&e._call.call(null,t),e=e._next;--et}function c(){at=(ot=ct.now())+st,et=nt=0;try{s()}finally{et=0,u(),at=0}}function l(){var t=ct.now(),e=t-ot;e>it&&(st-=e,ot=t)}function u(){for(var t,e,n=q,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:q=e);X=t,f(r)}function f(t){if(!et){nt&&(nt=clearTimeout(nt));t-at>24?(t<1/0&&(nt=setTimeout(c,t-ct.now()-st)),rt&&(rt=clearInterval(rt))):(rt||(ot=ct.now(),rt=setInterval(l,it)),et=1,lt(c))}}function h(t,e){var n=p(t,e);if(n.state>dt)throw new Error("too late; already scheduled");return n}function d(t,e){var n=p(t,e);if(n.state>gt)throw new Error("too late; already running");return n}function p(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function A(t,e,n){function r(t){n.state=pt,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(r){var a,u,f,h;if(n.state!==pt)return s();for(a in l)if(h=l[a],h.name===n.name){if(h.state===gt)return ut(i);h.state===bt?(h.state=yt,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete l[a]):+a<e&&(h.state=yt,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete l[a])}if(ut(function(){n.state===gt&&(n.state=bt,n.timer.restart(o,n.delay,n.time),o(r))}),n.state=At,n.on.call("start",t,t.__data__,n.index,n.group),n.state===At){for(n.state=gt,c=new Array(f=n.tween.length),a=0,u=-1;a<f;++a)(h=n.tween[a].value.call(t,t.__data__,n.index,n.group))&&(c[++u]=h);c.length=u+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=mt,1),i=-1,o=c.length;++i<o;)c[i].call(t,r);n.state===mt&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=yt,n.timer.stop(),delete l[e];for(var r in l)return;delete t.__transition}var c,l=t.__transition;l[e]=n,n.timer=a(r,0,n.time)}function g(t,e){var n,r;return function(){var i=d(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function b(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=d(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function m(t,e,n){var r=t._id;return t.each(function(){var t=d(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return p(t,r).value[e]}}function y(t){return function(){this.removeAttribute(t)}}function v(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function w(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function x(t,e,n){var r,i,o;return function(){var a,s,c=n(this);return null==c?void this.removeAttribute(t):(a=this.getAttribute(t),s=c+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,c)))}}function M(t,e,n){var r,i,o;return function(){var a,s,c=n(this);return null==c?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=c+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,c)))}}function E(t,e){return function(n){this.setAttribute(t,e(n))}}function C(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}function B(t,e){function n(){var n=e.apply(this,arguments);return n!==i&&(r=(i=n)&&C(t,n)),r}var r,i;return n._value=e,n}function I(t,e){function n(){var n=e.apply(this,arguments);return n!==i&&(r=(i=n)&&E(t,n)),r}var r,i;return n._value=e,n}function k(t,e){return function(){h(this,t).delay=+e.apply(this,arguments)}}function T(t,e){return e=+e,function(){h(this,t).delay=e}}function D(t,e){return function(){d(this,t).duration=+e.apply(this,arguments)}}function S(t,e){return e=+e,function(){d(this,t).duration=e}}function N(t,e){if("function"!==typeof e)throw new Error;return function(){d(this,t).ease=e}}function j(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function O(t,e,n){var r,i,o=j(e)?h:d;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function L(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Q(t,e){var n,r,i;return function(){var o=Object($.style)(this,t),a=(this.style.removeProperty(t),Object($.style)(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function z(t){return function(){this.style.removeProperty(t)}}function F(t,e,n){var r,i,o=n+"";return function(){var a=Object($.style)(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function U(t,e,n){var r,i,o;return function(){var a=Object($.style)(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Object($.style)(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}function Y(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=d(this,t),l=c.on,u=null==c.value[a]?o||(o=z(e)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}function P(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}function R(t,e,n){function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&P(t,r,n)),i}var i,o;return r._value=e,r}function W(t){return function(){this.textContent=t}}function G(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function H(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function V(t){return Object($.selection)().transition(t)}function Z(){return++Gt}function K(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function J(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Zt.time=r(),Zt;return n}var q,X,$=n(0),tt=n(8),et=0,nt=0,rt=0,it=1e3,ot=0,at=0,st=0,ct="object"===typeof performance&&performance.now?performance:Date,lt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==e?0:+e),this._next||X===this||(X?X._next=this:q=this,X=this),this._call=t,this._time=n,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}};var ut=function(t,e,n){var r=new o;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},ft=Object(tt.a)("start","end","cancel","interrupt"),ht=[],dt=0,pt=1,At=2,gt=3,bt=4,mt=5,yt=6,vt=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};A(t,n,{name:e,index:r,group:i,on:ft,tween:ht,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:dt})},_t=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>At&&n.state<mt,n.state=yt,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},wt=function(t){return this.each(function(){_t(this,t)})},xt=n(2),Mt=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=p(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?g:b)(n,t,e))},Et=n(1),Ct=function(t,e){var n;return("number"===typeof e?xt.c:e instanceof Et.a?xt.d:(n=Object(Et.a)(e))?(e=n,xt.d):xt.f)(t,e)},Bt=function(t,e){var n=Object($.namespace)(t),r="transform"===n?xt.h:Ct;return this.attrTween(t,"function"===typeof e?(n.local?M:x)(n,r,m(this,"attr."+t,e)):null==e?(n.local?v:y)(n):(n.local?w:_)(n,r,e))},It=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Object($.namespace)(t);return this.tween(n,(r.local?B:I)(r,e))},kt=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?k:T)(e,t)):p(this.node(),e).delay},Tt=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?D:S)(e,t)):p(this.node(),e).duration},Dt=function(t){var e=this._id;return arguments.length?this.each(N(e,t)):p(this.node(),e).ease},St=function(t){"function"!==typeof t&&(t=Object($.matcher)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new H(r,this._parents,this._name,this._id)},Nt=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=l[d]||u[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new H(a,this._parents,this._name,this._id)},jt=function(t,e){var n=this._id;return arguments.length<2?p(this.node(),n).on.on(t):this.each(O(n,t,e))},Ot=function(){return this.on("end.remove",L(this._id))},Lt=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Object($.selector)(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,vt(f[h],e,n,h,f,p(s,n)));return new H(o,this._parents,e,n)},Qt=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Object($.selectorAll)(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,f=0;f<u;++f)if(c=l[f]){for(var h,d=t.call(c,c.__data__,f,l),A=p(c,n),g=0,b=d.length;g<b;++g)(h=d[g])&&vt(h,e,n,g,d,A);o.push(d),a.push(c)}return new H(o,a,e,n)},zt=$.selection.prototype.constructor,Ft=function(){return new zt(this._groups,this._parents)},Ut=function(t,e,n){var r="transform"===(t+="")?xt.g:Ct;return null==e?this.styleTween(t,Q(t,r)).on("end.style."+t,z(t)):"function"===typeof e?this.styleTween(t,U(t,r,m(this,"style."+t,e))).each(Y(this._id,t)):this.styleTween(t,F(t,r,e),n).on("end.style."+t,null)},Yt=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,R(t,e,null==n?"":n))},Pt=function(t){return this.tween("text","function"===typeof t?G(m(this,"text",t)):W(null==t?"":t+""))},Rt=function(){for(var t=this._name,e=this._id,n=Z(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=p(a,e);vt(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new H(r,this._parents,t,n)},Wt=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){0===--i&&o()}};n.each(function(){var n=d(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})})},Gt=0,Ht=$.selection.prototype;H.prototype=V.prototype={constructor:H,select:Lt,selectAll:Qt,filter:St,merge:Nt,selection:Ft,transition:Rt,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:jt,attr:Bt,attrTween:It,style:Ut,styleTween:Yt,text:Pt,remove:Ot,tween:Mt,delay:kt,duration:Tt,ease:Dt,end:Wt};var Vt=(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI,function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),2*Math.PI),Zt=(function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Vt);return r.amplitude=function(e){return t(e,n*Vt)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Vt);return r.amplitude=function(e){return t(e,n*Vt)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Vt);return r.amplitude=function(e){return t(e,n*Vt)},r.period=function(n){return t(e,n)},r}(1,.3),{time:null,delay:0,duration:250,ease:K}),Kt=function(t){var e,n;t instanceof H?(e=t._id,t=t._name):(e=Z(),(n=Zt).time=r(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s,c=i[a],l=c.length,u=0;u<l;++u)(s=c[u])&&vt(s,t,e,u,c,n||J(s,e));return new H(i,this._parents,t,e)};$.selection.prototype.interrupt=wt,$.selection.prototype.transition=Kt;n.d(e,"a",function(){return _t})},function(t,e,n){"use strict";function r(t){var e=Number(t);return isNaN(e)||parseFloat(t)!==e?null:e}function i(t,e){var n={},r=[null];for(var i in t){r=t[i].map(function(){return null});break}for(var o in e)!function(i){var o=e[i],a=o.bigg_id,s={};o.genes.forEach(function(e){["bigg_id","name"].forEach(function(n){var i=t[e[n]]||x.clone(r),o=s[e.bigg_id];if(void 0===o)s[e.bigg_id]=i;else for(var a=0;a<i.length;a++){var c=i[a];null!==c&&(o[a]=c)}})}),n[a]=s}(o);return n}function o(t){return isFinite(t)?t:null}function a(t,e){return e?Math.abs(t):t}function s(t,e,n){return n?Math.abs(e-t):e-t}function c(t,e,n){if(0===t||0===e)return null;var r=e>=t?e/t:-t/e;return n?Math.abs(r):r}function l(t,e,n){if(0===t)return null;if(e/t<0)return null;var r=Math.log(e/t)/Math.log(2);return n?Math.abs(r):r}function u(t,e,n){if(!t)return null;if(-1===["reaction_data","metabolite_data","gene_data"].indexOf(e))throw new Error("Invalid name argument: "+e);t instanceof Array||(t=[t]);if(function(){null===t||(1===t.length||(2===t.length||console.warn("Bad data style: "+e)))}(),t=x.arrayToObject(t),"gene_data"===e){if(void 0===n)throw new Error("Must pass all_reactions argument for gene_data");t=i(t,n)}return t}function f(t,e,n){if(null===t)return null;var i=-1!==e.indexOf("abs");if(1===t.length){var u=r(t[0]);return null===u?null:a(u,i)}if(2!==t.length)throw new Error("Data array must be of length 1 or 2");var f=t.map(r);if(null===f[0]||null===f[1])return null;if("diff"===n)return s(f[0],f[1],i);if("fold"===n)return o(c(f[0],f[1],i));if("log2_fold"===n)return o(l(f[0],f[1],i));throw new Error("Bad data compare_style: "+n)}function h(t){return null!==t&&null!==t[0]&&t[0]<0}function d(t,e,n,i,o,a){function s(t,e){return null===t?"nd":e(t)}var c=t,l=null===e,u={};return n.forEach(function(t){var n=t.bigg_id;if(!(n in u))if(u[n]=!0,l)c=m(c,n,n+"\n");else{if(!(n in e))return;var o=e[n],h=f(o,i,a),d=null===h?B:(0,C.format)(".3g");if(1===o.length)c=m(c,n,n+" ("+s(o[0],d)+")\n");else if(2===o.length){var p,A=E.default.any(o,function(t){return null!==r(t)});p=A?n+" ("+s(o[0],d)+", "+s(o[1],d)+": "+s(h,d)+")\n":n+" ("+s(o[0],d)+", "+s(o[1],d)+")\n",c=m(c,n,p)}}}),c=c.replace(k,"\n").replace(T,"$1"),c.split("\n").map(function(t){for(var e=0,r=n.length;e<r;e++){var i=n[e];if(-1!==t.indexOf(i.bigg_id))return"name"===o&&(t=m(t,i.bigg_id,i.name)),{bigg_id:i.bigg_id,name:i.name,text:t}}return{bigg_id:null,name:null,text:t}})}function p(t,e){function n(t,e){return null===t?"(nd)":e(t)}if(null===t)return n(null);if(1===t.length){var r=null===e?B:(0,C.format)(".3g");return n(t[0],r)}if(2===t.length){var r=null===e?B:(0,C.format)(".3g"),i=n(t[0],r);return i+=", "+n(t[1],r),i+=": "+n(e,r)}return""}function A(t){var e=t[0].length,n=[];if(e<2||e>3)throw new Error("CSV file must have 2 or 3 columns");for(var r=1;r<e;r++)n[r-1]={};return t.slice(1).forEach(function(t){for(var e=1,r=t.length;e<r;e++)n[e-1][t[0]]=t[e]}),n}function g(t){var e=t.replace(D,"$1$2").replace(S,"").split(" ").filter(function(t){return""!=t});return x.unique_strings_array(e)}function b(t,e,n){var i=[null],o=1;for(var a in e){i=e[a].map(function(){return null}),o=i.length;break}if(""==t)return x.clone(i);for(var s=[],c=0;c<o;c++){var l=t,u=!0;for(var a in e){var f=r(e[a][c]);null===f?f=0:u=!1,l=m(l,a,f)}if(u)s.push(null);else{for(;;){var h=l;if(h=h.replace(N," $1 "),h=h.replace(L,function(t,e,n,r){return e+n.split(j).map(parseFloat).reduce(function(t,e){return t+e})+r}),(h=h.replace(Q,function(t,e,r,i){var o=r.split(O).map(parseFloat);return e+("min"==n?Math.min.apply(null,o):o.reduce(function(t,e){return t+e})/o.length)+i}))==l)break;l=h}var d=Number(l);isNaN(d)?(console.warn("Could not evaluate "+t),s.push(null)):s.push(d)}}return s}function m(t,e,n){var r="(^|[\\s\\(\\)])"+function(t){return t.replace(I,"\\$1")}(e)+"([\\s\\(\\)]|$)";return t.replace(new RegExp(r,"g"),"$1"+n+"$2")}function y(t,e,n,r,i){E.default.isUndefined(i)&&(i=Object.keys(t));var o,a,s;return null===e?(i.map(function(e){o=t[e],o.data=null,o.data_string="";for(a in o.segments)s=o.segments[a],s.data=null;o.gene_string=null}),!1):(i.map(function(i){o=t[i];var c=e[o.bigg_id]||e[o.name]||null,l=f(c,n,r),u=h(c),d=p(c,l);o.data=l,o.data_string=d,o.reverse_flux=u,o.gene_string=null;for(a in o.segments)s=o.segments[a],s.data=o.data,s.reverse_flux=o.reverse_flux}),!0)}function v(t,e,n,r,i){return E.default.isUndefined(i)&&(i=Object.keys(t)),null===e?(i.map(function(e){t[e].data=null,t[e].data_string=""}),!1):(i.map(function(i){var o=t[i],a=e[o.bigg_id]||e[o.name]||null,s=f(a,n,r),c=p(a,s);o.data=s,o.data_string=c}),!0)}function _(t,e,n,r,i,o,a){if(E.default.isUndefined(a)&&(a=Object.keys(t)),null===e)return a.map(function(e){var n=t[e];n.data=null,n.data_string="",n.reverse_flux=!1;for(var r in n.segments){n.segments[r].data=null}n.gene_string=null}),!1;var s=[null];for(var c in e){for(var l in e[c]){s=e[c][l].map(function(){return null});break}break}return a.map(function(a){var c,l,u=t[a],A=u.gene_reaction_rule,g=e[u.bigg_id];E.default.isUndefined(g)?(l={},c=x.clone(s)):(l=g,c=b(A,l,o));var m=f(c,n,i),y=h(c),v=p(c,m);u.data=m,u.data_string=v,u.reverse_flux=y;for(var _ in u.segments){var w=u.segments[_];w.data=u.data,w.reverse_flux=u.reverse_flux}u.gene_string=d(A,l,u.genes,n,r,i)}),!0}e.__esModule=!0,e.importAndCheck=u,e.floatForData=f,e.reverse_flux_for_data=h,e.gene_string_for_data=d,e.text_for_data=p,e.csv_converter=A,e.genes_for_gene_reaction_rule=g,e.evaluate_gene_reaction_rule=b,e.replace_gene_in_rule=m,e.apply_reaction_data_to_reactions=y,e.apply_metabolite_data_to_nodes=v,e.apply_gene_data_to_reactions=_;var w=n(3),x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(w),M=n(4),E=function(t){return t&&t.__esModule?t:{default:t}}(M),C=n(6),B=function(t){return t},I=/([.*+?^=!:${}()|[\]\/\\])/g,k=/\n\s*\n/g,T=/\n\s*(\)*)\s*$/,D=/([() ])(?:and|or)([)( ])/gi,S=/[()]/g,N=/\(\s*(\S+)\s*\)/g,j=/\s+or\s+/i,O=/\s+and\s+/i,L=/(^|\()(\s*-?[0-9.]+\s+(?:or\s+-?[0-9.]+\s*)+)(\)|$)/gi,Q=/(^|\(|or\s)(\s*-?[0-9.]+\s+(?:and\s+-?[0-9.]+\s*)+)(\sor|\)|$)/gi},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){r(this,t)}return t.prototype.set=function(t,e){void 0===this.callbacks&&(this.callbacks={}),void 0===this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(e)},t.prototype.remove=function(t){void 0===this.callbacks||0===Object.keys(this.callbacks).length?console.warn("No callbacks to remove"):delete this.callbacks[t]},t.prototype.run=function(t){for(var e=arguments.length,n=Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0!==this.callbacks)for(var o in this.callbacks){var a=o.split(".")[0];a===t&&this.callbacks[o].forEach(function(t){t.apply(i,n)})}},t}();e.default=i},function(t,e,n){"use strict";function r(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function i(t,e){var n=r(t);return function(r,i){return e(n(r),i,t)}}function o(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function a(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function s(t){return t<0?"-"+a(-t,6):t>9999?"+"+a(t,6):a(t,4)}function c(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":s(t.getUTCFullYear(),4)+"-"+a(t.getUTCMonth()+1,2)+"-"+a(t.getUTCDate(),2)+(i?"T"+a(e,2)+":"+a(n,2)+":"+a(r,2)+"."+a(i,3)+"Z":r?"T"+a(e,2)+":"+a(n,2)+":"+a(r,2)+"Z":n||e?"T"+a(e,2)+":"+a(n,2)+"Z":"")}function l(t){for(var e in t){var n,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;t[e]=r}return t}n.r(e);var u={},f={},h=34,d=10,p=13,A=function(t){function e(t,e){var o,a,s=n(t,function(t,n){if(o)return o(t,n-1);a=t,o=e?i(t,e):r(t)});return s.columns=a||[],s}function n(t,e){function n(){if(c)return f;if(l)return l=!1,u;var e,n,r=a;if(t.charCodeAt(r)===h){for(;a++<o&&t.charCodeAt(a)!==h||t.charCodeAt(++a)===h;);return(e=a)>=o?c=!0:(n=t.charCodeAt(a++))===d?l=!0:n===p&&(l=!0,t.charCodeAt(a)===d&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if((n=t.charCodeAt(e=a++))===d)l=!0;else if(n===p)l=!0,t.charCodeAt(a)===d&&++a;else if(n!==y)continue;return t.slice(r,e)}return c=!0,t.slice(r,o)}var r,i=[],o=t.length,a=0,s=0,c=o<=0,l=!1;for(t.charCodeAt(o-1)===d&&--o,t.charCodeAt(o-1)===p&&--o;(r=n())!==f;){for(var A=[];r!==u&&r!==f;)A.push(r),r=n();e&&null==(A=e(A,s++))||i.push(A)}return i}function a(e,n){return e.map(function(e){return n.map(function(t){return b(e[t])}).join(t)})}function s(e,n){return null==n&&(n=o(e)),[n.map(b).join(t)].concat(a(e,n)).join("\n")}function l(t,e){return null==e&&(e=o(t)),a(t,e).join("\n")}function A(t){return t.map(g).join("\n")}function g(e){return e.map(b).join(t)}function b(t){return null==t?"":t instanceof Date?c(t):m.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var m=new RegExp('["'+t+"\n\r]"),y=t.charCodeAt(0);return{parse:e,parseRows:n,format:s,formatBody:l,formatRows:A}},g=A(","),b=g.parse,m=g.parseRows,y=g.format,v=g.formatBody,_=g.formatRows,w=A("\t"),x=w.parse,M=w.parseRows,E=w.format,C=w.formatBody,B=w.formatRows;n.d(e,"dsvFormat",function(){return A}),n.d(e,"csvParse",function(){return b}),n.d(e,"csvParseRows",function(){return m}),n.d(e,"csvFormat",function(){return y}),n.d(e,"csvFormatBody",function(){return v}),n.d(e,"csvFormatRows",function(){return _}),n.d(e,"tsvParse",function(){return x}),n.d(e,"tsvParseRows",function(){return M}),n.d(e,"tsvFormat",function(){return E}),n.d(e,"tsvFormatBody",function(){return C}),n.d(e,"tsvFormatRows",function(){return B}),n.d(e,"autoType",function(){return l})},function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(i=t[o],o,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function o(){}function a(t,e){var n=new o;if(t instanceof o)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}r.prototype=i.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var s=i,c=s.prototype;o.prototype=a.prototype={constructor:o,has:c.has,add:function(t){return t+="",this["$"+t]=t,this},remove:c.remove,clear:c.clear,values:c.keys,size:c.size,empty:c.empty,each:c.each};n.d(e,"a",function(){return s})},function(t,e,n){"use strict";function r(t){return function(e,n){t(null==e?n:null)}}function i(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function o(t,e){return function(n){return t(n.responseText,e)}}n.r(e);var a=n(15),s=n(8),c=function(t,e){function n(t){var e,n=d.status;if(!n&&i(d)||n>=200&&n<300||304===n){if(l)try{e=l.call(o,d)}catch(t){return void f.call("error",o,t)}else e=d;f.call("load",o,e)}else f.call("error",o,t)}var o,c,l,u,f=Object(s.a)("beforesend","progress","load","error"),h=Object(a.a)(),d=new XMLHttpRequest,p=null,A=null,g=0;if("undefined"===typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=n:d.onreadystatechange=function(t){d.readyState>3&&n(t)},d.onprogress=function(t){f.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?h.get(t):(null==e?h.remove(t):h.set(t,e+""),o)},mimeType:function(t){return arguments.length?(c=null==t?null:t+"",o):c},responseType:function(t){return arguments.length?(u=t,o):u},timeout:function(t){return arguments.length?(g=+t,o):g},user:function(t){return arguments.length<1?p:(p=null==t?null:t+"",o)},password:function(t){return arguments.length<1?A:(A=null==t?null:t+"",o)},response:function(t){return l=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(e,n,i){return d.open(e,t,!0,p,A),null==c||h.has("accept")||h.set("accept",c+",*/*"),d.setRequestHeader&&h.each(function(t,e){d.setRequestHeader(e,t)}),null!=c&&d.overrideMimeType&&d.overrideMimeType(c),null!=u&&(d.responseType=u),g>0&&(d.timeout=g),null==i&&"function"===typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),f.call("beforesend",o,d),d.send(null==n?null:n),o},abort:function(){return d.abort(),o},on:function(){var t=f.on.apply(f,arguments);return t===f?o:t}},null!=e){if("function"!==typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o},l=function(t,e){return function(n,r){var i=c(n).mimeType(t).response(e);if(null!=r){if("function"!==typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},u=l("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),f=l("application/json",function(t){return JSON.parse(t.responseText)}),h=l("text/plain",function(t){return t.responseText}),d=l("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),p=n(14),A=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=c(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(o(e,r=t)):r},a.row(r),i?a.get(i):a}},g=A("text/csv",p.csvParse),b=A("text/tab-separated-values",p.tsvParse);n.d(e,"request",function(){return c}),n.d(e,"html",function(){return u}),n.d(e,"json",function(){return f}),n.d(e,"text",function(){return h}),n.d(e,"xml",function(){return d}),n.d(e,"csv",function(){return g}),n.d(e,"tsv",function(){return b})},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.div=t,this.map=e,this.displacement=n,this.shouldReposition=r,this.visible=!0,this.hide()}function i(){return this.visible}function o(t){this.div.style("display",null);var e=this.map.zoomContainer.windowTranslate,n=this.map.zoomContainer.windowScale,r=this.map.get_size();if(this.shouldReposition){var i=Math.max(20,Math.min(r.width-270,n*t.x+e.x-this.displacement.x)),o=Math.max(20,Math.min(r.height-40,n*t.y+e.y-this.displacement.y));this.div.style("position","absolute").style("display","block").style("left",i+"px").style("top",o+"px")}else this.div.style("position","absolute").style("display","block").style("left",n*t.x+e.x-this.displacement.x+"px").style("top",n*t.y+e.y-this.displacement.y+"px");this.visible=!0}function a(){this.visible&&(this.div.style("display","none"),this.visible=!1)}var s=n(3),c=s.make_class();c.prototype={init:r,is_visible:i,place:o,hide:a},t.exports=c},function(t,e,n){"use strict";function r(t,e){var n=function(t){return 1==t?"":String(t)+" "},r=[],i=[];for(var o in t){var a=t[o];a>0?i.push(n(a)+o):r.push(n(Math.abs(a))+o)}var s=r.join(" + ");return s+=e?" \u2194 ":" \u2192 ",s+=i.join(" + ")}function i(t){if(!t.reactions||!t.metabolites)throw new Error("Bad model data.");for(var e={},n=0,r=t.genes.length;n<r;n++){var i=t.genes[n],o=i.id;e[o]=i}var a=new f;a.reactions={};for(var n=0,r=t.reactions.length;n<r;n++){var i=t.reactions[n],o=i.id,s=l.clone(i);if(delete s.id,s.bigg_id=o,s.data_string="",s.genes=[],s.reversibility=s.lower_bound<0&&s.upper_bound>0,s.upper_bound<=0&&s.lower_bound<0)for(var c in s.metabolites)s.metabolites[c]=-s.metabolites[c];if(delete s.lower_bound,delete s.upper_bound,"gene_reaction_rule"in s){u.genes_for_gene_reaction_rule(s.gene_reaction_rule).forEach(function(t){if(t in e){var n=l.clone(e[t]);n.bigg_id=n.id,delete n.id,s.genes.push(n)}else console.warn("Could not find gene for gene_id "+t)})}a.reactions[o]=s}a.metabolites={};for(var n=0,r=t.metabolites.length;n<r;n++){var i=t.metabolites[n],o=i.id,h=l.clone(i);delete h.id,h.bigg_id=o,a.metabolites[o]=h}return a}function o(){this.reactions={},this.metabolites={}}function a(t,e,n){u.apply_reaction_data_to_reactions(this.reactions,t,e,n)}function s(t,e,n){u.apply_metabolite_data_to_nodes(this.metabolites,t,e,n)}function c(t,e,n,r,i){u.apply_gene_data_to_reactions(this.reactions,t,e,n,r,i)}var l=n(3),u=n(12),f=l.make_class();f.from_cobra_json=i,f.build_reaction_string=r,f.prototype={init:o,apply_reaction_data:a,apply_metabolite_data:s,apply_gene_data:c},t.exports=f},function(t,e,n){(function(t,r){var i,o;(function(){function a(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.obs=t,this.sync=e,this.lazy=n,this.queue=[]}function s(){a.apply(this,arguments)}function c(t){a.call(this,t,!0)}function l(t,e,n){this.context=t,this.method=e,this.args=n}function u(t){this.value=t}function f(){this.id=++ct}function h(t,e){if(!(this instanceof h))return new h(t,e);f.call(this),!e&&R.isFunction(t)||(null!=t?t._isNext:void 0)?(this.valueF=t,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=t)}function d(t,e){if(!(this instanceof d))return new d(t,e);h.call(this,t,e)}function p(){if(!(this instanceof p))return new p;f.call(this)}function A(t){if(!(this instanceof A))return new A(t);this.error=t,f.call(this)}function g(t){this.desc=t,this.id=++dt,this.initialDesc=this.desc}function b(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=R.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var e,n=0;n<t.length;n++)e=t[n],this.add(e)}function m(t,e){this._subscribe=t,this._handleEvent=e,this.subscribe=R.bind(this.subscribe,this),this.handleEvent=R.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function y(t,e,n){if(!(this instanceof y))return new y(t,e,n);R.isFunction(t)&&(n=e,e=t,t=l.empty),g.call(this,t),O(e),this.dispatcher=new m(e,n),pt(this)}function v(t,e,n){m.call(this,e,n),this.property=t,this.subscribe=R.bind(this.subscribe,this),this.current=at,this.currentValueRootId=void 0,this.propertyEnded=!1}function _(t,e,n){g.call(this,t),O(e),this.dispatcher=new v(this,e,n),pt(this)}function w(){if(!(this instanceof w))return new w;this.unsubAll=R.bind(this.unsubAll,this),this.subscribeAll=R.bind(this.subscribeAll,this),this.guardedSink=R.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,y.call(this,new C.Desc(C,"Bus",[]),this.subscribeAll)}function x(t){return[t,ft()]}function M(t){this.observable=t}var E=Array.prototype.slice,C={toString:function(){return"Bacon"}};C.version="0.7.95";var B=("undefined"!==typeof t&&null!==t?t:this).Error,I=function(){},k=function(t,e){return t},T=function(t){return t.slice(0)},D=function(t,e){if(!e)throw new B(t)},S=function(t){if((null!=t?t._isObservable:void 0)&&!(null!=t?t._isProperty:void 0))throw new B("Observable is not a Property : "+t)},N=function(t){if(!(null!=t?t._isEventStream:void 0))throw new B("not an EventStream : "+t)},j=function(t){if(!(null!=t?t._isObservable:void 0))throw new B("not an Observable : "+t)},O=function(t){return D("not a function : "+t,R.isFunction(t))},L=Array.isArray||function(t){return t instanceof Array},Q=function(t){return t&&t._isObservable},z=function(t){if(!L(t))throw new B("not an array : "+t)},F=function(t){return D("no arguments supported",0===t.length)},U=function(t){for(var e=arguments.length,n=1;1<e?n<e:n>e;1<e?n++:n--)for(var r in arguments[n])t[r]=arguments[n][r];return t},Y=function(t,e){var n={}.hasOwnProperty,r=function(){};r.prototype=e.prototype,t.prototype=new r;for(var i in e)n.call(e,i)&&(t[i]=e[i]);return t},P=function(t){return"undefined"!==typeof Symbol&&Symbol[t]?Symbol[t]:"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol[t]=Symbol.for(t):"@@"+t},R={indexOf:function(){return Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n,r=0;r<t.length;r++)if(n=t[r],e===n)return r;return-1}}(),indexWhere:function(t,e){for(var n,r=0;r<t.length;r++)if(n=t[r],e(n))return r;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,e){for(var n,r=[],i=0;i<e.length;i++)n=e[i],t(n)&&r.push(n);return r},map:function(t,e){return function(){for(var n,r=[],i=0;i<e.length;i++)n=e[i],r.push(t(n));return r}()},each:function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];e(n,r)}},toArray:function(t){return L(t)?t:[t]},contains:function(t,e){return-1!==R.indexOf(t,e)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t){for(var e,n=arguments.length<=1||void 0===arguments[1]?R.id:arguments[1],r=0;r<t.length;r++)if(e=t[r],!n(e))return!1;return!0},any:function(t){for(var e,n=arguments.length<=1||void 0===arguments[1]?R.id:arguments[1],r=0;r<t.length;r++)if(e=t[r],n(e))return!0;return!1},without:function(t,e){return R.filter(function(e){return e!==t},e)},remove:function(t,e){var n=R.indexOf(e,t);if(n>=0)return e.splice(n,1)},fold:function(t,e,n){for(var r,i=0;i<t.length;i++)r=t[i],e=n(e,r);return e},flatMap:function(t,e){return R.fold(e,[],function(e,n){return e.concat(t(n))})},cached:function(t){var e=at;return function(){return("undefined"!==typeof e&&null!==e?e._isNone:void 0)&&(e=t(),t=void 0),e}},bind:function(t,e){return function(){return t.apply(e,arguments)}},isFunction:function(t){return"function"===typeof t},toString:function(t){var e,n,r={}.hasOwnProperty;try{return W++,null==t?"undefined":R.isFunction(t)?"function":L(t)?W>5?"[..]":"["+R.map(R.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"===typeof t?W>5?"{..}":"{"+function(){var i=[];for(e in t)r.call(t,e)&&(n=function(){try{return t[e]}catch(t){return t}}(),i.push(R.toString(e)+":"+R.toString(n)));return i}()+"}":t}finally{W--}}},W=0;C._=R;var G=C.UpdateBarrier=function(){function t(t){t<=s||(a[t-1]||(a[t-1]=[[],0]),s=t)}function e(t,e){for(var n=0;n<e.length;n++)if(e[n][0].id==t.id)return!0;return!1}function n(){var e=s;if(e)for(;s>=e;){var n=a[s-1];if(!n)throw new A("Unexpected stack top: "+n);var r=n[0],i=n[1];if(!(i<r.length)){n[0]=[],n[1]=0;break}var o=r[i],c=(o[0],o[1]);n[1]++,t(s+1);var l=!1;try{for(c(),l=!0;s>e&&0==a[s-1][0].length;)s--}finally{l||(a=[],s=0)}}}var r,i=[],o={},a=[],s=0,c={},l=function(i,o){if(!r&&!a.length)return o();t(1);for(var c=0;c<s-1&&!e(i,a[c][0]);)c++;a[c][0].push([i,o]),r||n()},u=function(t,e){if(r){var n=o[t.id];return"undefined"===typeof n||null===n?(n=o[t.id]=[e],i.push(t)):n.push(e)}return e()},f=function(){for(;i.length>0;)h(0,!0);c={}},h=function(t,e){var n=i[t],r=n.id,a=o[r];i.splice(t,1),delete o[r],e&&i.length>0&&d(n);for(var s=0;s<a.length;s++)(0,a[s])()},d=function(t){if(!c[t.id]){for(var e,n=t.internalDeps(),r=0;r<n.length;r++)if(e=n[r],d(e),o[e.id]){var a=R.indexOf(i,e);h(a,!1)}c[t.id]=!0}},p=function(t,e,i,o){if(r)return i.apply(e,o);r=t;try{var a=i.apply(e,o);f()}finally{r=void 0,n()}return a},g=function(){return r?r.id:void 0},b=function(t,e){var n=!1,r=!1,i=function(){return r=!0},o=function(){return n=!0,i()};return i=t.dispatcher.subscribe(function(r){return l(t,function(){if(!n){if(e(r)===C.noMore)return o()}})}),r&&i(),o};return{whenDoneWith:u,hasWaiters:function(){return i.length>0},inTransaction:p,currentEventId:g,wrappedSubscribe:b,afterTransaction:l}}();U(a.prototype,{_isSource:!0,subscribe:function(t){return this.obs.dispatcher.subscribe(t)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:R.always(this.queue[0])}:this.queue[0]},push:function(t){return this.queue=[t],[t]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),Y(s,a),U(s.prototype,{consume:function(){return this.queue.shift()},push:function(t){return this.queue.push(t)},mayHave:function(t){return!this.ended||this.queue.length>=t},hasAtLeast:function(t){return this.queue.length>=t},flatten:!1}),Y(c,a),U(c.prototype,{consume:function(){var t=this.queue;return this.queue=[],{value:function(){return t}}},push:function(t){return this.queue.push(t.value())},hasAtLeast:function(){return!0}}),a.isTrigger=function(t){return(null!=t?t._isSource:void 0)?t.sync:null!=t?t._isEventStream:void 0},a.fromObservable=function(t){return(null!=t?t._isSource:void 0)?t:(null!=t?t._isProperty:void 0)?new a(t,!1):new s(t,!0)},U(l.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=Z([this.context].concat(this.args))),this.cached},toString:function(){return R.toString(this.context)+"."+R.toString(this.method)+"("+R.map(R.toString,this.args)+")"}});var H=function(t,e){var n=t||e;if(n&&n._isDesc)return t||e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new l(t,e,i)},V=function(t,e){return e.desc=t,e},Z=function(t){return L(t)?R.flatMap(Z,t):Q(t)?[t]:("undefined"!==typeof t&&null!==t?t._isSource:void 0)?[t.obs]:[]};C.Desc=l,C.Desc.empty=new C.Desc("","",[]);var K=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("object"===typeof e&&r.length){var o=e,a=r[0];e=function(){return o[a].apply(o,arguments)},r=r.slice(1)}return t.apply(void 0,[e].concat(r))}},J=function(t){return t=Array.prototype.slice.call(t),et.apply(void 0,t)},q=function(t,e){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(void 0,e.concat(r))}},X=function(t){return function(e){return function(n){if("undefined"!==typeof n&&null!==n){var r=n[e];return R.isFunction(r)?r.apply(n,t):r}}}},$=function(t,e){var n=t.slice(1).split("."),r=R.map(X(e),n);return function(t){for(var e,n=0;n<r.length;n++)e=r[n],t=e(t);return t}},tt=function(t){return"string"===typeof t&&t.length>1&&"."===t.charAt(0)},et=K(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return R.isFunction(t)?n.length?q(t,n):t:tt(t)?$(t,n):R.always(t)}),nt=function(t,e){return et.apply(void 0,[t].concat(e))},rt=function(t,e,n,r){if("undefined"!==typeof e&&null!==e?e._isProperty:void 0){var i=e.sampledBy(t,function(t,e){return[t,e]});return r.call(i,function(t){var e=t[0];t[1];return e}).map(function(t){t[0];return t[1]})}return e=nt(e,n),r.call(t,e)},it=function(t){if(R.isFunction(t))return t;if(tt(t)){var e=ot(t);return function(t,n){return t[e](n)}}throw new B("not a function or a field key: "+t)},ot=function(t){return t.slice(1)};U(u.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(t){return t(this.value)?new u(this.value):at},map:function(t){return new u(t(this.value))},forEach:function(t){return t(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var at={_isNone:!0,getOrElse:function(t){return t},filter:function(){return at},map:function(){return at},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},st=function(t){return("undefined"!==typeof t&&null!==t?t._isSome:void 0)||("undefined"!==typeof t&&null!==t?t._isNone:void 0)?t:new u(t)};C.noMore="<no-more>",C.more="<more>";var ct=0;f.prototype._isEvent=!0,f.prototype.isEvent=function(){return!0},f.prototype.isEnd=function(){return!1},f.prototype.isInitial=function(){return!1},f.prototype.isNext=function(){return!1},f.prototype.isError=function(){return!1},f.prototype.hasValue=function(){return!1},f.prototype.filter=function(){return!0},f.prototype.inspect=function(){return this.toString()},f.prototype.log=function(){return this.toString()},Y(h,f),h.prototype.isNext=function(){return!0},h.prototype.hasValue=function(){return!0},h.prototype.value=function(){var t;return(null!=(t=this.valueF)?t._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},h.prototype.fmap=function(t){var e,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return t(n)})):(e=this,this.apply(function(){return t(e.value())}))},h.prototype.apply=function(t){return new h(t)},h.prototype.filter=function(t){return t(this.value())},h.prototype.toString=function(){return R.toString(this.value())},h.prototype.log=function(){return this.value()},h.prototype._isNext=!0,Y(d,h),d.prototype._isInitial=!0,d.prototype.isInitial=function(){return!0},d.prototype.isNext=function(){return!1},d.prototype.apply=function(t){return new d(t)},d.prototype.toNext=function(){return new h(this)},Y(p,f),p.prototype.isEnd=function(){return!0},p.prototype.fmap=function(){return this},p.prototype.apply=function(){return this},p.prototype.toString=function(){return"<end>"},Y(A,f),A.prototype.isError=function(){return!0},A.prototype.fmap=function(){return this},A.prototype.apply=function(){return this},A.prototype.toString=function(){return"<error> "+R.toString(this.error)},C.Event=f,C.Initial=d,C.Next=h,C.End=p,C.Error=A;var lt=function(t){return new d(t,!0)},ut=function(t){return new h(t,!0)},ft=function(){return new p},ht=function(t){return t&&t._isEvent?t:ut(t)},dt=0,pt=function(){};U(g.prototype,{_isObservable:!0,subscribe:function(t){return G.wrappedSubscribe(this,t)},subscribeInternal:function(t){return this.dispatcher.subscribe(t)},onValue:function(){var t=J(arguments);return this.subscribe(function(e){if(e.hasValue())return t(e.value())})},onValues:function(t){return this.onValue(function(e){return t.apply(void 0,e)})},onError:function(){var t=J(arguments);return this.subscribe(function(e){if(e.isError())return t(e.error)})},onEnd:function(){var t=J(arguments);return this.subscribe(function(e){if(e.isEnd())return t()})},name:function(t){return this._name=t,this},withDescription:function(){return this.desc=H.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),g.prototype.assign=g.prototype.onValue,g.prototype.forEach=g.prototype.onValue,g.prototype.inspect=g.prototype.toString,C.Observable=g,U(b.prototype,{add:function(t){var e=this;if(!this.unsubscribed){var n=!1,r=I;this.starting.push(t);var i=function(){if(!e.unsubscribed)return n=!0,e.remove(r),R.remove(t,e.starting)};return r=t(this.unsubscribe,i),this.unsubscribed||n?r():this.subscriptions.push(r),R.remove(t,this.starting),r}},remove:function(t){if(!this.unsubscribed)return void 0!==R.remove(t,this.subscriptions)?t():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var t=this.subscriptions,e=0;e<t.length;e++)t[e]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),C.CompositeUnsubscribe=b,m.prototype.hasSubscribers=function(){return this.subscriptions.length>0},m.prototype.removeSub=function(t){return this.subscriptions=R.without(t,this.subscriptions),this.subscriptions},m.prototype.push=function(t){return t.isEnd()&&(this.ended=!0),G.inTransaction(t,this,this.pushIt,[t])},m.prototype.pushToSubscriptions=function(t){try{for(var e=this.subscriptions,n=e.length,r=0;r<n;r++){var i=e[r];(i.sink(t)===C.noMore||t.isEnd())&&this.removeSub(i)}return!0}catch(t){throw this.pushing=!1,this.queue=[],t}},m.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),C.more;if(t!==this.prevError){for(t.isError()&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?C.more:(this.unsubscribeFromSource(),C.noMore)}},m.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},m.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},m.prototype.subscribe=function(t){var e;return this.ended?(t(ft()),I):(O(t),e={sink:t},this.subscriptions.push(e),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),O(this.unsubSrc)),function(t){return function(){if(t.removeSub(e),!t.hasSubscribers())return t.unsubscribeFromSource()}}(this))},C.Dispatcher=m,Y(y,g),U(y.prototype,{_isEventStream:!0,toProperty:function(t){var e=0===arguments.length?at:st(function(){return t}),n=this.dispatcher;return new _(new C.Desc(this,"toProperty",[t]),function(t){var r=!1,i=!1,o=I,a=C.more,s=function(){if(!r)return e.forEach(function(e){if(r=!0,(a=t(new d(e)))===C.noMore)return o(),o=I,I})};return o=n.subscribe(function(n){return n.hasValue()?n.isInitial()&&!i?(e=new u(function(){return n.value()}),C.more):(n.isInitial()||s(),r=!0,e=new u(n),t(n)):(n.isEnd()&&(a=s()),a!==C.noMore?t(n):void 0)}),i=!0,s(),o})},toEventStream:function(){return this},withHandler:function(t){return new y(new C.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)}}),C.EventStream=y,C.never=function(){return new y(H(C,"never"),function(t){return t(ft()),I})},C.when=function(){if(0===arguments.length)return C.never();var t=arguments.length;D("when: expecting arguments in the form (Observable+,function)+",t%2===0);for(var e=[],n=[],r=0,i=[];r<t;){i[r]=arguments[r],i[r+1]=arguments[r+1];for(var o,s=R.toArray(arguments[r]),c=gt(arguments[r+1]),l={f:c,ixs:[]},u=!1,f=0;f<s.length;f++){o=s[f];var h=R.indexOf(e,o);u||(u=a.isTrigger(o)),h<0&&(e.push(o),h=e.length-1);for(var d,p=0;p<l.ixs.length;p++)d=l.ixs[p],d.index===h&&d.count++;l.ixs.push({index:h,count:1})}D("At least one EventStream required",u||!s.length),s.length>0&&n.push(l),r+=2}if(!e.length)return C.never();e=R.map(a.fromObservable,e);var A=R.any(e,function(t){return t.flatten})&&At(R.map(function(t){return t.obs},e)),g=new C.Desc(C,"when",i),b=new y(g,function(t){var r=[],i=!1,o=function(t){for(var n,r=0;r<t.ixs.length;r++)if(n=t.ixs[r],!e[n.index].hasAtLeast(n.count))return!1;return!0},a=function(t){return!t.sync||t.ended},s=function(t){for(var n,r=0;r<t.ixs.length;r++)if(n=t.ixs[r],!e[n.index].mayHave(n.count))return!0},c=function(t){return!t.source.flatten},l=function(l){return function(u){var f=function(){return G.whenDoneWith(b,d)},h=function(){if(!(r.length>0))return C.more;for(var i,a=C.more,s=r.pop(),l=0;l<n.length;l++)if(i=n[l],o(i)){var u=function(){for(var t,n=[],r=0;r<i.ixs.length;r++)t=i.ixs[r],n.push(e[t.index].consume());return n}();return a=t(s.e.apply(function(){var t,e=function(){for(var t,e=[],n=0;n<u.length;n++)t=u[n],e.push(t.value());return e}();return(t=i).f.apply(t,e)})),r.length&&(r=R.filter(c,r)),a===C.noMore?a:h()}},d=function(){var r=h();return i&&(R.all(e,a)||R.all(n,s))&&(r=C.noMore,t(ft())),r===C.noMore&&u(),r};return l.subscribe(function(e){if(e.isEnd())i=!0,l.markEnded(),f();else if(e.isError())var n=t(e);else l.push(e),l.sync&&(r.push({source:l,e:e}),A||G.hasWaiters()?f():d());return n===C.noMore&&u(),n||C.more})}};return new C.CompositeUnsubscribe(function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(l(t));return n}()).unsubscribe});return b};var At=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=function(t){if(R.contains(e,t))return!0;var r=t.internalDeps();return r.length?(e.push(t),R.any(r,n)):(e.push(t),!1)};return R.any(t,n)},gt=function(t){return R.isFunction(t)?t:R.always(t)};C.groupSimultaneous=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];1===e.length&&L(e[0])&&(e=e[0]);var r=function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(new c(t));return n}();return V(new C.Desc(C,"groupSimultaneous",e),C.when(r,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}))},Y(v,m),U(v.prototype,{push:function(t){return t.isEnd()&&(this.propertyEnded=!0),t.hasValue()&&(this.current=new u(t),this.currentValueRootId=G.currentEventId()),m.prototype.push.call(this,t)},maybeSubSource:function(t,e){return e===C.noMore?I:this.propertyEnded?(t(ft()),I):m.prototype.subscribe.call(this,t)},subscribe:function(t){var e=this,n=C.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var r=G.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&r&&r!==i?(G.whenDoneWith(this.property,function(){if(e.currentValueRootId===i)return t(lt(e.current.get().value()))}),this.maybeSubSource(t,n)):(G.inTransaction(void 0,this,function(){return n=t(lt(this.current.get().value()))},[]),this.maybeSubSource(t,n))}return this.maybeSubSource(t,n)}}),Y(_,g),U(_.prototype,{_isProperty:!0,changes:function(){var t=this;return new y(new C.Desc(this,"changes",[]),function(e){return t.dispatcher.subscribe(function(t){if(!t.isInitial())return e(t)})})},withHandler:function(t){return new _(new C.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)},toProperty:function(){return F(arguments),this},toEventStream:function(){var t=this;return new y(new C.Desc(this,"toEventStream",[]),function(e){return t.dispatcher.subscribe(function(t){return t.isInitial()&&(t=t.toNext()),e(t)})})}}),C.Property=_,C.constant=function(t){return new _(new C.Desc(C,"constant",[t]),function(e){return e(lt(t)),e(ft()),I})},C.fromBinder=function(t){var e=arguments.length<=1||void 0===arguments[1]?R.id:arguments[1];return new y(new C.Desc(C,"fromBinder",[t,e]),function(n){var r=!1,i=!1,o=function(){if(!r)return"undefined"!==typeof a&&null!==a?(a(),r=!0):i=!0},a=t(function(){for(var t,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=e.apply(this,i);L(s)&&(null!=(t=R.last(s))?t._isEvent:void 0)||(s=[s]);for(var c,l=C.more,u=0;u<s.length;u++)if(c=s[u],(l=n(c=ht(c)))===C.noMore||c.isEnd())return o(),l;return l});return i&&o(),o})},C.Observable.prototype.map=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rt(this,t,n,function(t){return V(new C.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})};var bt=function(t){return L(t[0])?t[0]:Array.prototype.slice.call(t)},mt=function(t){return R.isFunction(t[0])?[bt(Array.prototype.slice.call(t,1)),t[0]]:[bt(Array.prototype.slice.call(t,0,t.length-1)),R.last(t)]};C.combineAsArray=function(){var t=bt(arguments);if(t.length){for(var e=[],n=0;n<t.length;n++){var r=Q(t[n])?t[n]:C.constant(t[n]);e.push(new a(r,!0))}return V(new C.Desc(C,"combineAsArray",t),C.when(e,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}).toProperty())}return C.constant([])},C.onValues=function(){return C.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},C.combineWith=function(){var t=mt(arguments),e=t[0],n=t[1],r=new C.Desc(C,"combineWith",[n].concat(e));return V(r,C.combineAsArray(e).map(function(t){return n.apply(void 0,t)}))},C.Observable.prototype.combine=function(t,e){var n=it(e),r=new C.Desc(this,"combine",[t,e]);return V(r,C.combineAsArray(this,t).map(function(t){return n(t[0],t[1])}))},C.Observable.prototype.withStateMachine=function(t,e){var n=t,r=new C.Desc(this,"withStateMachine",[t,e]);return V(r,this.withHandler(function(t){var r=e(n,t),i=r[0],o=r[1];n=i;for(var a,s=C.more,c=0;c<o.length;c++)if(a=o[c],(s=this.push(a))===C.noMore)return s;return s}))};var yt=function(t,e){return t===e},vt=function(t){return"undefined"!==typeof t&&null!==t&&t._isNone};C.Observable.prototype.skipDuplicates=function(){var t=arguments.length<=0||void 0===arguments[0]?yt:arguments[0],e=new C.Desc(this,"skipDuplicates",[]);return V(e,this.withStateMachine(at,function(e,n){return n.hasValue()?n.isInitial()||vt(e)||!t(e.get(),n.value())?[new u(n.value()),[n]]:[e,[]]:[e,[n]]}))},C.Observable.prototype.awaiting=function(t){var e=new C.Desc(this,"awaiting",[t]);return V(e,C.groupSimultaneous(this,t).map(function(t){return 0===t[1].length}).toProperty(!1).skipDuplicates())},C.Observable.prototype.not=function(){return V(new C.Desc(this,"not",[]),this.map(function(t){return!t}))},C.Property.prototype.and=function(t){return V(new C.Desc(this,"and",[t]),this.combine(t,function(t,e){return t&&e}))},C.Property.prototype.or=function(t){return V(new C.Desc(this,"or",[t]),this.combine(t,function(t,e){return t||e}))},C.scheduler={setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},now:function(){return(new Date).getTime()}},C.EventStream.prototype.bufferWithTime=function(t){return V(new C.Desc(this,"bufferWithTime",[t]),this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},C.EventStream.prototype.bufferWithCount=function(t){return V(new C.Desc(this,"bufferWithCount",[t]),this.bufferWithTimeOrCount(void 0,t))},C.EventStream.prototype.bufferWithTimeOrCount=function(t,e){var n=function(n){return n.values.length===e?n.flush():void 0!==t?n.schedule():void 0},r=new C.Desc(this,"bufferWithTimeOrCount",[t,e]);return V(r,this.buffer(t,n,n))},C.EventStream.prototype.buffer=function(t){var e=arguments.length<=1||void 0===arguments[1]?I:arguments[1],n=arguments.length<=2||void 0===arguments[2]?I:arguments[2],r={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(C.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var t=this.values;this.values=[];var e=this.push(ut(t));if(null!=this.end)return this.push(this.end);if(e!==C.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var e=this;if(!this.scheduled)return this.scheduled=t(function(){return e.flush()})}},i=C.more;if(!R.isFunction(t)){var o=t;t=function(t){return C.scheduler.setTimeout(t,o)}}return V(new C.Desc(this,"buffer",[]),this.withHandler(function(t){var n=this;return r.push=function(t){return n.push(t)},t.isError()?i=this.push(t):t.isEnd()?(r.end=t,r.scheduled||r.flush()):(r.values.push(t.value()),e(r)),i}))},C.Observable.prototype.filter=function(t){S(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rt(this,t,n,function(t){return V(new C.Desc(this,"filter",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):C.more}))})},C.once=function(t){return new y(new l(C,"once",[t]),function(e){return e(ht(t)),e(ft()),I})},C.EventStream.prototype.concat=function(t){var e=this;return new y(new C.Desc(e,"concat",[t]),function(n){var r=I,i=e.dispatcher.subscribe(function(e){return e.isEnd()?r=t.toEventStream().dispatcher.subscribe(n):n(e)});return function(){return i(),r()}})},C.Property.prototype.concat=function(t){return _t(this,this.changes().concat(t))},C.concatAll=function(){var t=bt(arguments);return t.length?V(new C.Desc(C,"concatAll",t),R.fold(R.tail(t),R.head(t).toEventStream(),function(t,e){return t.concat(e)})):C.never()};var _t=function(t,e){var n=new y(H(t,"justInitValue"),function(e){var r=void 0,i=t.dispatcher.subscribe(function(t){return t.isEnd()||(r=t),C.noMore});return G.whenDoneWith(n,function(){return"undefined"!==typeof r&&null!==r&&e(r),e(ft())}),i});return n.concat(e).toProperty()};C.Observable.prototype.flatMap=function(){return Mt(this,wt(arguments))},C.Observable.prototype.flatMapFirst=function(){return Mt(this,wt(arguments),!0)};var wt=function(t){return 1===t.length&&Q(t[0])?R.always(t[0]):J(t)},xt=function(t){return Q(t)?t:C.once(t)},Mt=function(t,e,n,r){var i=[t],o=[],a=new C.Desc(t,"flatMap"+(n?"First":""),[e]),s=new y(a,function(i){var a=new b,s=[],c=function(t){var n=xt(e(t.value()));return o.push(n),a.add(function(t,e){return n.dispatcher.subscribe(function(r){if(r.isEnd())return R.remove(n,o),l(),u(e),C.noMore;("undefined"!==typeof r&&null!==r?r._isInitial:void 0)&&(r=r.toNext());var a=i(r);return a===C.noMore&&t(),a})})},l=function(){var t=s.shift();if(t)return c(t)},u=function(t){if(t(),a.empty())return i(ft())};return a.add(function(e,o){return t.dispatcher.subscribe(function(t){return t.isEnd()?u(o):t.isError()?i(t):n&&a.count()>1?C.more:a.unsubscribed?C.noMore:r&&a.count()>r?s.push(t):c(t)})}),a.unsubscribe});return s.internalDeps=function(){return o.length?i.concat(o):i},s};C.Observable.prototype.flatMapWithConcurrencyLimit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=new C.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(n));return V(i,Mt(this,wt(n),!1,t))},C.Observable.prototype.flatMapConcat=function(){var t=new C.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return V(t,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(E.call(arguments))))},C.later=function(t,e){return V(new C.Desc(C,"later",[t,e]),C.fromBinder(function(n){var r=function(){return n([e,ft()])},i=C.scheduler.setTimeout(r,t);return function(){return C.scheduler.clearTimeout(i)}}))},C.Observable.prototype.bufferingThrottle=function(t){var e=new C.Desc(this,"bufferingThrottle",[t]);return V(e,this.flatMapConcat(function(e){return C.once(e).concat(C.later(t).filter(!1))}))},C.Property.prototype.bufferingThrottle=function(){return C.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},Y(w,y),U(w.prototype,{unsubAll:function(){for(var t,e=this.subscriptions,n=0;n<e.length;n++)t=e[n],"function"===typeof t.unsub&&t.unsub()},subscribeAll:function(t){if(this.ended)t(ft());else{this.sink=t;for(var e,n=T(this.subscriptions),r=0;r<n.length;r++)e=n[r],this.subscribeInput(e)}return this.unsubAll},guardedSink:function(t){var e=this;return function(n){return n.isEnd()?(e.unsubscribeInput(t),C.noMore):e.sink(n)}},subscribeInput:function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input)),t.unsub},unsubscribeInput:function(t){for(var e,n=this.subscriptions,r=0;r<n.length;r++)if(e=n[r],e.input===t)return"function"===typeof e.unsub&&e.unsub(),void this.subscriptions.splice(r,1)},plug:function(t){var e=this;if(j(t),!this.ended){var n={input:t};return this.subscriptions.push(n),"undefined"!==typeof this.sink&&this.subscribeInput(n),function(){return e.unsubscribeInput(t)}}},end:function(){if(this.ended=!0,this.unsubAll(),"function"===typeof this.sink)return this.sink(ft())},push:function(t){if(!this.ended&&"function"===typeof this.sink){var e=!this.pushing;if(!e)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(t);this.pushing=!0;try{return this.sink(ut(t))}finally{if(e&&this.pushQueue){for(var n=0;n<this.pushQueue.length;){var t=this.pushQueue[n];this.sink(ut(t)),n++}this.pushQueue=null}this.pushing=!1}}},error:function(t){if("function"===typeof this.sink)return this.sink(new A(t))}}),C.Bus=w;var Et=function(t,e){return K(function(n){for(var r=q(e,[function(t,e){return n.apply(void 0,t.concat([e]))}]),i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return V(new C.Desc(C,t,[n].concat(o)),C.combineAsArray(o).flatMap(r))})};C.fromCallback=Et("fromCallback",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return C.fromBinder(function(e){return nt(t,n)(e),I},function(t){return[t,ft()]})}),C.fromNodeCallback=Et("fromNodeCallback",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return C.fromBinder(function(e){return nt(t,n)(e),I},function(t,e){return t?[new A(t),ft()]:[e,ft()]})}),C.combineTemplate=function(t){function e(t){return t[t.length-1]}function n(t,n,r){return e(t)[n]=r,r}function r(t,e){return function(r,i){n(r,t,i[e])}}function i(t,e){return function(r){n(r,t,e)}}function o(t){return L(t)?[]:{}}function a(t,e){return function(r){var i=o(e);n(r,t,i),r.push(i)}}function s(t){if(Q(t))return!0;if(t&&(t.constructor==Object||t.constructor==Array))for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e];if(s(n))return!0}}function c(t,e){if(Q(e))h.push(e),f.push(r(t,h.length-1));else if(s(e)){var n=function(t){t.pop()};f.push(a(t,e)),u(e),f.push(n)}else f.push(i(t,e))}function l(e){for(var n=o(t),r=[n],i=0;i<f.length;i++)(0,f[i])(r,e);return n}function u(t){R.each(t,c)}var f=[],h=[],d=s(t)?(u(t),C.combineAsArray(h).map(l)):C.constant(t);return V(new C.Desc(C,"combineTemplate",[t]),d)},C.Observable.prototype.mapEnd=function(){var t=J(arguments);return V(new C.Desc(this,"mapEnd",[t]),this.withHandler(function(e){return e.isEnd()?(this.push(ut(t(e))),this.push(ft()),C.noMore):this.push(e)}))},C.Observable.prototype.skipErrors=function(){return V(new C.Desc(this,"skipErrors",[]),this.withHandler(function(t){return t.isError()?C.more:this.push(t)}))},C.EventStream.prototype.takeUntil=function(t){var e={};return V(new C.Desc(this,"takeUntil",[t]),C.groupSimultaneous(this.mapEnd(e),t.skipErrors()).withHandler(function(t){if(t.hasValue()){var n=t.value(),r=n[0];if(n[1].length)return this.push(ft());for(var i,o=C.more,a=0;a<r.length;a++)i=r[a],o=i===e?this.push(ft()):this.push(ut(i));return o}return this.push(t)}))},C.Property.prototype.takeUntil=function(t){var e=this.changes().takeUntil(t);return V(new C.Desc(this,"takeUntil",[t]),_t(this,e))},C.Observable.prototype.flatMapLatest=function(){var t=wt(arguments),e=this.toEventStream();return V(new C.Desc(this,"flatMapLatest",[t]),e.flatMap(function(n){return xt(t(n)).takeUntil(e)}))},C.Property.prototype.delayChanges=function(t,e){return V(t,_t(this,e(this.changes())))},C.EventStream.prototype.delayChanges=function(t,e){return V(t,e(this))},C.Observable.prototype.delay=function(t){return this.delayChanges(new C.Desc(this,"delay",[t]),function(e){return e.flatMap(function(e){return C.later(t,e)})})},C.Observable.prototype.debounce=function(t){return this.delayChanges(new C.Desc(this,"debounce",[t]),function(e){return e.flatMapLatest(function(e){return C.later(t,e)})})},C.Observable.prototype.debounceImmediate=function(t){return this.delayChanges(new C.Desc(this,"debounceImmediate",[t]),function(e){return e.flatMapFirst(function(e){return C.once(e).concat(C.later(t).filter(!1))})})},C.Observable.prototype.decode=function(t){return V(new C.Desc(this,"decode",[t]),this.combine(C.combineTemplate(t),function(t,e){return e[t]}))},C.Observable.prototype.scan=function(t,e){var n,r=this;e=it(e);var i=st(t),o=!1,a=function(t){var a=!1,s=I,c=C.more,l=function(){if(!a)return i.forEach(function(e){if(a=o=!0,(c=t(new d(function(){return e})))===C.noMore)return s(),s=I})};return s=r.dispatcher.subscribe(function(n){if(n.hasValue()){if(o&&n.isInitial())return C.more;n.isInitial()||l(),a=o=!0;var r=i.getOrElse(void 0),s=e(r,n.value());return i=new u(s),t(n.apply(function(){return s}))}if(n.isEnd()&&(c=l()),c!==C.noMore)return t(n)}),G.whenDoneWith(n,l),s};return n=new _(new C.Desc(this,"scan",[t,e]),a)},C.Observable.prototype.diff=function(t,e){return e=it(e),V(new C.Desc(this,"diff",[t,e]),this.scan([t],function(t,n){return[n,e(t[0],n)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},C.Observable.prototype.doAction=function(){var t=J(arguments);return V(new C.Desc(this,"doAction",[t]),this.withHandler(function(e){return e.hasValue()&&t(e.value()),this.push(e)}))},C.Observable.prototype.doEnd=function(){var t=J(arguments);return V(new C.Desc(this,"doEnd",[t]),this.withHandler(function(e){return e.isEnd()&&t(),this.push(e)}))},C.Observable.prototype.doError=function(){var t=J(arguments);return V(new C.Desc(this,"doError",[t]),this.withHandler(function(e){return e.isError()&&t(e.error),this.push(e)}))},C.Observable.prototype.doLog=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return V(new C.Desc(this,"doLog",e),this.withHandler(function(t){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log.apply(console,e.concat([t.log()])),this.push(t)}))},C.Observable.prototype.endOnError=function(t){"undefined"!==typeof t&&null!==t||(t=!0);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rt(this,t,n,function(t){return V(new C.Desc(this,"endOnError",[]),this.withHandler(function(e){return e.isError()&&t(e.error)?(this.push(e),this.push(ft())):this.push(e)}))})},g.prototype.errors=function(){return V(new C.Desc(this,"errors",[]),this.filter(function(){return!1}))},C.Observable.prototype.take=function(t){return t<=0?C.never():V(new C.Desc(this,"take",[t]),this.withHandler(function(e){return e.hasValue()?(t--,t>0?this.push(e):(0===t&&this.push(e),this.push(ft()),C.noMore)):this.push(e)}))},C.Observable.prototype.first=function(){return V(new C.Desc(this,"first",[]),this.take(1))},C.Observable.prototype.mapError=function(){var t=J(arguments);return V(new C.Desc(this,"mapError",[t]),this.withHandler(function(e){return e.isError()?this.push(ut(t(e.error))):this.push(e)}))},C.Observable.prototype.flatMapError=function(t){var e=new C.Desc(this,"flatMapError",[t]);return V(e,this.mapError(function(t){return new A(t)}).flatMap(function(e){return e instanceof A?t(e.error):C.once(e)}))},C.EventStream.prototype.flatScan=function(t,e){var n=t;return this.flatMapConcat(function(t){return xt(e(n,t)).doAction(function(t){return n=t})}).toProperty(t)},C.EventStream.prototype.sampledBy=function(t,e){return V(new C.Desc(this,"sampledBy",[t,e]),this.toProperty().sampledBy(t,e))},C.Property.prototype.sampledBy=function(t,e){var n=!1;"undefined"!==typeof e&&null!==e?e=it(e):(n=!0,e=function(t){return t.value()});var r=new a(this,!1,n),i=new a(t,!0,n),o=C.when([r,i],e),s=t._isProperty?o.toProperty():o;return V(new C.Desc(this,"sampledBy",[t,e]),s)},C.Property.prototype.sample=function(t){return V(new C.Desc(this,"sample",[t]),this.sampledBy(C.interval(t,{})))},C.Observable.prototype.map=function(t){if(t&&t._isProperty)return t.sampledBy(this,k);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rt(this,t,n,function(t){return V(new C.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})},C.Observable.prototype.fold=function(t,e){return V(new C.Desc(this,"fold",[t,e]),this.scan(t,e).sampledBy(this.filter(!1).mapEnd().toProperty()))},g.prototype.reduce=g.prototype.fold;var Ct=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],Bt=function(t){for(var e,n=0;n<Ct.length;n++){e=Ct[n];var r=[t[e[0]],t[e[1]]];if(r[0]&&r[1])return r}for(var i=0;i<Ct.length;i++){e=Ct[i];var o=t[e[0]];if(o)return[o,function(){}]}throw new A("No suitable event methods in "+t)};C.fromEventTarget=function(t,e,n){var r=Bt(t),i=r[0],o=r[1],a=new C.Desc(C,"fromEvent",[t,e]);return V(a,C.fromBinder(function(n){return i.call(t,e,n),function(){return o.call(t,e,n)}},n))},C.fromEvent=C.fromEventTarget,C.fromPoll=function(t,e){var n=new C.Desc(C,"fromPoll",[t,e]);return V(n,C.fromBinder(function(e){var n=C.scheduler.setInterval(e,t);return function(){return C.scheduler.clearInterval(n)}},e))},C.fromPromise=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?x:arguments[2];return V(new C.Desc(C,"fromPromise",[t]),C.fromBinder(function(n){var r=t.then(n,function(t){return n(new A(t))});return r&&"function"===typeof r.done&&r.done(),e?function(){if("function"===typeof t.abort)return t.abort()}:function(){}},n))},C.Observable.prototype.groupBy=function(t){var e=arguments.length<=1||void 0===arguments[1]?C._.id:arguments[1],n={},r=this;return r.filter(function(e){return!n[t(e)]}).map(function(i){var o=t(i),a=r.filter(function(e){return t(e)===o}),s=C.once(i).concat(a),c=e(s,i).withHandler(function(t){if(this.push(t),t.isEnd())return delete n[o]});return n[o]=c,c})},C.fromArray=function(t){if(z(t),t.length){var e=0,n=new y(new C.Desc(C,"fromArray",[t]),function(r){function i(){if(c=!0,!s){for(s=!0;c;)if(c=!1,a!==C.noMore&&!o){var l=t[e++];a=r(ht(l)),a!==C.noMore&&(e===t.length?r(ft()):G.afterTransaction(n,i))}return s=!1}}var o=!1,a=C.more,s=!1,c=!1;return i(),function(){return o=!0}});return n}return V(new C.Desc(C,"fromArray",t),C.never())},C.EventStream.prototype.holdWhen=function(t){var e=!1,n=[],r=this,i=!1;return new y(new C.Desc(this,"holdWhen",[t]),function(o){var a=new b,s=!1,c=function(t){if("function"===typeof t&&t(),a.empty()&&s)return o(ft())};return a.add(function(r,a){return t.subscribeInternal(function(t){if(!t.hasValue())return t.isEnd()?c(a):o(t);if(!(e=t.value())){var r=n;return n=[],function(){for(var t,e=[],n=0;n<r.length;n++)t=r[n],e.push(o(ut(t)));return i&&(e.push(o(ft())),a()),e}()}})}),a.add(function(t,a){return r.subscribeInternal(function(t){return e&&t.hasValue()?n.push(t.value()):t.isEnd()&&n.length?(i=!0,c(a)):o(t)})}),s=!0,c(),a.unsubscribe})},C.interval=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return V(new C.Desc(C,"interval",[t,e]),C.fromPoll(t,function(){return ut(e)}))},C.$={},C.$.asEventStream=function(t,e,n){var r=this;return R.isFunction(e)&&(n=e,e=void 0),V(new C.Desc(this.selector||this,"asEventStream",[t]),C.fromBinder(function(n){return r.on(t,e,n),function(){return r.off(t,e,n)}},n))},"undefined"!==typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=C.$.asEventStream),"undefined"!==typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=C.$.asEventStream),C.Observable.prototype.last=function(){var t;return V(new C.Desc(this,"last",[]),this.withHandler(function(e){if(e.isEnd())return t&&this.push(t),this.push(ft()),C.noMore;t=e}))},C.Observable.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.subscribe(function(t){"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,e.concat([t.log()]))}),this},C.EventStream.prototype.merge=function(t){N(t);var e=this;return V(new C.Desc(e,"merge",[t]),C.mergeAll(this,t))},C.mergeAll=function(){var t=bt(arguments);return t.length?new y(new C.Desc(C,"mergeAll",t),function(e){var n=0,r=function(r){return function(i){return r.dispatcher.subscribe(function(r){if(r.isEnd())return n++,n===t.length?e(ft()):C.more;var o=e(r);return o===C.noMore&&i(),o})}},i=R.map(r,t);return new C.CompositeUnsubscribe(i).unsubscribe}):C.never()},C.repeatedly=function(t,e){var n=0;return V(new C.Desc(C,"repeatedly",[t,e]),C.fromPoll(t,function(){return e[n++%e.length]}))},C.repeat=function(t){var e=0;return C.fromBinder(function(n){function r(t){return t.isEnd()?o?i():o=!0:a=n(t)}function i(){var i;for(o=!0;o&&a!==C.noMore;)i=t(e++),o=!1,i?s=i.subscribeInternal(r):n(ft());return o=!0}var o=!1,a=C.more,s=function(){};return i(),function(){return s()}})},C.retry=function(t){if(!R.isFunction(t.source))throw new B("'source' option has to be a function");var e=t.source,n=t.retries||0,r=0,i=t.delay||function(){return 0},o=t.isRetryable||function(){return!0},a=!1,s=null;return V(new C.Desc(C,"retry",[t]),C.repeat(function(t){function c(){return e(t).endOnError().withHandler(function(t){return t.isError()?(s=t,o(s.error)&&(0===n||r<n)?void 0:(a=!0,this.push(t))):(t.hasValue()&&(s=null,a=!0),this.push(t))})}if(a)return null;if(s){var l={error:s.error,retriesDone:r},u=C.later(i(l)).filter(!1);return r++,u.concat(C.once().flatMap(c))}return c()}))},C.sequentially=function(t,e){var n=0;return V(new C.Desc(C,"sequentially",[t,e]),C.fromPoll(t,function(){var t=e[n++];return n<e.length?t:n===e.length?[t,ft()]:ft()}))},C.Observable.prototype.skip=function(t){return V(new C.Desc(this,"skip",[t]),this.withHandler(function(e){return e.hasValue()&&t>0?(t--,C.more):this.push(e)}))},C.EventStream.prototype.skipUntil=function(t){var e=t.take(1).map(!0).toProperty(!1);return V(new C.Desc(this,"skipUntil",[t]),this.filter(e))},C.EventStream.prototype.skipWhile=function(t){S(t);for(var e=!1,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return rt(this,t,r,function(t){return V(new C.Desc(this,"skipWhile",[t]),this.withHandler(function(n){return!e&&n.hasValue()&&t(n.value())?C.more:(n.hasValue()&&(e=!0),this.push(n))}))})},C.Observable.prototype.slidingWindow=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return V(new C.Desc(this,"slidingWindow",[t,e]),this.scan([],function(e,n){return e.concat([n]).slice(-t)}).filter(function(t){return t.length>=e}))};var It=[],pt=function(t){if(It.length&&!pt.running)try{pt.running=!0,It.forEach(function(e){e(t)})}finally{delete pt.running}};C.spy=function(t){return It.push(t)},C.Property.prototype.startWith=function(t){return V(new C.Desc(this,"startWith",[t]),this.scan(t,function(t,e){return e}))},C.EventStream.prototype.startWith=function(t){return V(new C.Desc(this,"startWith",[t]),C.once(t).concat(this))},C.Observable.prototype.takeWhile=function(t){S(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rt(this,t,n,function(t){return V(new C.Desc(this,"takeWhile",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):(this.push(ft()),C.noMore)}))})},C.Observable.prototype.throttle=function(t){return this.delayChanges(new C.Desc(this,"throttle",[t]),function(e){return e.bufferWithTime(t).map(function(t){return t[t.length-1]})})},g.prototype.firstToPromise=function(t){var e=this;if("function"!==typeof t){if("function"!==typeof Promise)throw new B("There isn't default Promise, use shim or parameter");t=Promise}return new t(function(t,n){return e.subscribe(function(e){return e.hasValue()&&t(e.value()),e.isError()&&n(e.error),C.noMore})})},g.prototype.toPromise=function(t){return this.last().firstToPromise(t)},C.try=function(t){return function(e){try{return C.once(t(e))}catch(t){return new C.Error(t)}}},C.update=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=n.length-1;i>0;)n[i]instanceof Function||(n[i]=R.always(n[i])),n[i]=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return t.apply(void 0,[e].concat(n))}}}(n[i]),i-=2;return V(new C.Desc(C,"update",[t].concat(n)),C.when.apply(C,n).scan(t,function(t,e){return e(t)}))},C.zipAsArray=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=bt(e);return V(new C.Desc(C,"zipAsArray",r),C.zipWith(r,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}))},C.zipWith=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=mt(e),i=r[0],o=r[1];return i=R.map(function(t){return t.toEventStream()},i),V(new C.Desc(C,"zipWith",[o].concat(i)),C.when(i,o))},C.Observable.prototype.zip=function(t,e){return V(new C.Desc(this,"zip",[t]),C.zipWith([this,t],e||Array))},M.prototype.subscribe=function(t,e,n){var r="function"===typeof t?{next:t,error:e,complete:n}:t,i={closed:!1,unsubscribe:function(){i.closed=!0,o()}},o=this.observable.subscribe(function(t){t.isError()?(r.error&&r.error(t.error),i.unsubscribe()):t.isEnd()?(i.closed=!0,r.complete&&r.complete()):r.next&&r.next(t.value())});return i},M.prototype[P("observable")]=function(){return this},C.Observable.prototype.toESObservable=function(){return new M(this)},C.Observable.prototype[P("observable")]=C.Observable.prototype.toESObservable,C.fromESObservable=function(t){var e;e=t[P("observable")]?t[P("observable")]():t;var n=new C.Desc(C,"fromESObservable",[e]);return new C.EventStream(n,function(t){var n=e.subscribe({error:function(){t(new C.Error),t(new C.End)},next:function(e){t(new C.Next(e,!0))},complete:function(){t(new C.End)}});return n.unsubscribe?function(){n.unsubscribe()}:n})},null!==n(24)&&null!=n(25)?(i=[],void 0!==(o=function(){return C}.apply(e,i))&&(r.exports=o),"undefined"!==typeof this&&null!==this&&(this.Bacon=C)):null!==r&&null!=r.exports?(r.exports=C,C.Bacon=C):this.Bacon=C}).call(this)}).call(this,n(22),n(23)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(3),c=i(s),l=n(40),u=r(l),f=n(26),h=r(f),d=n(27),p=r(d),A=n(18),g=r(A),b=n(46),m=r(b),y=n(13),v=r(y),_=n(35),w=r(_),x=n(47),M=r(x),E=n(12),C=i(E),B=n(36),I=r(B),k=n(48),T=r(k),D=n(62),S=r(D),N=n(67),j=r(N),O=n(70),L=r(O),Q=n(73),z=r(Q),F=n(74),U=r(F),Y=n(4),P=r(Y),R=n(0);n(77),n(84);var W=n(86),G=r(W),H=function(){function t(e,n,r,i,a){var s=this;o(this,t),i?i instanceof R.selection||(i="node"in i?(0,R.select)(i.node()):(0,R.select)(i)):i=(0,R.select)("body").append("div"),a||(a={}),r||(r=G.default),this.map_data=e,this.model_data=n,this.embeddedCss=r,this.selection=i,this.menu_div=null,this.button_div=null,this.search_bar_div=null,this.searchBarRef=null,this.semanticOptions=null,this.mode="zoom",this.selection.datum(this),this.selection.__builder__=this,this.has_custom_reaction_styles=Boolean(a.reaction_styles);var l=c.set_options(a,{menu:"all",scroll_behavior:"pan",use_3d_transform:!1,enable_editing:!0,enable_keys:!0,enable_search:!0,fill_screen:!1,zoom_to_element:null,full_screen_button:!1,ignore_bootstrap:!1,disabled_buttons:null,semantic_zoom:null,starting_reaction:null,never_ask_before_quit:!1,unique_map_id:null,primary_metabolite_radius:20,secondary_metabolite_radius:10,marker_radius:5,gene_font_size:18,hide_secondary_metabolites:!1,show_gene_reaction_rules:!1,hide_all_labels:!1,canvas_size_and_loc:null,reaction_data:null,reaction_styles:["color","size","text"],reaction_compare_style:"log2_fold",reaction_scale:null,reaction_scale_preset:"GaBuGeRd",reaction_no_data_color:"#dcdcdc",reaction_no_data_size:8,gene_data:null,and_method_in_gene_reaction_rule:"mean",metabolite_data:null,metabolite_styles:["color","size","text"],metabolite_compare_style:"log2_fold",metabolite_scale:null,metabolite_scale_preset:"WhYlRd",metabolite_no_data_color:"#ffffff",metabolite_no_data_size:10,identifiers_on_map:"bigg_id",highlight_missing:!1,allow_building_duplicate_reactions:!1,cofactors:["atp","adp","nad","nadh","nadp","nadph","gtp","gdp","h","coa","ump","h2o","ppi"],tooltip_component:U.default,enable_tooltips:["label"],enable_keys_with_tooltip:!0,first_load_callback:null},{primary_metabolite_radius:!0,secondary_metabolite_radius:!0,marker_radius:!0,gene_font_size:!0,reaction_no_data_size:!0,metabolite_no_data_size:!0});if(c.check_for_parent_tag(this.selection,"svg"))throw new Error("Builder cannot be placed within an svg node because UI elements are html-based.");var u=["identifiers_on_map","scroll_behavior","hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","allow_building_duplicate_reactions","highlight_missing","enable_tooltips","reaction_scale_preset","reaction_no_data_color","reaction_no_data_size","reaction_scale","reaction_styles","reaction_compare_style","and_method_in_gene_reaction_rule","metabolite_scale_preset","metabolite_scale","metabolite_styles","metabolite_compare_style","metabolite_no_data_color","metabolite_no_data_size"];this.settings=new w.default(l,u),this.settings.get("fill_screen")&&this.settings.get("full_screen_button")&&(this.settings.set("full_screen_button",!1),console.warn("The option full_screen_button has no effect when fill_screen is true")),this.isFullScreen=!1,this.settings.get("fill_screen")&&((0,R.select)("html").classed("fill-screen",!0),(0,R.select)("body").classed("fill-screen",!0),this.selection.classed("fill-screen-div",!0),this.isFullScreen=!0),this.savedFullScreenSettings=null,this.savedFullScreenParent=null,this.clearFullScreenEscape=null,this.callback_manager=new v.default;var f=this.settings.get("first_load_callback");null!==f&&this.callback_manager.set("first_load",function(){f(s)}),this.zoom_container=new h.default(this.selection,this.settings.get("scroll_behavior"),this.settings.get("use_3d_transform")),this.zoom_container.callbackManager.set("zoom_change",function(){if(s.settings.get("semantic_zoom")){var t=s.zoom_container.windowScale,e=s.settings.get("semantic_zoom").sort(function(t,e){return t.zoomLevel-e.zoomLevel}).find(function(e){return e.zoomLevel>t});if(e){var n=!1;P.default.mapObject(e.options,function(t,e){s.settings.get(e)!==t&&(s.settings.set(e,t),n=!0)}),n&&s._updateData(!1,!0)}}}),this.settings.streams.use_3d_transform.onValue(function(t){s.zoom_container.setUse3dTransform(t)}),this.settings.streams.scroll_behavior.onValue(function(t){s.zoom_container.setScrollBehavior(t)}),this.settings.streams.enable_tooltips.onValue(function(t){s._updateTooltipSetting(t)}),this.mapToolsContainer=this.selection.append("div").attr("class","map-tools-container"),this._createStatus(this.selection),this.load_model(this.model_data,!1);var d=this.selection.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline");this.menu_div=d.append("div"),this.search_bar_div=d.append("div"),this.button_div=this.selection.append("div"),P.default.delay(function(){s.load_map(s.map_data,!1);var t=s._reactionCheckAddAbs();s._updateData(!0,!0),s.settings.statusBus.onValue(function(t){if("accept"===t){if(s._updateData(!0,!0,["reaction","metabolite"],!1),null!==s.zoom_container){var e=s.settings.get("scroll_behavior");s.zoom_container.setScrollBehavior(e)}null!==s.map&&(s.map.draw_all_nodes(!1),s.map.draw_all_reactions(!0,!1),s.map.select_none())}}),null!==t&&setTimeout(t,500),P.default.defer(function(){return s.callback_manager.run("first_load",s)})},50)}return t.prototype.load_model=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];P.default.isNull(t)?this.cobra_model=null:this.cobra_model=g.default.from_cobra_json(t),this.map&&(this.map.cobra_model=this.cobra_model,e&&this._updateData(!0,!1),this.settings.get("highlight_missing")&&this.map.draw_all_reactions(!1,!1)),this.callback_manager.run("load_model",null,t,e)},t.prototype.load_map=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={};if(this.settings.get("semantic_zoom")){for(var i=this.settings.get("semantic_zoom"),o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var l=s;Object.keys(l.options).map(function(t){void 0===r[t]&&(r[t]=e.settings.get(t))})}this.semanticOptions=Object.assign({},r)}c.remove_child_nodes(this.zoom_container.zoomedSel),c.remove_child_nodes(this.mapToolsContainer);var f=this.zoom_container.zoomedSel,h=this.zoom_container.svg;this.map&&this.map.key_manager.toggle(!1),this.map=null!==t?p.default.from_data(t,h,this.embeddedCss,f,this.zoom_container,this.settings,this.cobra_model,this.settings.get("enable_search")):new p.default(h,this.embeddedCss,f,this.zoom_container,this.settings,this.cobra_model,this.settings.get("canvas_size_and_loc"),this.settings.get("enable_search")),this._setupStatus(this.map),this.map.set_status("Loading map ..."),this._updateTooltipSetting(this.settings.get("enable_tooltips")),n&&this._updateData(!1,!0),this.build_input=new u.default(this.mapToolsContainer,this.map,this.zoom_container,this.settings),this.text_edit_input=new M.default(this.mapToolsContainer,this.map,this.zoom_container),this.brush=new m.default(f,!1,this.map,".canvas-group"),this.map.canvas.callbackManager.set("resize",function(){"brush"===e.mode&&e.brush.toggle(!0)}),this.setUpSettingsMenu(this.mapToolsContainer),this.setUpButtonPanel(this.mapToolsContainer);var d=this.mapToolsContainer.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline");this.setUpMenuBar(d),this.setUpSearchBar(d),this.tooltip_container=new z.default(this.mapToolsContainer,this.settings.get("tooltip_component"),this.zoom_container,this.map,this.settings),this.map.key_manager.assignedKeys=this.getKeys(),this.map.key_manager.inputList=[this.build_input,this.searchBarRef,function(){return e.settingsMenuRef},this.text_edit_input],this.settings.get("enable_keys_with_tooltip")||this.map.key_manager.inputList.push(this.tooltip_container),this.map.key_manager.update(),this.map.key_manager.toggle(this.settings.get("enable_keys")),this.settings.streams.enable_keys.onValue(function(t){e.map.key_manager.toggle(t)});var A=this.settings.get("disabled_buttons")||[];if(this.settings.get("reaction_data")||A.push("Clear reaction data"),this.settings.get("gene_data")||A.push("Clear gene data"),this.settings.get("metabolite_data")||A.push("Clear metabolite data"),this.settings.get("enable_search")||A.push("Find"),this.settings.get("enable_editing")||A.push("Show control points"),this.settings.set("disabled_buttons",A),this.settings.get("zoom_to_element")){var g=this.settings.get("zoom_to_element").type,b=this.settings.get("zoom_to_element").id;if(P.default.isUndefined(g)||-1===["reaction","node"].indexOf(g))throw new Error('zoom_to_element type must be "reaction" or "node"');if(P.default.isUndefined(b))throw new Error("zoom_to_element must include id");"reaction"===g?this.map.zoom_to_reaction(b):"node"===g&&this.map.zoom_to_node(b)}else if(t)this.map.zoom_extent_canvas();else if(this.settings.get("starting_reaction")&&null!==this.cobra_model){var y=this.zoom_container.get_size(),v={x:y.width/2,y:y.height/4};this.map.new_reaction_from_scratch(this.settings.get("starting_reaction"),v,90),this.map.zoom_extent_nodes()}else this.map.zoom_extent_canvas();this.settings.get("enable_editing")?this.zoom_mode():this.view_mode(),this.settings.streams.enable_editing.onValue(function(t){t?e.zoom_mode():e.view_mode()}),this.settings.get("enable_editing")&&this._setupConfirmBeforeExit(),this.map.draw_everything(),this.map.set_status(""),this.callback_manager.run("load_map",null,t,n)},t.prototype.passPropsSettingsMenu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map.callback_manager.run("pass_props_settings_menu",null,t)},t.prototype.setUpSettingsMenu=function(t){var e=this;this.settingsMenuRef=null,(0,I.default)(T.default,function(t){e.settingsMenuRef=t},function(t){return e.map.callback_manager.set("pass_props_settings_menu",t)},t.append("div").node()),this.passPropsSettingsMenu({display:!1,settings:this.settings,map:this.map}),P.default.mapObject(this.settings.streams,function(t,n){t.onValue(function(t){e.passPropsSettingsMenu()})}),this.settings.streams.reaction_styles.map(function(t){return P.default.contains(t,"abs")}).skipDuplicates().onValue(function(){return e._updateData(!1,!0)}),this.settings.streams.metabolite_styles.map(function(t){return P.default.contains(t,"abs")}).skipDuplicates().onValue(function(){return e._updateData(!1,!0)})},t.prototype.passPropsMenuBar=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map.callback_manager.run("pass_props_menu_bar",null,t)},t.prototype.setUpMenuBar=function(t){var e=this;this.menuBarRef=null,(0,I.default)(S.default,function(t){e.menuBarRef=t},function(t){return e.map.callback_manager.set("pass_props_menu_bar",t)},t.append("div").node()),this.passPropsMenuBar({display:"all"===this.settings.get("menu"),settings:this.settings,sel:this.selection,mode:this.mode,map:this.map,saveMap:function(){e.semanticOptions&&(Object.entries(e.semanticOptions).map(function(t){var n=t[0],r=t[1];e.settings.set(n,r)}),e._updateData()),e.map.save()},loadMap:function(t){return e.load_map(t)},assignKeyLoadMap:function(t){e.map.key_manager.assignedKeys.load_map.fn=t},save_svg:function(){return e.map.save_svg()},save_png:function(){return e.map.save_png()},clear_map:function(){e.clear_map()},loadModel:function(t){return e.load_model(t,!0)},assignKeyLoadModel:function(t){e.map.key_manager.assignedKeys.load_model.fn=t},clearModel:function(){e.load_model(null),e.callback_manager.run("clear_model")},updateRules:function(){return e.map.convert_map()},setReactionData:function(t){return e.set_reaction_data(t)},clearReactionData:function(){return e.set_reaction_data(null)},setGeneData:function(t){return e.set_gene_data(t)},clearGeneData:function(){return e.set_gene_data(null,!0)},setMetaboliteData:function(t){return e.set_metabolite_data(t)},clearMetaboliteData:function(t){return e.set_metabolite_data(null)},setMode:function(t){return e._setMode(t)},deleteSelected:function(){return e.map.delete_selected()},undo:function(){return e.map.undo_stack.undo()},redo:function(){return e.map.undo_stack.redo()},align_vertical:function(){return e.map.align_vertical()},align_horizontal:function(){return e.map.align_horizontal()},togglePrimary:function(){return e.map.toggle_selected_node_primary()},cyclePrimary:function(){return e.map.cycle_primary_node()},selectAll:function(){return e.map.select_all()},selectNone:function(){return e.map.select_none()},invertSelection:function(){return e.map.invert_selection()},zoom_in:function(){return e.zoom_container.zoom_in()},zoom_out:function(){return e.zoom_container.zoom_out()},zoomExtentNodes:function(){return e.map.zoom_extent_nodes()},zoomExtentCanvas:function(){return e.map.zoom_extent_canvas()},full_screen:function(){return e.full_screen()},search:function(){return e.passPropsSearchBar({display:!0})},toggleBeziers:function(){return e.map.toggle_beziers()},renderSettingsMenu:function(){return e.passPropsSettingsMenu({display:!0})}}),this.map.callback_manager.set("toggle_beziers",function(){e.passPropsMenuBar()}),this.settings.streams.disabled_buttons.onValue(function(t){e.passPropsMenuBar()}),this.callback_manager.set("set_mode",function(t){e.passPropsMenuBar({mode:t})}),this.settings.streams.menu.onValue(function(t){e.passPropsMenuBar({display:"all"===t})}),this.settings.streams.full_screen_button.onValue(function(t){e.passPropsMenuBar()})},t.prototype.passPropsSearchBar=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map.callback_manager.run("pass_props_search_bar",null,t)},t.prototype.setUpSearchBar=function(t){var e=this;this.searchBarRef=null,(0,I.default)(j.default,function(t){e.searchBarRef=t},function(t){return e.map.callback_manager.set("pass_props_search_bar",t)},t.append("div").node()),this.passPropsSearchBar({display:!1,searchIndex:this.map.search_index,map:this.map})},t.prototype.passPropsButtonPanel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map.callback_manager.run("pass_props_button_panel",null,t)},t.prototype.setUpButtonPanel=function(t){var e=this;(0,I.default)(L.default,null,function(t){return e.map.callback_manager.set("pass_props_button_panel",t)},t.append("div").node()),this.passPropsButtonPanel({display:P.default.contains(["all","zoom"],this.settings.get("menu")),mode:this.mode,settings:this.settings,setMode:function(t){return e._setMode(t)},zoomContainer:this.zoom_container,map:this.map,buildInput:this.build_input,full_screen:function(){return e.full_screen()}}),this.callback_manager.set("set_mode",function(t){e.passPropsButtonPanel({mode:t})}),this.settings.streams.full_screen_button.onValue(function(t){e.passPropsButtonPanel()})},t.prototype._setMode=function(t){this.mode=t,this.build_input.toggle("build"===t),this.build_input.direction_arrow.toggle("build"===t),this.brush.toggle("brush"===t),this.zoom_container.togglePanDrag("zoom"===t||"view"===t),this.map.canvas.toggleResize("view"!==t),"rotate"===t?(this.map.behavior.toggleSelectableDrag(!1),this.map.behavior.toggleRotationMode(!0)):(this.map.behavior.toggleRotationMode("rotate"===t),this.map.behavior.toggleSelectableDrag("brush"===t)),this.map.behavior.toggleSelectableClick("build"===t||"brush"===t),this.map.behavior.toggleLabelDrag("brush"===t),this.map.behavior.toggleTextLabelEdit("text"===t),this.map.behavior.toggleBezierDrag("brush"===t),"view"!==t&&"text"!==t||this.map.select_none(),"rotate"===t&&this.map.deselect_text_labels(),this.map.draw_everything(),this.callback_manager.run("set_mode",null,t)},t.prototype.view_mode=function(){this.callback_manager.run("view_mode"),this._setMode("view")},t.prototype.build_mode=function(){this.callback_manager.run("build_mode"),this._setMode("build")},t.prototype.brush_mode=function(){this.callback_manager.run("brush_mode"),this._setMode("brush")},t.prototype.zoom_mode=function(){this.callback_manager.run("zoom_mode"),this._setMode("zoom")},t.prototype.rotate_mode=function(){this.callback_manager.run("rotate_mode"),this._setMode("rotate")},t.prototype.text_mode=function(){this.callback_manager.run("text_mode"),this._setMode("text")},t.prototype._reactionCheckAddAbs=function(){var t=this,e=this.settings.get("reaction_styles");return!this.settings.get("reaction_data")||this.has_custom_reaction_styles||P.default.contains(e,"abs")?null:(this.settings.set("reaction_styles",e.concat("abs")),function(){t.map.set_status("Visualizing absolute value of reaction data. Change this option in Settings.",5e3)})},t.prototype.set_reaction_data=function(t){this.settings.set("reaction_data",t),t&&(this.settings._options.gene_data=null);var e=this._reactionCheckAddAbs();this._updateData(!0,!0,["reaction"]),e?e():this.map.set_status("");var n=this.settings.get("disabled_buttons")||[],r=n.indexOf("Clear reaction data");if(t&&-1!==r){n.splice(r,1);-1===n.indexOf("Clear gene data")&&n.push("Clear gene data"),this.settings.set("disabled_buttons",n)}else t||-1!==r||(n.push("Clear reaction data"),this.settings.set("disabled_buttons",n))},t.prototype.set_gene_data=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.settings.set("gene_data",t),e&&this.settings.set("show_gene_reaction_rules",!1),t&&(this.settings._options.reaction_data=null,this.settings.set("show_gene_reaction_rules",!0)),this._updateData(!0,!0,["reaction"]),this.map.set_status("");var n=this.settings.get("disabled_buttons")||[],r=n.indexOf("Clear gene data");if(r>-1&&t){n.splice(r,1);-1===n.indexOf("Clear reaction data")&&n.push("Clear reaction data"),this.settings.set("disabled_buttons",n)}else-1!==r||t||(n.push("Clear gene data"),this.settings.set("disabled_buttons",n))},t.prototype.set_metabolite_data=function(t){this.settings.set("metabolite_data",t),this._updateData(!0,!0,["metabolite"]),this.map.set_status("");var e=this.settings.get("disabled_buttons")||[],n=e.indexOf("Clear metabolite data");n>-1&&t?(e.splice(n,1),this.settings.set("disabled_buttons",e)):-1!==n||t||(e.push("Clear metabolite data"),this.settings.set("disabled_buttons",e))},t.prototype._makeGeneDataObject=function(t,e,n){var r={};return null!==e&&c.extend(r,e.reactions),null!==n&&c.extend(r,n.reactions,!0),C.importAndCheck(t,"gene_data",r)},t.prototype.clear_map=function(){this.callback_manager.run("clear_map"),this.map.clearMapData(),this._updateData(!0,!0,["reaction","metabolite"],!1),this.map.draw_everything()},t.prototype._updateData=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["reaction","metabolite"],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=P.default.contains(r,"reaction"),a=P.default.contains(r,"metabolite"),s=void 0,c=void 0,l=void 0;a&&e&&null!==this.map&&(s=C.importAndCheck(this.settings.get("metabolite_data"),"metabolite_data"),this.map.apply_metabolite_data_to_map(s),i&&this.map.draw_all_nodes(!1)),o&&(this.settings.get("reaction_data")&&e&&null!==this.map?(c=C.importAndCheck(this.settings.get("reaction_data"),"reaction_data"),this.map.apply_reaction_data_to_map(c),i&&this.map.draw_all_reactions(!1,!1)):this.settings.get("gene_data")&&e&&null!==this.map?(l=this._makeGeneDataObject(this.settings.get("gene_data"),this.cobra_model,this.map),this.map.apply_gene_data_to_map(l),i&&this.map.draw_all_reactions(!1,!1)):e&&null!==this.map&&(this.map.apply_reaction_data_to_map(null),i&&this.map.draw_all_reactions(!1,!1))),this.update_model_timer&&clearTimeout(this.update_model_timer);this.update_model_timer=setTimeout(function(){a&&t&&null!==n.cobra_model&&(s||(s=C.importAndCheck(n.settings.get("metabolite_data"),"metabolite_data")),n.cobra_model.apply_metabolite_data(s,n.settings.get("metabolite_styles"),n.settings.get("metabolite_compare_style"))),o&&(n.settings.get("reaction_data")&&t&&null!==n.cobra_model?(c||(c=C.importAndCheck(n.settings.get("reaction_data"),"reaction_data")),n.cobra_model.apply_reaction_data(c,n.settings.get("reaction_styles"),n.settings.get("reaction_compare_style"))):n.settings.get("gene_data")&&t&&null!==n.cobra_model?(l||(l=n._makeGeneDataObject(n.settings.get("gene_data"),n.cobra_model,n.map)),n.cobra_model.apply_gene_data(l,n.settings.get("reaction_styles"),n.settings.get("identifiers_on_map"),n.settings.get("reaction_compare_style"),n.settings.get("and_method_in_gene_reaction_rule"))):t&&null!==n.cobra_model&&n.cobra_model.apply_reaction_data(null,n.settings.get("reaction_styles"),n.settings.get("reaction_compare_style"))),n.callback_manager.run("update_data",null,t,e,r,i)},5)},t.prototype._createStatus=function(t){this.status_bar=t.append("div").attr("id","status")},t.prototype._setupStatus=function(t){var e=this;t.callback_manager.set("set_status",function(t){return e.status_bar.html(t)})},t.prototype._updateTooltipSetting=function(t){this.map.behavior.toggleLabelMouseover(t&&t.includes("label")),this.map.behavior.toggleObjectMouseover(t&&t.includes("object"))},t.prototype.getKeys=function(){var t=this,e=this.map,n=this.zoom_container;return{save:{key:"ctrl+s",target:e,fn:e.save},save_svg:{key:"ctrl+shift+s",target:e,fn:e.save_svg},save_png:{key:"ctrl+shift+p",target:e,fn:e.save_png},load_map:{key:"ctrl+o",fn:null},convert_map:{target:e,fn:e.convert_map},load_model:{key:"ctrl+m",fn:null},zoom_in_ctrl:{key:"ctrl+=",target:n,fn:n.zoom_in},zoom_in:{key:"=",target:n,fn:n.zoom_in,ignoreWithInput:!0},zoom_out_ctrl:{key:"ctrl+-",target:n,fn:n.zoom_out},zoom_out:{key:"-",target:n,fn:n.zoom_out,ignoreWithInput:!0},extent_nodes_ctrl:{key:"ctrl+0",target:e,fn:e.zoom_extent_nodes},extent_nodes:{key:"0",target:e,fn:e.zoom_extent_nodes,ignoreWithInput:!0},extent_canvas_ctrl:{key:"ctrl+1",target:e,fn:e.zoom_extent_canvas},extent_canvas:{key:"1",target:e,fn:e.zoom_extent_canvas,ignoreWithInput:!0},view_mode:{target:this,fn:this.view_mode,ignoreWithInput:!0},show_settings_ctrl:{key:"ctrl+,",fn:function(){return t.passPropsSettingsMenu({display:!0})}},show_settings:{key:",",fn:function(){return t.passPropsSettingsMenu({display:!0})},ignoreWithInput:!0},build_mode:{key:"n",target:this,fn:this.build_mode,ignoreWithInput:!0,requires:"enable_editing"},zoom_mode:{key:"z",target:this,fn:this.zoom_mode,ignoreWithInput:!0,requires:"enable_editing"},brush_mode:{key:"v",target:this,fn:this.brush_mode,ignoreWithInput:!0,requires:"enable_editing"},rotate_mode:{key:"r",target:this,fn:this.rotate_mode,ignoreWithInput:!0,requires:"enable_editing"},text_mode:{key:"t",target:this,fn:this.text_mode,ignoreWithInput:!0,requires:"enable_editing"},toggle_beziers:{key:"b",target:e,fn:e.toggle_beziers,ignoreWithInput:!0,requires:"enable_editing"},delete_ctrl:{key:"ctrl+backspace",target:e,fn:e.delete_selected,ignoreWithInput:!0,requires:"enable_editing"},delete:{key:"backspace",target:e,fn:e.delete_selected,ignoreWithInput:!0,requires:"enable_editing"},delete_del:{key:"del",target:e,fn:e.delete_selected,ignoreWithInput:!0,requires:"enable_editing"},align_vertical:{key:"alt+l",target:e,fn:e.align_vertical},align_horizontal:{key:"shift+alt+l",target:e,fn:e.align_horizontal},toggle_primary:{key:"p",target:e,fn:e.toggle_selected_node_primary,ignoreWithInput:!0,requires:"enable_editing"},cycle_primary:{key:"c",target:e,fn:e.cycle_primary_node,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_right:{key:"right",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.right,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_down:{key:"down",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.down,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_left:{key:"left",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.left,ignoreWithInput:!0,requires:"enable_editing"},direction_arrow_up:{key:"up",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.up,ignoreWithInput:!0,requires:"enable_editing"},undo:{key:"ctrl+z",target:e.undo_stack,fn:e.undo_stack.undo,requires:"enable_editing"},redo:{key:"ctrl+shift+z",target:e.undo_stack,fn:e.undo_stack.redo,requires:"enable_editing"},select_all:{key:"ctrl+a",target:e,fn:e.select_all,ignoreWithInput:!0,requires:"enable_editing"},select_none:{key:"ctrl+shift+a",target:e,fn:e.select_none,ignoreWithInput:!0,requires:"enable_editing"},invert_selection:{target:e,fn:e.invert_selection,requires:"enable_editing"},search_ctrl:{key:"ctrl+f",fn:function(){return t.passPropsSearchBar({display:!0})},requires:"enable_search"},search:{key:"f",fn:function(){return t.passPropsSearchBar({display:!0})},ignoreWithInput:!0,requires:"enable_search"}}},t.prototype._setupConfirmBeforeExit=function(){var t=this;window.onbeforeunload=function(e){return t.settings.get("never_ask_before_quit")?null:"You will lose any unsaved changes."}},t.prototype.full_screen=function(){var t=this,e=["menu","scroll_behavior","enable_editing","enable_keys","enable_tooltips"];if(this.isFullScreen){if((0,R.select)("html").classed("fill-screen",!1),(0,R.select)("body").classed("fill-screen",!1),this.selection.classed("fill-screen-div",!1),this.isFullScreen=!1,this.clearFullScreenEscape&&(this.clearFullScreenEscape(),this.clearFullScreenEscape=null),this.savedFullScreenParent){var n=this.savedFullScreenParent.node();n.insertBefore(this.selection.remove().node(),n.firstChild),this.savedFullScreenParent=null}null!==this.savedFullScreenSettings&&P.default.mapObject(this.savedFullScreenSettings,function(e,n){t.settings.set(n,e)}),this.savedFullScreenSettings=null}else{var r=this.settings.get("full_screen_button");P.default.isObject(r)&&(this.savedFullScreenSettings=P.default.chain(r).pairs().map(function(n){var r=n[0],i=n[1];if(P.default.contains(e,r)){var o=t.settings.get(r);return t.settings.set(r,i),[r,o]}return console.warn(r+" not recognized as an option for full_screen_button"),[null,null]}).filter(function(t){var e=t[0];t[1];return e}).object().value()),(0,R.select)("html").classed("fill-screen",!0),(0,R.select)("body").classed("fill-screen",!0),this.selection.classed("fill-screen-div",!0),this.isFullScreen=!0,this.savedFullScreenParent=(0,R.select)(this.selection.node().parentNode);var i=(0,R.select)("body").node();i.insertBefore(this.selection.remove().node(),i.firstChild),this.clearFullScreenEscape=this.map.key_manager.addEscapeListener(function(){return t.full_screen()})}this.map.zoom_extent_canvas(),this.passPropsButtonPanel({isFullScreen:this.isFullScreen}),this.passPropsMenuBar({isFullScreen:this.isFullScreen})},a(t,[{key:"options",get:function(){throw new Error("builder.options is deprecated. Use builder.settings.get() and builder.settings.set() instead.")},set:function(t){throw new Error("builder.options is deprecated. Use builder.settings.get() and builder.settings.set() instead.")}}]),t}();e.default=c.class_with_optional_new(H)},function(t,e){function n(t){var e="    ";if(isNaN(parseInt(t)))e=t;else switch(t){case 1:e=" ";break;case 2:e="  ";break;case 3:e="   ";break;case 4:e="    ";break;case 5:e="     ";break;case 6:e="      ";break;case 7:e="       ";break;case 8:e="        ";break;case 9:e="         ";break;case 10:e="          ";break;case 11:e="           ";break;case 12:e="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+e);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(t,e){return e-(t.replace(/\(/g,"").length-t.replace(/\)/g,"").length)}function o(t,e){return t.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+e+e+"AND ").replace(/ BETWEEN /gi,"~::~"+e+"BETWEEN ").replace(/ CASE /gi,"~::~"+e+"CASE ").replace(/ ELSE /gi,"~::~"+e+"ELSE ").replace(/ END /gi,"~::~"+e+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+e+"ON ").replace(/ OR /gi,"~::~"+e+e+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+e+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+e).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+e+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(t,e){var r=t.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",c=0,l=e?n(e):this.shift;for(c=0;c<i;c++)r[c].search(/<!/)>-1?(s+=l[a]+r[c],o=!0,(r[c].search(/-->/)>-1||r[c].search(/\]>/)>-1||r[c].search(/!DOCTYPE/)>-1)&&(o=!1)):r[c].search(/-->/)>-1||r[c].search(/\]>/)>-1?(s+=r[c],o=!1):/^<\w/.exec(r[c-1])&&/^<\/\w/.exec(r[c])&&/^<[\w:\-\.\,]+/.exec(r[c-1])==/^<\/[\w:\-\.\,]+/.exec(r[c])[0].replace("/","")?(s+=r[c],o||a--):r[c].search(/<\w/)>-1&&-1==r[c].search(/<\//)&&-1==r[c].search(/\/>/)?s=s+=o?r[c]:l[a++]+r[c]:r[c].search(/<\w/)>-1&&r[c].search(/<\//)>-1?s=s+=o?r[c]:l[a]+r[c]:r[c].search(/<\//)>-1?s=s+=o?r[c]:l[--a]+r[c]:r[c].search(/\/>/)>-1?s=s+=o?r[c]:l[a]+r[c]:r[c].search(/<\?/)>-1?s+=l[a]+r[c]:r[c].search(/xmlns\:/)>-1||r[c].search(/xmlns\=/)>-1?s+=l[a]+r[c]:s+=r[c];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(t,e){var e=e||this.step;return"undefined"===typeof JSON?t:"string"===typeof t?JSON.stringify(JSON.parse(t),null,e):"object"===typeof t?JSON.stringify(t,null,e):t},r.prototype.css=function(t,e){var r=t.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,c=e?n(e):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=c[o++]+r[s]:/\}/.exec(r[s])?a+=c[--o]+r[s]:(/\*\\/.exec(r[s]),a+=c[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(t,e){var r=t.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],c=0,l=this.step,u=0,f="",h=0,d=e?n(e):this.shift;for(h=0;h<a;h++)s=h%2?s.concat(r[h]):s.concat(o(r[h],l));for(a=s.length,h=0;h<a;h++){u=i(s[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[h])&&(s[h]=s[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[h])?(c++,f+=d[c]+s[h]):/\'/.exec(s[h])?(u<1&&c&&c--,f+=s[h]):(f+=d[c]+s[h],u<1&&c&&c--)}return f=f.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(t,e){return(e?t:t.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(t){return"undefined"===typeof JSON?t:JSON.stringify(JSON.parse(t),null,0)},r.prototype.cssmin=function(t,e){return(e?t:t.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(t){return t.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},t.exports=new r},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(3),a=r(o),s=n(13),c=r(s),l=n(4),u=r(l),f=n(0),h=n(91),d=function(){function t(e,n,r){i(this,t),e.classed("escher-container",!0),navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Mozilla")&&e.on("touchstart touchmove",function(){f.event.stopPropagation()});var o=e.append("div").attr("class","escher-zoom-container"),a=o.append("div").attr("class","escher-3d-transform-container"),s=a.append("svg").attr("class","escher-svg").attr("xmlns","http://www.w3.org/2000/svg");s.select(".zoom-g").remove();var l=s.append("g").attr("class","zoom-g");this.selection=e,this.container=o,this.css3TransformContainer=a,this.svg=s,this.zoomedSel=l,this.windowTranslate={x:0,y:0},this.windowScale=1,this._scrollBehavior=n,this._use3dTransform=r,this._panDragOn=!0,this._zoomBehavior=null,this._zoomTimeout=null,this._svgScale=this.windowScale,this._svgTranslate=this.windowTranslate,this._3dTransform=null,this._requestedFrame=!1,this.callbackManager=new c.default,this._updateScroll()}return t.prototype.setScrollBehavior=function(t){this._scrollBehavior=t,this._updateScroll()},t.prototype.setUse3dTransform=function(t){this._use3dTransform=t},t.prototype.togglePanDrag=function(t){u.default.isUndefined(t)?this._panDragOn=!this._panDragOn:this._panDragOn=t,this._panDragOn?this.zoomedSel.style("cursor","grab"):"grab"===this.zoomedSel.style("cursor")&&this.zoomedSel.style("cursor",null),this._updateScroll()},t.prototype._updateScroll=function(){var t=this;if(!u.default.contains(["zoom","pan","none"],this._scrollBehavior))throw Error("Bad value for scroll_behavior: "+this._scrollBehavior);if(this.container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null).on("dblclick.zoom",null).on("mousewheel.escher",null).on("DOMMouseScroll.escher",null).on("wheel.escher",null).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._zoomBehavior=(0,h.zoom)().on("start",function(){null!==f.event.sourceEvent&&(f.event.sourceEvent.stopPropagation(),f.event.sourceEvent.preventDefault())}).on("zoom",function(){t._goToCallback(f.event.transform.k,{x:f.event.transform.x,y:f.event.transform.y})}),this.container.call(this._zoomBehavior),this.container.on("dblclick.zoom",null),this._panDragOn||this.container.on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),"zoom"!==this._scrollBehavior&&this.container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null),"pan"===this._scrollBehavior){var e=function(){var e=f.event;e.stopPropagation(),e.preventDefault(),e.returnValue=!1;var n=function(t,e){return.5*(u.default.isUndefined(t)?e:-t/1.5)},r={x:t.windowTranslate.x-n(e.wheelDeltaX,e.deltaX),y:t.windowTranslate.y-n(e.wheelDeltaY,e.deltaY)};t.goTo(t.windowScale,r)};this.container.on("mousewheel.escher",e),this.container.on("DOMMouseScroll.escher",e),this.container.on("wheel.escher",e)}this.goTo(this.windowScale,this.windowTranslate)},t.prototype.goTo=function(t,e){if(!t)return void console.error("Bad scale value");if(!e||!("x"in e)||!("y"in e)||u.default.isNaN(e.x)||u.default.isNaN(e.y))return void console.error("Bad translate value");var n=h.zoomIdentity.translate(e.x,e.y).scale(t);this.container.call(this._zoomBehavior.transform,n)},t.prototype._goToCallback=function(t,e){var n=this;this.windowScale!==t&&(this.windowScale=t,this.callbackManager.run("zoom_change")),this.windowTranslate=e,this._use3dTransform?(u.default.isNull(this._zoomTimeout)||clearTimeout(this._zoomTimeout),this._goTo3d(t,e,this._svgScale,this._svgTranslate),this._zoomTimeout=u.default.delay(function(){n._requestedFrame=!1,n._goToSvg(t,e)},100)):this._goToSvg(t,e),this.callbackManager.run("go_to")},t.prototype._goTo3dFrame=function(){var t=this;this._requestedFrame||(this._requestedFrame=!0,window.requestAnimationFrame(function(){t._requestedFrame=!1;var e=t._3dTransform;e?(t.css3TransformContainer.style("transform",e),t.css3TransformContainer.style("-webkit-transform",e),t.css3TransformContainer.style("transform-origin","0 0"),t.css3TransformContainer.style("-webkit-transform-origin","0 0")):console.warn("No _3dTransform defined")}))},t.prototype._goTo3d=function(t,e,n,r){var i=t/n,o=a.default.c_minus_c(e,a.default.c_times_scalar(r,i)),s="translate("+o.x+"px,"+o.y+"px) scale("+i+")";this._3dTransform=s,this._goTo3dFrame()},t.prototype._clear3d=function(){this._3dTransform&&(this._3dTransform=null,this.css3TransformContainer.style("transform",null),this.css3TransformContainer.style("-webkit-transform",null),this.css3TransformContainer.style("transform-origin",null),this.css3TransformContainer.style("-webkit-transform-origin",null))},t.prototype._goToSvgFrame=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._requestedFrame&&!e||(this._requestedFrame=!0,window.requestAnimationFrame(function(){t._requestedFrame=!1,t._clear3d();var n=t._svgScale,r=t._svgTranslate;t.zoomedSel.attr("transform","translate("+r.x+","+r.y+") scale("+n+")"),e&&e()}))},t.prototype._goToSvg=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._svgScale=t,this._svgTranslate=e,this._goToSvgFrame(n)},t.prototype.zoomBy=function(t){var e=this.get_size(),n={x:e.width/2-((e.width/2-this.windowTranslate.x)*t+this.windowTranslate.x),y:e.height/2-((e.height/2-this.windowTranslate.y)*t+this.windowTranslate.y)};this.goTo(this.windowScale*t,a.default.c_plus_c(this.windowTranslate,n))},t.prototype.zoom_in=function(){this.zoomBy(1.5)},t.prototype.zoom_out=function(){this.zoomBy(.667)},t.prototype.get_size=function(){var t=this.selection.node().getBoundingClientRect();return{width:t.width,height:t.height}},t.prototype.translateOffScreen=function(t){var e=this.get_size(),n={x:{min:-this.windowTranslate.x/this.windowScale+120/this.windowScale,max:-this.windowTranslate.x/this.windowScale+(e.width-120)/this.windowScale},y:{min:-this.windowTranslate.y/this.windowScale+120/this.windowScale,max:-this.windowTranslate.y/this.windowScale+(e.height-120)/this.windowScale}};t.x<n.x.min?(this.windowTranslate.x=this.windowTranslate.x-(t.x-n.x.min)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate)):t.x>n.x.max&&(this.windowTranslate.x=this.windowTranslate.x-(t.x-n.x.max)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate)),t.y<n.y.min?(this.windowTranslate.y=this.windowTranslate.y-(t.y-n.y.min)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate)):t.y>n.y.max&&(this.windowTranslate.y=this.windowTranslate.y-(t.y-n.y.max)*this.windowScale,this.goTo(this.windowScale,this.windowTranslate))},t}();e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return function(e){return t.apply(null,e)}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(3),l=i(c),u=n(43),f=r(u),h=n(28),d=r(h),p=n(44),A=r(p),g=n(29),b=i(g),m=n(31),y=r(m),v=n(13),_=r(v),w=n(32),x=r(w),M=n(45),E=r(M),C=n(12),B=i(C),I=n(34),k=r(I),T=n(19),D=(r(T),n(4)),S=r(D),N=n(0),j=function(){function t(e,n,r,i,a,s,c,u,h,p,g){if(o(this,t),null===c){var b=i.get_size();c={x:-b.width,y:-b.height,width:3*b.width,height:3*b.height}}h=S.default.isUndefined(h)||null===h||""===h?"new_map":String(h),p=S.default.isUndefined(p)||null===p||""===p?l.generate_map_id():String(p),g=S.default.isUndefined(g)||null===g?"":String(g),this.callback_manager=new _.default,this.svg=e,this.defs=l.setup_defs(e,n),this.canvas=new E.default(r,c),this.setup_containers(r),this.sel=r,this.zoomContainer=i,this.settings=a,this.cobra_model=s,this.largest_ids={reactions:-1,nodes:-1,segments:-1,text_labels:-1},this.undo_stack=new y.default,this.behavior=new d.default(this,this.undo_stack),this.draw=new f.default(this.behavior,this.settings,this),this.key_manager=new x.default,this.key_manager.settings=a,this.key_manager.ctrlEqualsCmd=!0,this.enable_search=u,this.search_index=new k.default,this.map_name=h,this.map_id=p,this.map_description=g;this.beziers_enabled=!1,this.has_data_on_reactions=!1,this.has_data_on_nodes=!1,this.imported_reaction_data=null,this.imported_metabolite_data=null,this.imported_gene_data=null,this.nodes={},this.reactions={},this.beziers={},this.text_labels={},this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.scale=new A.default,this.scale.connectToSettings(this.settings,this,this.get_data_statistics.bind(this)),this.rotation_on=!1}return t.from_data=function(e,n,r,i,o,a,s,c){function u(t,e){return S.default.isUndefined(e)&&(e=0),S.default.isUndefined(t)?e:Math.max.apply(null,Object.keys(t).map(function(t){return parseInt(t)}).concat([e]))}var f=e[1].canvas,h=e[0].map_name,d=e[0].map_id,p=e[0].map_description.replace(/(\nLast Modified.*)+$/g,"")+"\nLast Modified "+Date(Date.now()).toString(),A=new t(n,r,i,o,a,s,f,c,h,d,p);A.reactions=e[1].reactions,A.nodes=e[1].nodes,A.text_labels=e[1].text_labels;for(var g in A.nodes){var m=A.nodes[g];if(m.connected_segments=[],c){if("metabolite"!==m.node_type)continue;A.search_index.insert("n"+g,{name:m.bigg_id,data:{type:"metabolite",node_id:g}}),A.search_index.insert("n_name"+g,{name:m.name,data:{type:"metabolite",node_id:g}})}}for(var y in A.reactions){var v=A.reactions[y];if(c){A.search_index.insert("r"+y,{name:v.bigg_id,data:{type:"reaction",reaction_id:y}}),A.search_index.insert("r_name"+y,{name:v.name,data:{type:"reaction",reaction_id:y}});for(var _ in v.genes){var w=v.genes[_];A.search_index.insert("r"+y+"_g"+_,{name:w.bigg_id,data:{type:"reaction",reaction_id:y}}),A.search_index.insert("r"+y+"_g_name"+_,{name:w.name,data:{type:"reaction",reaction_id:y}})}}var x=[];for(var M in v.segments){var E,C,B,I;(function(){if(E=v.segments[M],E.reversibility=v.reversibility,!(E.from_node_id in A.nodes)||!(E.to_node_id in A.nodes))return console.warn("Bad node references in segment "+M+". Deleting segment."),x.push(M),"continue";var t=A.nodes[E.from_node_id],e=A.nodes[E.to_node_id];v.metabolites.forEach(function(n){n.bigg_id===t.bigg_id?E.from_node_coefficient=n.coefficient:n.bigg_id===e.bigg_id&&(E.to_node_coefficient=n.coefficient)}),[t,e].forEach(function(t){t.connected_segments.push({segment_id:M,reaction_id:y})}),C=A.nodes[E.from_node_id],B=A.nodes[E.to_node_id],"metabolite"!=C.node_type&&"metabolite"!=B.node_type||(I=l.c_plus_c(C,l.c_times_scalar(l.c_minus_c(B,C),.5)),null===E.b1&&(E.b1=I),null===E.b2&&(E.b2=I))})()}x.forEach(function(t){delete v.segments[t]})}if(c)for(var k in A.text_labels){var T=A.text_labels[k];A.search_index.insert("l"+k,{name:T.text,data:{type:"text_label",text_label_id:k}})}A.beziers=b.newBeziersForReactions(A.reactions),A.largest_ids.reactions=u(A.reactions),A.largest_ids.nodes=u(A.nodes),A.largest_ids.text_labels=u(A.text_labels);var D=0;for(var N in A.reactions)D=u(A.reactions[N].segments,D);return A.largest_ids.segments=D,A.apply_reaction_data_to_map(null),A.apply_metabolite_data_to_map(null),A.apply_gene_data_to_map(null),A},t.prototype.setup_containers=function(t){t.append("g").attr("id","reactions"),t.append("g").attr("id","nodes"),t.append("g").attr("id","beziers"),t.append("g").attr("id","text-labels")},t.prototype.reset_containers=function(){this.sel.select("#reactions").selectAll(".reaction").remove(),this.sel.select("#nodes").selectAll(".node").remove(),this.sel.select("#beziers").selectAll(".bezier").remove(),this.sel.select("#text-labels").selectAll(".text-label").remove()},t.prototype.set_status=function(t,e){this.callback_manager.run("set_status",null,t),clearTimeout(this._status_timer),this._status_timer=null,void 0!==e&&(this._status_timer=setTimeout(function(){this.callback_manager.run("set_status",null,"")}.bind(this),e))},t.prototype.clearMapData=function(){this.reactions={},this.beziers={},this.nodes={},this.text_labels={},this.map_name="new_map",this.map_id=l.generate_map_id(),this.map_description=""},t.prototype.has_cobra_model=function(){return null!==this.cobra_model},t.prototype.draw_everything=function(){this.draw_all_reactions(!0,!0),this.draw_all_nodes(!0),this.draw_all_text_labels()},t.prototype.draw_all_reactions=function(t,e){S.default.isUndefined(t)&&(t=!0),S.default.isUndefined(e)&&(e=!0);var n=[];for(var r in this.reactions)n.push(r);this.draw_these_reactions(n,!1),t&&this.beziers_enabled&&this.draw_all_beziers(),e&&this.clear_deleted_reactions(t)},t.prototype.draw_these_reactions=function(t,e){S.default.isUndefined(e)&&(e=!0);var n=l.object_slice_for_ids_ref(this.reactions,t),r=function(t){return this.draw.update_reaction(t,this.scale,this.cobra_model,this.nodes,this.defs,this.has_data_on_reactions)}.bind(this);if(l.draw_an_object(this.sel,"#reactions",".reaction",n,"reaction_id",this.draw.create_reaction.bind(this.draw),r),e){var i=b.bezierIdsForReactionIds(n);this.draw_these_beziers(i)}},t.prototype.clear_deleted_reactions=function(t){S.default.isUndefined(t)&&(t=!0),l.draw_an_object(this.sel,"#reactions",".reaction",this.reactions,"reaction_id",null,function(t){l.draw_a_nested_object(t,".segment-group","segments","segment_id",null,null,function(t){t.remove()})},function(t){t.remove()}),!0===t&&this.clear_deleted_beziers()},t.prototype.draw_all_nodes=function(t){void 0===t&&(t=!0);var e=[];for(var n in this.nodes)e.push(n);this.draw_these_nodes(e),t&&this.clear_deleted_nodes()},t.prototype.draw_these_nodes=function(t){var e=l.object_slice_for_ids_ref(this.nodes,t),n=function(t){return this.draw.create_node(t,this.nodes,this.reactions)}.bind(this),r=function(t){return this.draw.update_node(t,this.scale,this.has_data_on_nodes,this.behavior.selectableMousedown,this.behavior.selectableClick,this.behavior.nodeMouseover,this.behavior.nodeMouseout,this.behavior.selectableDrag,this.behavior.nodeLabelDrag)}.bind(this);l.draw_an_object(this.sel,"#nodes",".node",e,"node_id",n,r)},t.prototype.clear_deleted_nodes=function(){l.draw_an_object(this.sel,"#nodes",".node",this.nodes,"node_id",null,null,function(t){t.remove()})},t.prototype.draw_all_text_labels=function(){this.draw_these_text_labels(Object.keys(this.text_labels)),this.clear_deleted_text_labels()},t.prototype.draw_these_text_labels=function(t){var e=l.object_slice_for_ids_ref(this.text_labels,t);l.draw_an_object(this.sel,"#text-labels",".text-label",e,"text_label_id",this.draw.create_text_label.bind(this.draw),this.draw.update_text_label.bind(this.draw))},t.prototype.clear_deleted_text_labels=function(){l.draw_an_object(this.sel,"#text-labels",".text-label",this.text_labels,"text_label_id",null,null,function(t){t.remove()})},t.prototype.draw_all_beziers=function(){var t=[];for(var e in this.beziers)t.push(e);this.draw_these_beziers(t),this.clear_deleted_beziers()},t.prototype.draw_these_beziers=function(t){var e=l.object_slice_for_ids_ref(this.beziers,t),n=function(t){return this.draw.update_bezier(t,this.beziers_enabled,this.behavior.bezierDrag,this.behavior.bezierMouseover,this.behavior.bezierMouseout,this.nodes,this.reactions)}.bind(this);l.draw_an_object(this.sel,"#beziers",".bezier",e,"bezier_id",this.draw.create_bezier.bind(this.draw),n)},t.prototype.clear_deleted_beziers=function(){l.draw_an_object(this.sel,"#beziers",".bezier",this.beziers,"bezier_id",null,null,function(t){t.remove()})},t.prototype.show_beziers=function(){this.toggle_beziers(!0)},t.prototype.hide_beziers=function(){this.toggle_beziers(!1)},t.prototype.toggle_beziers=function(t){S.default.isUndefined(t)?this.beziers_enabled=!this.beziers_enabled:this.beziers_enabled=t,this.draw_all_beziers(),this.callback_manager.run("toggle_beziers",null,this.beziers_enabled)},t.prototype.apply_reaction_data_to_map=function(t,e){var n=this.settings.get("reaction_styles"),r=this.settings.get("reaction_compare_style"),i=B.apply_reaction_data_to_reactions(this.reactions,t,n,r,e);return this.has_data_on_reactions=i,this.imported_reaction_data=i?t:null,this.calc_data_stats("reaction")},t.prototype.apply_metabolite_data_to_map=function(t,e){var n=this.settings.get("metabolite_styles"),r=this.settings.get("metabolite_compare_style"),i=B.apply_metabolite_data_to_nodes(this.nodes,t,n,r,e);return this.has_data_on_nodes=i,this.imported_metabolite_data=i?t:null,this.calc_data_stats("metabolite")},t.prototype.apply_gene_data_to_map=function(t,e){var n=this.settings.get("reaction_styles"),r=this.settings.get("reaction_compare_style"),i=this.settings.get("identifiers_on_map"),o=this.settings.get("and_method_in_gene_reaction_rule"),a=B.apply_gene_data_to_reactions(this.reactions,t,n,i,r,o,e);return this.has_data_on_reactions=a,this.imported_gene_data=a?t:null,this.calc_data_stats("reaction")},t.prototype.get_data_statistics=function(){return this.data_statistics},t.prototype.calc_data_stats=function(t){if(-1===["reaction","metabolite"].indexOf(t))throw new Error("Bad type "+t);"data_statistics"in this?t in this.data_statistics||(this.data_statistics[t]=null):(this.data_statistics={},this.data_statistics[t]=null);var e=[];if("metabolite"===t)for(var n in this.nodes){var r=this.nodes[n];S.default.isUndefined(r.data)?console.error("metabolite missing "):null!==r.data&&e.push(r.data)}else if("reaction"==t)for(var i in this.reactions){var o=this.reactions[i];S.default.isUndefined(o.data)?console.error("reaction data missing "):null!==o.data&&e.push(o.data)}if(0===e.length){var s=null===this.data_statistics[t];return this.data_statistics[t]=null,"reaction"===t?this.callback_manager.run("calc_data_stats__reaction",null,!s):this.callback_manager.run("calc_data_stats__metabolite",null,!s),!s}null===this.data_statistics[t]&&(this.data_statistics[t]={});var c=!0,u=l.quartiles(e);if([["min",a(Math.min)],["max",a(Math.max)],["mean",l.mean],["Q1",function(){return u[0]}],["median",function(){return u[1]}],["Q3",function(){return u[2]}]].forEach(function(n){var r,i=n[0];r=0===e.length?null:(0,n[1])(e),r!=this.data_statistics[t][i]&&(c=!1),this.data_statistics[t][i]=r}.bind(this)),this.data_statistics[t].min===this.data_statistics[t].max&&null!==this.data_statistics[t].min){var f=this.data_statistics[t].min,h=this.data_statistics[t].max;this.data_statistics[t].min=f-1-.1*Math.abs(f),this.data_statistics[t].max=h+1+.1*Math.abs(h)}return"reaction"===t?this.callback_manager.run("calc_data_stats__reaction",null,!c):this.callback_manager.run("calc_data_stats__metabolite",null,!c),!c},t.prototype.get_coords_for_node=function(t){var e=this.nodes[t];return{x:e.x,y:e.y}},t.prototype.get_selected_node_ids=function(){var t=[];return this.sel.select("#nodes").selectAll(".selected").each(function(e){t.push(e.node_id)}),t},t.prototype.getSelectedNodes=function(){var t={};return this.sel.select("#nodes").selectAll(".selected").each(function(e){t[e.node_id]=this.nodes[e.node_id]}.bind(this)),t},t.prototype.get_selected_text_label_ids=function(){var t=[];return this.sel.select("#text-labels").selectAll(".selected").each(function(e){t.push(e.text_label_id)}),t},t.prototype.get_selected_text_labels=function(){var t={};return this.sel.select("#text-labels").selectAll(".selected").each(function(e){t[e.text_label_id]=this.text_labels[e.text_label_id]}.bind(this)),t},t.prototype.select_all=function(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",!0)},t.prototype.select_none=function(){this.sel.selectAll(".selected").classed("selected",!1)},t.prototype.invert_selection=function(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",function(){return!(0,N.select)(this).classed("selected")})},t.prototype.select_metabolite_with_id=function(t){this.deselect_text_labels();var e,n,r=this.sel.select("#nodes").selectAll(".node");r.classed("selected",function(r){var i=String(r.node_id)==String(t);return i&&(n=r,e={x:r.x,y:r.y}),i}),this.sel.selectAll(".start-reaction-target").style("visibility","hidden"),this.callback_manager.run("select_metabolite_with_id",null,n,e)},t.prototype.select_selectable=function(t,e,n){n=!S.default.isUndefined(n)&&n;var r,i=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");r=-1==(0,N.select)(t).attr("class").indexOf("text-label")?t.parentNode:t,n?(0,N.select)(r).classed("selected",!(0,N.select)(r).classed("selected")):(i.classed("selected",!1),(0,N.select)(r).classed("selected",!0));var o,a,s=this.sel.select("#nodes").selectAll(".selected"),c=0;s.each(function(t){a=t,o={x:t.x,y:t.y},c++}),this.callback_manager.run("select_selectable",null,c,a,o)},t.prototype.select_single_node=function(){var t=null;return this.sel.select("#nodes").selectAll(".selected").classed("selected",function(e,n){return 0===n&&(t=e,!0)}),t},t.prototype.deselect_nodes=function(){this.sel.select("#nodes").selectAll(".node").classed("selected",!1),this.callback_manager.run("deselect_nodes")},t.prototype.select_text_label=function(t,e){this.deselect_nodes(),this.sel.select("#text-labels").selectAll(".text-label").classed("selected",function(t){return e===t});var n,r=this.sel.select("#text-labels").selectAll(".selected");r.each(function(t){n={x:t.x,y:t.y}}),this.callback_manager.run("select_text_label")},t.prototype.deselect_text_labels=function(){this.sel.select("#text-labels").selectAll(".text-label").classed("selected",!1)},t.prototype.align_vertical=function(){return this._align(!1)},t.prototype.align_horizontal=function(){return this._align(!0)},t.prototype._align=function(t){var e=this,n=this.getSelectedNodes(),r=S.default.pick(n,function(t){return"metabolite"!==t.node_type||t.node_is_primary}),i=Object.keys(r).length>0,o=i?r:n,a=Object.keys(o),c=a.reduce(function(e,n){return e+(t?o[n].y:o[n].x)},0)/a.length,u=S.default.pairs(o).map(function(e){var n=e[0],r=e[1];return{nodeId:n,displacement:t?{x:0,y:c-r.y}:{x:c-r.x,y:0}}}),f=[],h={};i&&S.default.mapObject(o,function(r,i){r.connected_segments.map(function(i){var o=i.segment_id,a=i.reaction_id,s=e.reactions[a].segments[o],l=s.to_node_id===r.node_id,d=l?s.from_node_id:s.to_node_id,p=e.nodes[d],A=l?"b2":"b1";if(p.node_id in n&&s[A]){var g=b.bezierIdForSegmentId(o,A);if(f.push({reactionId:a,segmentId:o,bez:A,bezierId:g,displacement:t?{x:0,y:r.y-s[A].y}:{x:r.x-s[A].x,y:0}}),"metabolite"===p.node_type&&!p.node_is_primary&&!(d in h)){var m=p.connected_segments.filter(function(t){var r=e.reactions[a].segments[o];return r.to_node_id===p.node_id?r.from_node_id in n:r.to_node_id in n});p.connected_segments.length<=m.length&&(u.push({nodeId:d,displacement:t?{x:0,y:c-r.y}:{x:c-r.x,y:0}}),h[d]=!0)}}})});var d=function(t,n){var r=[];t.map(function(t){var n=e.nodes[t.nodeId],i=b.moveNodeAndDependents(n,t.nodeId,e.reactions,e.beziers,t.displacement);r=l.uniqueConcat([r,i.reaction_ids])}),n.map(function(t){var n=e.reactions[t.reactionId].segments[t.segmentId];n[t.bez]=l.c_plus_c(n[t.bez],t.displacement),e.beziers[t.bezierId].x=n[t.bez].x,e.beziers[t.bezierId].y=n[t.bez].y}),e.draw_these_nodes(t.map(function(t){return t.nodeId})),e.draw_these_reactions(r,!0)};this.undo_stack.push(function(){var t=function(t){return t.map(function(t){return s({},t,{displacement:{x:-t.displacement.x,y:-t.displacement.y}})})};d(t(u),t(f))},function(){d(u,f)}).do(),this.set_status(i?"Aligned reactions":"Aligned nodes",3e3)},t.prototype.delete_selected=function(){var t=this.getSelectedNodes(),e=this.get_selected_text_labels();(Object.keys(t).length>=1||Object.keys(e).length>=1)&&this.delete_selectable(t,e,!0)},t.prototype.delete_selectable=function(t,e,n){var r=this.segments_and_reactions_for_nodes(t),i=r.segment_objs_w_segments,o=r.reactions,a=l.clone(t),s=l.clone(i),c=l.clone(o),u=l.clone(e),f=function(e,r,i,o){this.delete_node_data(Object.keys(t)),this.delete_segment_data(i),this.delete_reaction_data(Object.keys(r)),this.delete_text_label_data(Object.keys(o));var a=!1,s=!1;this.has_data_on_reactions&&(a=this.calc_data_stats("reaction")),this.has_data_on_nodes&&(s=this.calc_data_stats("metabolite")),n&&(a?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(),s?this.draw_all_nodes(!0):this.clear_deleted_nodes(),this.clear_deleted_text_labels())}.bind(this);f(t,o,i,e),this.undo_stack.push(function(){this.extend_nodes(a),this.extend_reactions(c);var r=Object.keys(c);for(var f in s){var h=s[f],d=h.segment;this.reactions[h.reaction_id].segments[h.segment_id]=d;[d.from_node_id,d.to_node_id].forEach(function(t){if(!(t in a)){this.nodes[t].connected_segments.push({reaction_id:h.reaction_id,segment_id:h.segment_id})}}.bind(this));var p=h.segment_id,A=h.reaction_id,g={};g[p]=h.segment,l.extend(this.beziers,b.newBeziersForSegments(g,A)),-1===r.indexOf(h.reaction_id)&&r.push(h.reaction_id)}if(this.has_data_on_reactions){this.calc_data_stats("reaction")?this.draw_all_reactions(!0,!1):this.draw_these_reactions(r)}else n&&this.draw_these_reactions(r);if(this.has_data_on_nodes){var m=this.calc_data_stats("metabolite");n&&(m?this.draw_all_nodes(!1):this.draw_these_nodes(Object.keys(a)))}else n&&this.draw_these_nodes(Object.keys(a));l.extend(this.text_labels,u),n&&this.draw_these_text_labels(Object.keys(u)),e=l.clone(u),t=l.clone(a),i=l.clone(s),o=l.clone(c)}.bind(this),function(){f(t,o,i,e)}.bind(this))},t.prototype.delete_node_data=function(t){var e=this;t.forEach(function(t){if(e.enable_search&&"metabolite"===e.nodes[t].node_type){e.search_index.remove("n"+t)&&e.search_index.remove("n_name"+t)||console.warn("Could not find deleted metabolite in search index")}delete e.nodes[t]})},t.prototype.delete_segment_data=function(t){for(var e in t){var n=t[e],r=this.reactions[n.reaction_id];if(!(n.segment_id in r.segments))return;var i=r.segments[n.segment_id];[i.from_node_id,i.to_node_id].forEach(function(t){if(t in this.nodes){var e=this.nodes[t];e.connected_segments=e.connected_segments.filter(function(t){return t.segment_id!=n.segment_id})}}.bind(this)),["b1","b2"].forEach(function(t){var e=b.bezierIdForSegmentId(n.segment_id,t);delete this.beziers[e]}.bind(this)),delete r.segments[n.segment_id]}},t.prototype.delete_reaction_data=function(t){t.forEach(function(t){var e=this.reactions[t];for(var n in e.segments)["b1","b2"].forEach(function(t){var e=b.bezierIdForSegmentId(n,t);delete this.beziers[e]}.bind(this));delete this.reactions[t];var r=this.search_index.remove("r"+t)&&this.search_index.remove("r_name"+t);r||console.warn("Could not find deleted reaction "+t+" in search index");for(var i in e.genes){var r=this.search_index.remove("r"+t+"_g"+i)&&this.search_index.remove("r"+t+"_g_name"+i);r||console.warn("Could not find deleted gene "+i+" in search index")}}.bind(this))},t.prototype.delete_text_label_data=function(t){t.forEach(function(t){delete this.text_labels[t],this.search_index.remove("l"+t)||console.warn("Could not find deleted text label in search index")}.bind(this))},t.prototype._extend_and_draw_metabolite=function(t,e){this.extend_nodes(t);var n=[e];if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");this.apply_metabolite_data_to_map(this.imported_metabolite_data,n)?this.draw_all_nodes(!1):this.draw_these_nodes(n)}else this.draw_these_nodes(n)},t.prototype.new_reaction_from_scratch=function(t,e,n){var r=this;if(!this.cobra_model)return void console.error("No CobraModel. Cannot build new reaction");var i=l.clone(this.cobra_model.reactions[t]);if(0===S.default.size(i.metabolites))throw Error("No metabolites in reaction "+i.bigg_id);var o=S.default.map(i.metabolites,function(t,e){return[t,e]}).filter(function(t){return t[0]<0}).map(function(t){return t[1]}),a=o.length>0?o[0]:Object.keys(i.metabolites)[0],s=this.cobra_model.metabolites[a],c=String(++this.largest_ids.nodes),u=b.getMetLabelLoc(l.to_radians(n),0,1,!0,a,!0),f={connected_segments:[],x:e.x,y:e.y,node_is_primary:!0,label_x:e.x+u.x,label_y:e.y+u.y,name:s.name,bigg_id:a,node_type:"metabolite"},h={};h[c]=f,this._extend_and_draw_metabolite(h,c);var d=l.clone(h),p=this.new_reaction_for_metabolite(t,c,n,!1),A=p.redo,g=p.undo;this.undo_stack.push(function(){g(),r.delete_node_data(Object.keys(h)),h=l.clone(d),r.clear_deleted_nodes(),r.deselect_nodes()},function(){r._extend_and_draw_metabolite(h,c),A()})},t.prototype.extend_nodes=function(t){if(this.enable_search)for(var e in t){var n=t[e];"metabolite"==n.node_type&&(this.search_index.insert("n"+e,{name:n.bigg_id,data:{type:"metabolite",node_id:e}}),this.search_index.insert("n_name"+e,{name:n.name,data:{type:"metabolite",node_id:e}}))}l.extend(this.nodes,t)},t.prototype.extend_reactions=function(t){if(this.enable_search)for(var e in t){var n=t[e];this.search_index.insert("r"+e,{name:n.bigg_id,data:{type:"reaction",reaction_id:e}}),this.search_index.insert("r_name"+e,{name:n.name,data:{type:"reaction",reaction_id:e}});for(var r in n.genes){var i=n.genes[r];this.search_index.insert("r"+e+"_g"+r,{name:i.bigg_id,data:{type:"reaction",reaction_id:e}}),this.search_index.insert("r"+e+"_g_name"+r,{name:i.name,data:{type:"reaction",reaction_id:e}})}}l.extend(this.reactions,t)},t.prototype._extend_and_draw_reaction=function(t,e,n,r){this.extend_reactions(e),l.extend(this.beziers,n),this.delete_node_data([r]),this.extend_nodes(t);var i=Object.keys(e);if(this.has_data_on_reactions){var o=!1;if(this.imported_reaction_data)o=this.apply_reaction_data_to_map(this.imported_reaction_data,i);else{if(!this.imported_gene_data)throw new Error("imported_gene_data or imported_reaction_data should not be null");o=this.apply_gene_data_to_map(this.imported_gene_data,i)}o?this.draw_all_reactions(!0,!1):this.draw_these_reactions(i)}else this.draw_these_reactions(i);var a=Object.keys(t);if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");var o=this.apply_metabolite_data_to_map(this.imported_metabolite_data,a);o?this.draw_all_nodes(!1):this.draw_these_nodes(a)}else this.draw_these_nodes(a);for(var s in t){var c=t[s];if(c.node_is_primary&&s!=r){this.select_metabolite_with_id(s);var u={x:c.x,y:c.y};this.zoomContainer&&this.zoomContainer.translateOffScreen(u)}}},t.prototype.new_reaction_for_metabolite=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this.nodes[e],a=this.cobra_model.reactions[t],s=b.newReaction(t,a,this.cobra_model.metabolites,e,l.clone(o),this.largest_ids,this.settings.get("cofactors"),n),c=s.new_nodes,u=s.new_reactions,f=s.new_beziers;this._extend_and_draw_reaction(c,u,f,e);var h=l.clone(c),d=l.clone(u),p=l.clone(f),A=function(){if(delete c[e],i.delete_node_data(Object.keys(c)),i.delete_reaction_data(Object.keys(u)),i.select_metabolite_with_id(e),c=l.clone(h),u=l.clone(d),f=l.clone(p),i.has_data_on_reactions){i.calc_data_stats("reaction")?i.draw_all_reactions(!0,!0):i.clear_deleted_reactions(!0)}else i.clear_deleted_reactions(!0);if(i.has_data_on_nodes){i.calc_data_stats("metabolite")?i.draw_all_nodes(!0):i.clear_deleted_nodes()}else i.clear_deleted_nodes()},g=function(){i._extend_and_draw_reaction(c,u,f,e)};return r&&this.undo_stack.push(A,g),{undo:A,redo:g}},t.prototype.cycle_primary_node=function(){var t=this.getSelectedNodes();if(!S.default.isEmpty(t)){var e,n=Object.keys(t)[0],r=(t[n],this.reactions),i=this.nodes,o=[];if(i[n].connected_segments.forEach(function(t){e=[t.reaction_id];var i;try{if(void 0===(i=r[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+t.segment_id)}o.push(i.from_node_id==n?i.to_node_id:i.from_node_id)}),1!=o.length)return void console.error("Only connected nodes with a single reaction can be selected");var a=o[0],s=[n];i[a].connected_segments.forEach(function(t){var e;try{if(void 0===(e=r[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+t.segment_id)}var o=e.from_node_id==a?e.to_node_id:e.from_node_id;"metabolite"==i[o].node_type&&o!=n&&s.push(String(o))});for(var c=0;c<s.length;c++)if(i[s[c]].connected_segments.length>1)return void console.error("Only connected nodes with a single reaction can be selected");for(var l in t)if(l!=n&&-1==s.indexOf(l))return void console.warn("Selected nodes are not on the same reaction");var u=[],f=s.length-1,h=i[s[f]],d=h.node_is_primary,p={x:h.x,y:h.y,label_x:h.label_x,label_y:h.label_y};h.connected_segments.length>1&&console.warn("Too many connected segments for node "+h.node_id);var A,g=h.connected_segments[0];try{if(void 0===(A=r[g.reaction_id].segments[g.segment_id]))throw new Error("undefined segment")}catch(t){return void console.error("Could not find connected segment "+g.segment_id)}var b,m={b1:A.b1,b2:A.b2};s.forEach(function(t){var e=i[t],n=e.node_is_primary,o={x:e.x,y:e.y,label_x:e.label_x,label_y:e.label_y},a=e.connected_segments[0],s=r[a.reaction_id].segments[a.segment_id],c={b1:s.b1,b2:s.b2};e.node_is_primary=d,e.x=p.x,e.y=p.y,e.label_x=p.label_x,e.label_y=p.label_y,s.b1=m.b1,s.b2=m.b2,d=n,p=o,m=c,e.node_is_primary&&(b=t),u.push(t)});var y=i[a].connected_segments,f=y.length-1,v=[y[f]];y.forEach(function(t,e){f!=e&&v.push(t)}),i[a].connected_segments=v,this.draw_these_nodes(u),this.draw_these_reactions(e),this.select_metabolite_with_id(b)}},t.prototype.toggle_selected_node_primary=function(){var t=this.get_selected_node_ids(),e=function(t){var e={},n=this.settings.get("hide_secondary_metabolites");if(t.forEach(function(t){if(!(t in this.nodes))return void console.warn("Could not find node: "+t);var n=this.nodes[t];"metabolite"==n.node_type&&(n.node_is_primary=!n.node_is_primary,e[t]=n)}.bind(this)),this.draw_these_nodes(Object.keys(e)),n){var r=this.segments_and_reactions_for_nodes(e),i={};for(var o in r.segment_objs_w_segments){i[r.segment_objs_w_segments[o].reaction_id]=!0}this.draw_these_reactions(Object.keys(i))}}.bind(this);e(t),this.undo_stack.push(function(){e(t)},function(){e(t)})},t.prototype.segments_and_reactions_for_nodes=function(t){var e={},n={},r={},i=this.reactions;for(var o in t){t[o].connected_segments.forEach(function(t){var n;try{if(void 0===(n=i[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segments for node")}var o=l.clone(t);o.segment=l.clone(n),e[t.segment_id]=o,t.reaction_id in r||(r[t.reaction_id]=[]),r[t.reaction_id].push(t.segment_id)})}for(var a in r){var s=i[a],c=r[a],u=!0;for(var f in s.segments)-1==c.indexOf(f)&&(u=!1);u&&(n[a]=s)}return{segment_objs_w_segments:e,reactions:n}},t.prototype.add_label_to_search_index=function(t,e){this.search_index.insert("l"+t,{name:e,data:{type:"text_label",text_label_id:t}})},t.prototype.new_text_label=function(t,e){var n=b.newTextLabel(this.largest_ids,e,t);return this.text_labels[n.id]=n.label,this.draw_these_text_labels([n.id]),""!==e&&this.add_label_to_search_index(n.id,e),n.id},t.prototype.edit_text_label=function(t,e,n,r){if(S.default.isUndefined(r)&&(r=!1),""===e)throw new Error("Should not be called for empty string");var i=function(e,n){this.text_labels[t].text=e,n&&this.draw_these_text_labels([t]);var i="l"+t,o=this.search_index.remove(i);r||o||console.warn("Could not find modified text label in search index"),this.search_index.insert(i,{name:e,data:{type:"text_label",text_label_id:t}})}.bind(this),o=l.clone(this.text_labels[t]);i(e,n),this.undo_stack.push(function(){r?(this.delete_text_label_data([t]),this.clear_deleted_text_labels()):i(o.text,!0)}.bind(this),function(){r?(this.text_labels[t]=l.clone(o),this.text_labels[t].text=e,this.draw_these_text_labels([t]),this.add_label_to_search_index(t,e)):i(e,!0)}.bind(this))},t.prototype.zoom_extent_nodes=function(t){this._zoom_extent(t,"nodes")},t.prototype.zoom_extent_canvas=function(t){this._zoom_extent(t,"canvas")},t.prototype._zoom_extent=function(t,e){S.default.isUndefined(t)&&(t="nodes"===e?.2:0),S.default.isUndefined(e)&&(e="canvas");var n,r,i=this.get_size();if(t*=i.height,"nodes"===e){var o={x:null,y:null},a={x:null,y:null};for(var s in this.nodes){var c=this.nodes[s];null===o.x&&(o.x=c.x),null===o.y&&(o.y=c.y),null===a.x&&(a.x=c.x),null===a.y&&(a.y=c.y),o.x=Math.min(o.x,c.x),o.y=Math.min(o.y,c.y),a.x=Math.max(a.x,c.x),a.y=Math.max(a.y,c.y)}n=Math.min((i.width-2*t)/(a.x-o.x),(i.height-2*t)/(a.y-o.y)),r={x:-o.x*n+t+(i.width-2*t-(a.x-o.x)*n)/2,y:-o.y*n+t+(i.height-2*t-(a.y-o.y)*n)/2}}else{if("canvas"!=e)return console.error("Did not recognize mode");n=Math.min((i.width-2*t)/this.canvas.width,(i.height-2*t)/this.canvas.height),r={x:-this.canvas.x*n+t+(i.width-2*t-this.canvas.width*n)/2,y:-this.canvas.y*n+t+(i.height-2*t-this.canvas.height*n)/2}}return this.zoomContainer.goTo(n,r),null},t.prototype.get_size=function(){return this.zoomContainer.get_size()},t.prototype.zoom_to_reaction=function(t){var e=this.reactions[t],n=this.get_size(),r={x:.5*-e.label_x+n.width/2,y:.5*-e.label_y+n.height/2};this.zoomContainer.goTo(.5,r)},t.prototype.zoom_to_node=function(t){var e=this.nodes[t],n=this.get_size(),r={x:.5*-e.label_x+n.width/2,y:.5*-e.label_y+n.height/2};this.zoomContainer.goTo(.5,r)},t.prototype.zoom_to_text_label=function(t){var e=this.text_labels[t],n=this.get_size(),r={x:.5*-e.x+n.width/2,y:.5*-e.y+n.height/2};this.zoomContainer.goTo(.5,r)},t.prototype.highlight_reaction=function(t){this.highlight(this.sel.selectAll("#r"+t).selectAll("text"))},t.prototype.highlight_node=function(t){this.highlight(this.sel.selectAll("#n"+t).selectAll("text"))},t.prototype.highlight_text_label=function(t){this.highlight(this.sel.selectAll("#l"+t).selectAll("text"))},t.prototype.highlight=function(t){this.sel.selectAll(".highlight").classed("highlight",!1),null!==t&&t.classed("highlight",!0)},t.prototype.save=function(){l.download_json(this.map_for_export(),this.map_name)},t.prototype.map_for_export=function(){var t=[{map_name:this.map_name,map_id:this.map_id,map_description:this.map_description,homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:l.clone(this.reactions),nodes:l.clone(this.nodes),text_labels:l.clone(this.text_labels),canvas:this.canvas.sizeAndLocation()}];for(var e in t[1].reactions){var n=t[1].reactions[e],r={},i=["name","bigg_id","reversibility","label_x","label_y","gene_reaction_rule","genes","metabolites"];i.forEach(function(t){r[t]=n[t]}),r.segments={};for(var o in n.segments){var a=n.segments[o],s={},i=["from_node_id","to_node_id","b1","b2"];i.forEach(function(t){s[t]=a[t]}),r.segments[o]=s}t[1].reactions[e]=r}for(var c in t[1].nodes){var i,u=t[1].nodes[c],f={};i="metabolite"===u.node_type?["node_type","x","y","bigg_id","name","label_x","label_y","node_is_primary"]:["node_type","x","y"],i.forEach(function(t){f[t]=u[t]}),t[1].nodes[c]=f}for(var h in t[1].text_labels){var d=t[1].text_labels[h],p={},i=["x","y","text"];i.forEach(function(t){p[t]=d[t]}),t[1].text_labels[h]=p}var A=t[1].canvas,g={},i=["x","y","width","height"];return i.forEach(function(t){g[t]=A[t]}),t[1].canvas=g,t},t.prototype.saveMap=function(t,e,n){var r=this;this.callback_manager.run(t);var i=this.zoomContainer.windowScale,o=this.zoomContainer.windowTranslate,a=this.canvas.sizeAndLocation(),s={w:this.canvas.mouseNode.attr("width"),h:this.canvas.mouseNode.attr("height"),transform:this.canvas.mouseNode.attr("transform")};this.zoomContainer._goToSvg(1,{x:-a.x,y:-a.y},function(){r.svg.attr("width",a.width),r.svg.attr("height",a.height),r.canvas.mouseNode.attr("width","0px"),r.canvas.mouseNode.attr("height","0px"),r.canvas.mouseNode.attr("transform",null);var t=r.sel.selectAll(".multimarker-circle,.midmarker-circle,#canvas,.bezier,#rotation-center,.direction-arrow,.start-reaction-target").style("visibility","hidden");"svg"===n?l.downloadSvg("saved_map",r.svg,!0):"png"===n&&l.downloadPng("saved_map",r.svg),r.zoomContainer._goToSvg(i,o,function(){r.svg.attr("width",null),r.svg.attr("height",null),r.canvas.mouseNode.attr("width",s.w),r.canvas.mouseNode.attr("height",s.h),r.canvas.mouseNode.attr("transform",s.transform),t.style("visibility",null),r.callback_manager.run(e)})})},t.prototype.save_svg=function(){this.saveMap("before_svg_export","after_svg_export","svg")},t.prototype.save_png=function(){this.saveMap("before_png_export","after_png_export","png")},t.prototype.convert_map=function(){var t=this;if(this.callback_manager.run("before_convert_map"),!this.has_cobra_model())throw Error("No COBRA model loaded.");var e=this.cobra_model,n={},r=["name","gene_reaction_rule","genes"],i={},o=["name"],a=!1;for(var s in this.reactions){var c=this.reactions[s];a=!1;for(var l in e.reactions){var u;if("break"===function(){var n=e.reactions[l];if(n.bigg_id==c.bigg_id){r.forEach(function(t){c[t]=n[t]});var i=!0,o=null;for(var s in n.metabolites){if("break"===function(t){var e=n.metabolites[t],r=S.default.find(c.metabolites,function(e){return e.bigg_id===t});if(void 0===r)return i=!1,"break";var a=r.coefficient;return null===o&&(o=e>0!==a>0),!0===o&&e>0===a>0||!1===o&&e>0!==a>0?(i=!1,"break"):void 0}(s))break}if(o&&i){c.metabolites.forEach(function(t){t.coefficient=-t.coefficient});for(u in c.segments)!function(){var e=c.segments[u];e.reversibility=c.reversibility;var n=t.nodes[e.from_node_id],r=t.nodes[e.to_node_id];c.metabolites.forEach(function(t){t.bigg_id===n.bigg_id?e.from_node_coefficient=t.coefficient:t.bigg_id===r.bigg_id&&(e.to_node_coefficient=t.coefficient)})}()}if(!i)return console.warn("Metabolites for "+n.bigg_id+" are different in model and map. Could\n not check and fix direction."),"break";a=!0}}())break}a||(n[s]=!0)}for(var f in this.nodes){var h=this.nodes[f];if("metabolite"==h.node_type){a=!1;for(var d in e.metabolites){var p=e.metabolites[d];p.bigg_id==h.bigg_id&&(o.forEach(function(t){h[t]=p[t]}),a=!0)}a||(i[f]=!0)}}var A=Object.keys(n).length,g=Object.keys(i).length;0===A&&0===g?this.set_status("Successfully converted attributes.",1e4):0===g?(this.set_status("Converted attributes, but count not find "+A+" reactions in the model.",1e4),this.settings.set("highlight_missing",!0)):0===A?(this.set_status("Converted attributes, but count not find "+g+" metabolites in the model.",1e4),this.settings.set("highlight_missing",!0)):(this.set_status("Converted attributes, but count not find "+A+" reactions and "+g+" metabolites in the model.",1e4),this.settings.set("highlight_missing",!0)),this.draw_everything(),this.callback_manager.run("after_convert_map")},t}();e.default=j},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(3),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(29),c=r(s),l=n(7),u=n(0),f=r(u),h=f.select,d=f.mouse,p=(f.touch,function(){function t(e,n){i(this,t),this.map=e,this.undoStack=n,this.emptyBehavior=function(){},this.rotationModeEnabled=!1,this.rotationDrag=(0,l.drag)(),this.selectableMousedown=null,this.textLabelMousedown=null,this.textLabelClick=null,this.selectableDrag=this.emptyBehavior,this.nodeLabelMouseover=null,this.nodeLabelTouch=null,this.nodeLabelMouseout=null,this.reactionLabelMouseover=null,this.reactionLabelTouch=null,this.reactionLabelMouseout=null,this.geneLabelMouseover=null,this.geneLabelTouch=null,this.geneLabelMouseout=null,this.nodeObjectMouseover=null,this.nodeObjectMouseout=null,this.reactionObjectMouseover=null,this.reactionObjectMouseout=null,this.bezierDrag=this.emptyBehavior,this.bezierMouseover=null,this.bezierMouseout=null,this.reactionLabelDrag=this.emptyBehavior,this.nodeLabelDrag=this.emptyBehavior,this.dragging=!1}return t.prototype.averageLocation=function(t){var e=[],n=[];for(var r in t){var i=t[r];void 0!==i.x&&e.push(i.x),void 0!==i.y&&n.push(i.y)}return{x:a.default.mean(e),y:a.default.mean(n)}},t.prototype.showCenter=function(){var t=this,e=this.map.sel.selectAll("#rotation-center").data([0]),n=e.enter().append("g").attr("id","rotation-center");n.append("path").attr("d","M-32 0 L32 0").attr("class","rotation-center-line"),n.append("path").attr("d","M0 -32 L0 32").attr("class","rotation-center-line");var r=n.merge(e);r.attr("transform","translate("+this.center.x+","+this.center.y+")").attr("visibility","visible").on("mouseover",function(){var t=parseFloat(r.selectAll("path").style("stroke-width"));r.selectAll("path").style("stroke-width",2*t+"px")}).on("mouseout",function(){r.selectAll("path").style("stroke-width",null)}).call((0,l.drag)().on("drag",function(){var e=a.default.d3_transform_catch(r.attr("transform")),n=[f.event.dx+e.translate[0],f.event.dy+e.translate[1]];r.attr("transform","translate("+n+")"),t.center={x:n[0],y:n[1]}}))},t.prototype.hideCenter=function(){this.map.sel.select("#rotation-center").attr("visibility","hidden")},t.prototype.toggleRotationMode=function(t){var e=this;this.rotationModeEnabled=void 0===t?!this.rotationModeEnabled:t;var n=this.map.sel.selectAll(".node-circle"),r=this.map.sel.selectAll("#canvas");if(this.rotationModeEnabled){var i=this.map.getSelectedNodes();if(0===Object.keys(i).length)return void console.warn("No selected nodes");this.center=this.averageLocation(i),this.showCenter();var o=this.map,a=Object.keys(i),s=this.map.reactions,l=this.map.nodes,u=this.map.beziers,h=function(t){f.event.sourceEvent.stopPropagation()},d=function(t,e,n,r){var a=c.rotateNodes(i,s,u,e,r);o.draw_these_nodes(a.node_ids),o.draw_these_reactions(a.reaction_ids)},p=function(t){},A=function(t,e,n){var r={};a.forEach(function(t){r[t]=l[t]});var i=c.rotateNodes(r,s,u,-e,n);o.draw_these_nodes(i.node_ids),o.draw_these_reactions(i.reaction_ids)},g=function(t,e,n){var r={};a.forEach(function(t){r[t]=l[t]});var i=c.rotatenodes(r,s,u,e,n);o.draw_these_nodes(i.node_ids),o.draw_these_reactions(i.reaction_ids)},b=function(){return e.center};this.rotationDrag=this.getGenericAngularDrag(h,d,p,A,g,b,this.map.sel),r.call(this.rotationDrag),this.selectableDrag=this.rotationDrag}else this.hideCenter(),n.on("mousedown.center",null),r.on("mousedown.center",null),r.on("mousedown.drag",null),r.on("touchstart.drag",null),this.rotationDrag=null,this.selectableDrag=null},t.prototype.toggleSelectableClick=function(t){if(void 0===t&&(t=null===this.selectableMousedown),t){var e=this.map;this.selectableMousedown=function(t){f.event.stopPropagation()},this.selectableClick=function(t){f.event.stopPropagation(),f.event.defaultPrevented||e.select_selectable(this,t,f.event.shiftKey)},this.nodeMouseover=function(t){h(this).style("stroke-width",null);var e=parseFloat(h(this).style("stroke-width"));h(this.parentNode).classed("selected")||h(this).style("stroke-width",3*e+"px")},this.nodeMouseout=function(t){h(this).style("stroke-width",null)}}else this.selectableMousedown=null,this.selectableClick=null,this.nodeMouseover=null,this.nodeMouseout=null,this.map.sel.select("#nodes").selectAll(".node-circle").style("stroke-width",null)},t.prototype.toggleTextLabelEdit=function(t){if(void 0===t&&(t=null==this.textEditMousedown),t){var e=this.map;this.textLabelMousedown=function(){if(!f.event.defaultPrevented){var t=a.default.d3_transform_catch(h(this).attr("transform")).translate,n={x:t[0],y:t[1]};e.callback_manager.run("edit_text_label",null,h(this),n),f.event.stopPropagation()}},this.textLabelClick=null,this.map.sel.select("#text-labels").selectAll(".label").style("cursor","text"),this.map.sel.on("mousedown.new_text_label",function(t){f.event.preventDefault();var e={x:d(t)[0],y:d(t)[1]};this.map.callback_manager.run("new_text_label",null,e)}.bind(this,this.map.sel.node()))}else this.textLabelMousedown=this.selectableMousedown,this.textLabelClick=this.selectableClick,this.map.sel.select("#text-labels").selectAll(".label").style("cursor",null),this.map.sel.on("mousedown.new_text_label",null),this.map.callback_manager.run("hide_text_label_editor")},t.prototype.toggleSelectableDrag=function(t){void 0===t&&(t=this.selectableDrag===this.emptyBehavior),t?(this.selectableDrag=this.getSelectableDrag(this.map,this.undoStack),this.bezierDrag=this.getBezierDrag(this.map,this.undoStack)):(this.selectableDrag=this.emptyBehavior,this.bezierDrag=this.emptyBehavior)},t.prototype.toggleLabelDrag=function(t){void 0===t&&(t=this.labelDrag===this.emptyBehavior),t?(this.reactionLabelDrag=this.getReactionLabelDrag(this.map),this.nodeLabelDrag=this.getNodeLabelDrag(this.map)):(this.reactionLabelDrag=this.emptyBehavior,this.nodeLabelDrag=this.emptyBehavior)},t.prototype.toggleLabelMouseover=function(t){var e=this;if(void 0===t&&(t=null===this.nodeLabelMouseover),t){var n=function(t){return function(n){e.dragging||e.map.callback_manager.run("show_tooltip",null,t,n)}},r=function(){e.map.callback_manager.run("delay_hide_tooltip")};this.nodeLabelMouseover=n("node_label"),this.nodeLabelTouch=n("node_label"),this.nodeLabelMouseout=r,this.reactionLabelMouseover=n("reaction_label"),this.reactionLabelTouch=n("reaction_label"),this.reactionLabelMouseout=r,this.geneLabelMouseover=n("gene_label"),this.geneLabelTouch=n("gene_label"),this.geneLabelMouseout=r}else this.nodeLabelMouseover=null,this.nodeLabelTouch=null,this.nodeLabelMouseout=null,this.reactionLabelMouseover=null,this.reactionLabelTouch=null,this.reactionLabelMouseout=null,this.geneLabelMouseover=null,this.geneLabelTouch=null,this.geneLabelMouseout=null},t.prototype.toggleObjectMouseover=function(t){var e=this;if(void 0===t&&(t=null===this.nodeObjectMouseover),t){var n=function(t){var n=e;return function(e){if(!n.dragging)if("reaction_object"===t){var r=d(this),i=Object.assign({},e,{xPos:r[0],yPos:r[1]});n.map.callback_manager.run("show_tooltip",null,t,i)}else n.map.callback_manager.run("show_tooltip",null,t,e)}},r=function(){e.map.callback_manager.run("delay_hide_tooltip")};this.nodeObjectMouseover=n("node_object"),this.nodeObjectMouseout=r,this.reactionObjectMouseover=n("reaction_object"),this.reactionObjectMouseout=r}else this.nodeObjectMouseover=null,this.nodeObjectMouseout=null,this.reactionObjectMouseover=null,this.reactionObjectMouseout=null},t.prototype.toggleObjectTouch=function(t){var e=this;void 0===t&&(t=null===this.labelTouch),this.objectTouch=t?function(t,n){e.dragging||e.map.callback_manager.run("show_tooltip",null,t,n)}:null},t.prototype.toggleBezierDrag=function(t){void 0===t&&(t=this.bezierDrag===this.emptyBehavior),t?(this.bezierDrag=this.getBezierDrag(this.map),this.bezierMouseover=function(t){h(this).style("stroke-width","3px")},this.bezierMouseout=function(t){h(this).style("stroke-width","1px")}):(this.bezierDrag=this.emptyBehavior,this.bezierMouseover=null,this.bezierMouseout=null)},t.prototype.turnOffDrag=function(t){t.on("mousedown.drag",null),t.on("touchstart.drag",null)},t.prototype.combineNodesAndDraw=function(t,e){var n=this.map,r=n.nodes[e],i=n.nodes[t],o=[];return r.connected_segments.forEach(function(r){var s=null;try{if(void 0===(s=n.reactions[r.reaction_id].segments[r.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segment "+r.segment_id)}if(s.from_node_id===e)s.from_node_id=t;else{if(s.to_node_id!==e)return void console.error("Segment does not connect to dragged node");s.to_node_id=t}i.connected_segments.push(r),o.push(a.default.clone(r))}),n.delete_node_data([e]),n.sel.selectAll(".node-to-combine").classed("node-to-combine",!1),n.draw_everything(),o},t.prototype.getSelectableDrag=function(t,e){var n=this,r=(0,l.drag)(),i=null,o=null,s=null,u=null,d=null,p=function(e,n){var r=t.text_labels[e];r.x=r.x+n.x,r.y=r.y+n.y},A=function(t){n.dragging=t};r.on("start",function(e){if(A(!0),f.event.sourceEvent.stopPropagation(),o={x:0,y:0},-1===h(this).attr("class").indexOf("label")){var n=this.parentNode.__data__,r=n.bigg_id,a=this.parentNode;i=setTimeout(function(){a.parentNode.insertBefore(a,a.parentNode.firstChild)},200),t.sel.selectAll(".metabolite-circle").on("mouseover.combine",function(t){t.bigg_id===r&&t.node_id!==n.node_id&&h(this).classed("node-to-combine",!0)}).on("mouseout.combine",function(e){e.bigg_id===r&&t.sel.selectAll(".node-to-combine").classed("node-to-combine",!1)})}}),r.on("drag",function(e){h(this.parentNode).classed("selected")||t.select_selectable(this,e);var n={};-1===h(this).attr("class").indexOf("label")?(n.type="node",n.id=this.parentNode.__data__.node_id):(n.type="label",n.id=this.__data__.text_label_id);var r=t.get_selected_node_ids(),i=t.get_selected_text_label_ids();s=[],d=[],"node"===n.type&&-1===r.indexOf(n.id)?s.push(n.id):"label"===n.type&&-1===i.indexOf(n.id)?d.push(n.id):(s=r,d=i),u=[];var l={x:f.event.dx,y:f.event.dy};o=a.default.c_plus_c(o,l),s.forEach(function(e){var n=t.nodes[e],r=c.moveNodeAndDependents(n,e,t.reactions,t.beziers,l);u=a.default.uniqueConcat([u,r.reaction_ids])}),d.forEach(function(t){p(t,l)}),t.draw_these_nodes(s),t.draw_these_reactions(u),t.draw_these_text_labels(d)});var g=this.combineNodesAndDraw.bind(this);return r.on("end",function(){if(A(!1),null===s)return o=null,s=null,d=null,u=null,void(i=null);var n=[];if(t.sel.selectAll(".node-to-combine").each(function(t){n.push(t.node_id)}),1===n.length){var r=n[0],l=this.parentNode.__data__.node_id,f=a.default.clone(t.nodes[l]),h=g(r,l),b=a.default.clone(o);e.push(function(){t.nodes[l]=f;var e=t.nodes[r],n=[];h.forEach(function(i){var o=t.reactions[i.reaction_id].segments[i.segment_id];o.from_node_id===r?o.from_node_id=l:o.to_node_id===r?o.to_node_id=l:console.error("Segment does not connect to fixed node"),e.connected_segments=e.connected_segments.filter(function(t){return!(t.reaction_id===i.reaction_id&&t.segment_id===i.segment_id)}),-1===n.indexOf(i.reaction_id)&&n.push(i.reaction_id)}),c.moveNodeAndDependents(f,l,t.reactions,t.beziers,a.default.c_times_scalar(b,-1)),t.draw_these_nodes([l]),t.draw_these_reactions(n)},function(){c.moveNodeAndDependents(f,l,t.reactions,t.beziers,a.default.c_times_scalar(b,1)),g(r,l)})}else{var m=a.default.clone(o),y=a.default.clone(s),v=a.default.clone(d),_=a.default.clone(u);e.push(function(){y.forEach(function(e){var n=t.nodes[e];c.moveNodeAndDependents(n,e,t.reactions,t.beziers,a.default.c_times_scalar(m,-1))}),v.forEach(function(t){p(t,a.default.c_times_scalar(m,-1))}),t.draw_these_nodes(y),t.draw_these_reactions(_),t.draw_these_text_labels(v)},function(){y.forEach(function(e){var n=t.nodes[e];c.moveNodeAndDependents(n,e,t.reactions,t.beziers,m)}),v.forEach(function(t){p(t,m)}),t.draw_these_nodes(y),t.draw_these_reactions(_),t.draw_these_text_labels(v)})}t.sel.selectAll(".metabolite-circle").on("mouseover.combine",null).on("mouseout.combine",null),clearTimeout(i),o=null,s=null,d=null,u=null,i=null}),r},t.prototype.getBezierDrag=function(t){var e=function(e,n,r,i,o){var s=t.reactions[e].segments[n];s[r]=a.default.c_plus_c(s[r],o),t.beziers[i].x=s[r].x,t.beziers[i].y=s[r].y},n=function(t){t.dragging=!0},r=function(n,r,i){e(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,r),t.draw_these_reactions([n.reaction_id],!1),t.draw_these_beziers([n.bezier_id])},i=function(t){t.dragging=!1},o=function(n,r){e(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,a.default.c_times_scalar(r,-1)),t.draw_these_reactions([n.reaction_id],!1),t.draw_these_beziers([n.bezier_id])},s=function(n,r){e(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,r),t.draw_these_reactions([n.reaction_id],!1),t.draw_these_beziers([n.bezier_id])};return this.getGenericDrag(n,r,i,o,s,this.map.sel)},t.prototype.getReactionLabelDrag=function(t){var e=function(e,n){var r=t.reactions[e];r.label_x=r.label_x+n.x,r.label_y=r.label_y+n.y},n=function(e){t.callback_manager.run("hide_tooltip")},r=function(n,r,i){e(n.reaction_id,r),t.draw_these_reactions([n.reaction_id])},i=function(){},o=function(n,r){e(n.reaction_id,a.default.c_times_scalar(r,-1)),t.draw_these_reactions([n.reaction_id])},s=function(n,r){e(n.reaction_id,r),t.draw_these_reactions([n.reaction_id])};return this.getGenericDrag(n,r,i,o,s,this.map.sel)},t.prototype.getNodeLabelDrag=function(t){var e=function(e,n){var r=t.nodes[e];r.label_x=r.label_x+n.x,r.label_y=r.label_y+n.y},n=function(e){t.callback_manager.run("hide_tooltip")},r=function(n,r,i){e(n.node_id,r),t.draw_these_nodes([n.node_id])},i=function(){},o=function(n,r){e(n.node_id,a.default.c_times_scalar(r,-1)),t.draw_these_nodes([n.node_id])},s=function(n,r){e(n.node_id,r),t.draw_these_nodes([n.node_id])};return this.getGenericDrag(n,r,i,o,s,this.map.sel)},t.prototype.getGenericDrag=function(t,e,n,r,i,o){var s=this,c=(0,l.drag)(),u=this.undoStack,h=o.node(),p=void 0;return c.on("start",function(e){s.dragging=!0,f.event.sourceEvent.stopPropagation(),p={x:0,y:0},t(e)}),c.on("drag",function(t){var n={x:f.event.dx,y:f.event.dy},r={x:d(h)[0],y:d(h)[1]};p=a.default.c_plus_c(p,n),e(t,n,p,r)}),c.on("end",function(t){s.dragging=!1;var e=a.default.clone(t),o=a.default.clone(p),c={x:d(h)[0],y:d(h)[1]};u.push(function(){r(e,o,c)},function(){i(e,o,c)}),n(t)}),c},t.prototype.getGenericAngularDrag=function(t,e,n,r,i,o,s){var c=this,u=(0,l.drag)(),h=this.undoStack,p=s.node(),A=void 0;return u.on("start",function(e){c.dragging=!0,f.event.sourceEvent.stopPropagation(),A=0,t(e)}),u.on("drag",function(t){var n={x:f.event.dx,y:f.event.dy},r={x:d(p)[0],y:d(p)[1]},i=o(),s=a.default.angle_for_event(n,r,i);A+=s,e(t,s,A,i)}),u.on("end",function(t){c.dragging=!1;var e=a.default.clone(t),s=A,l=a.default.clone(o());h.push(function(){return r(e,s,l)},function(){return i(e,s,l)}),n(t)}),u},t}());e.default=p},function(t,e,n){"use strict";function r(t){if(Math.abs(t)>Math.PI)throw new Error("Angle must be between -PI and PI");return Math.abs(t)<Math.PI/7||Math.abs(t-Math.PI)<Math.PI/7?{x:-50,y:-40}:t>0?{x:15*(1-Math.abs(t-Math.PI/2)/(Math.PI/2)),y:10+50*(t-Math.PI/2)}:{x:15*(1-Math.abs(t+Math.PI/2)/(Math.PI/2)),y:10-50*(Math.abs(t)-Math.PI/2)}}function i(t,e,n,r,i,o){var a=m.angleNorm(t),s=18*i.length,c=e-(e>o)-n/2>=-1;return Math.abs(a)<Math.PI/7?r||c?{x:.3*-s,y:40}:{x:.3*-s,y:-20}:Math.abs(a-Math.PI)<Math.PI/7?r||!c?{x:.3*-s,y:40}:{x:.3*-s,y:-20}:r?{x:25-38*Math.abs(Math.abs(a)-Math.PI/2),y:(Math.abs(a)-Math.PI/2)*(2*(a>0)-1)*50}:a<0&&c||a>0&&!c?{x:15,y:0}:{x:.5*-s,y:30}}function o(t,e,n,o,s,c,l,u){var h=m.to_radians_norm(u),d=String(++c.reactions),p={x:s.x,y:s.y},A=[p,m.c_plus_c(p,{x:350,y:0})],b={x:(A[0].x+A[1].x)/2,y:(A[0].y+A[1].y)/2},y=r(h),v={name:e.name,bigg_id:e.bigg_id,reversibility:e.reversibility,gene_reaction_rule:e.gene_reaction_rule,genes:m.clone(e.genes),metabolites:m.clone(e.metabolites)};m.extend(v,{label_x:b.x+y.x,label_y:b.y+y.y,segments:{}});var _=[],w=[],x=0,M=0,E=!1;for(var C in v.metabolites){var B=n[C],I=v.metabolites[C],k=B.formula,T={coefficient:I,bigg_id:C,name:B.name};if(I<0){T.index=x;var D=/C([0-9]+)/.exec(k);s.bigg_id===T.bigg_id?_.push([T.index,1/0]):D&&-1===l.indexOf(m.decompartmentalize(T.bigg_id)[0])&&_.push([T.index,parseInt(D[1])]),x++}else{T.index=M;var S=/C([0-9]+)/.exec(k);s.bigg_id===T.bigg_id?(w.push([T.index,1/0]),E=!0):S&&-1===l.indexOf(m.decompartmentalize(T.bigg_id)[0])&&w.push([T.index,parseInt(S[1])]),M++}v.metabolites[C]=T}var N=function(t,e){return e[1]>t[1]?e:t},j=_.reduce(N,[0,0])[0],O=w.reduce(N,[0,0])[0];for(var L in v.metabolites){var Q=v.metabolites[L];Q.coefficient<0?(Q.is_primary=Q.index===j,Q.count=x):(Q.is_primary=Q.index===O,Q.count=M)}var z={},F=[{node_type:"anchor_reactants",dis:{x:20*(E?1:-1),y:0}},{node_type:"center",dis:{x:0,y:0}},{node_type:"anchor_products",dis:{x:20*(E?-1:1),y:0}}],U={};F.map(function(t){var e=String(++c.nodes),n="center"===t.node_type?"midmarker":"multimarker";z[e]={node_type:n,x:b.x+t.dis.x,y:b.y+t.dis.y,connected_segments:[],name:null,bigg_id:null,label_x:null,label_y:null,node_is_primary:null,data:null},U[t.node_type]=e}),[[U.anchor_reactants,U.center,"reactants"],[U.anchor_products,U.center,"products"]].map(function(t){var e=t[0],n=t[1],r=String(++c.segments),i=0===x&&"reactants"===t[2]&&v.reversibility||0===M&&"products"===t[2];v.segments[r]={b1:null,b2:null,from_node_id:e,to_node_id:n,from_node_coefficient:null,to_node_coefficient:null,reversibility:v.reversibility,data:v.data,reverse_flux:v.reverse_flux,unconnected_segment_with_arrow:i},z[e].connected_segments.push({segment_id:r,reaction_id:d}),z[n].connected_segments.push({segment_id:r,reaction_id:d})});var Y=z;for(var P in v.metabolites){var R=v.metabolites[P],W=void 0,G=void 0;R.coefficient<0?(W=j,G=U.anchor_reactants):(W=O,G=U.anchor_products);var H=f(R,W,A,b,350,E);if(s.bigg_id===R.bigg_id){var V=String(++c.segments);v.segments[V]={b1:H.b1,b2:H.b2,from_node_id:G,to_node_id:o,from_node_coefficient:null,to_node_coefficient:R.coefficient,reversibility:v.reversibility},s.connected_segments.push({segment_id:V,reaction_id:d}),Y[G].connected_segments.push({segment_id:V,reaction_id:d})}else{var Z=String(++c.segments),K=String(++c.nodes);v.segments[Z]={b1:H.b1,b2:H.b2,from_node_id:G,to_node_id:K,from_node_coefficient:null,to_node_coefficient:R.coefficient,reversibility:v.reversibility};var J=i(h,R.index,R.count,R.is_primary,R.bigg_id,W);Y[K]={connected_segments:[{segment_id:Z,reaction_id:d}],x:H.circle.x,y:H.circle.y,node_is_primary:R.is_primary,label_x:H.circle.x+J.x,label_y:H.circle.y+J.y,name:R.name,bigg_id:R.bigg_id,node_type:"metabolite"},Y[G].connected_segments.push({segment_id:Z,reaction_id:d})}}var q=[];for(var X in v.metabolites)q.push({bigg_id:X,coefficient:v.metabolites[X].coefficient});v.metabolites=q;var $={};$[d]=v;var tt=g($);return Y[o]=s,a(Y,$,tt,h,p),{new_reactions:$,new_beziers:tt,new_nodes:Y}}function a(t,e,n,r,i){var o=function(t){return null===t?null:m.rotate_coords(t,r,i)},a=[],s=[];for(var l in t)!function(r){var i=t[r],l=o({x:i.x,y:i.y}),u=c(i,e,l);i.connected_segments.map(function(t){var i=e[t.reaction_id];if(void 0!==i){var a=t.segment_id,s=i.segments[a];if(s.to_node_id===r&&s.b2){var c=o(s.b2),l=d(a,"b2");s.b2=m.c_plus_c(s.b2,c),n[l].x=s.b2.x,n[l].y=s.b2.y}else if(s.from_node_id===r&&s.b1){var u=o(s.b1),f=d(a,"b1");s.b1=m.c_plus_c(s.b1,u),n[f].x=s.b1.x,n[f].y=s.b1.y}}}),s=m.uniqueConcat([s,u.reaction_ids]),a.push(r)}(l);return{node_ids:a,reaction_ids:s}}function s(t,e,n,r,i){var o=c(t,n,i);return t.connected_segments.map(function(t){var a=n[t.reaction_id];if(!v.default.isUndefined(a)){var s=t.segment_id,c=a.segments[s];[["b1","from_node_id"],["b2","to_node_id"]].forEach(function(t){var n=t[0],o=t[1];if(c[o]===e&&c[n]){c[n]=m.c_plus_c(c[n],i);var a=r[d(s,n)];a.x=c[n].x,a.y=c[n].y}}),o.reaction_ids.indexOf(t.reaction_id)<0&&o.reaction_ids.push(t.reaction_id)}}),o}function c(t,e,n){t.x=t.x+n.x,t.y=t.y+n.y,t.label_x=t.label_x+n.x,t.label_y=t.label_y+n.y;var r=[];return t.connected_segments.map(function(i){var o=e[i.reaction_id];r.indexOf(i.reaction_id)<0&&(r.push(i.reaction_id),"midmarker"===t.node_type&&(o.label_x=o.label_x+n.x,o.label_y=o.label_y+n.y))}),{reaction_ids:r}}function l(t,e,n){var r=Math.floor(n/2);return t*(e-r+(e>=r))}function u(t,e,n,r){var i=Math.floor(r/2);return e+Math.abs(n-i+(n>=i))*t}function f(t,e,n,r,i,o){var a=n[0];n=[m.c_minus_c(n[0],a),m.c_minus_c(n[1],a)],r=m.c_minus_c(r,a);var s=t.count-1,c=void 0,f=void 0;t.is_primary?c=20:(c=10,f=t.index>e?t.index-1:t.index);var h=i-c,d=[{x:c,y:0},{x:h,y:0}],p=void 0,A=void 0,g=void 0,b=void 0;return t.coefficient<0!==o&&t.is_primary?(p={x:d[0].x,y:d[0].y},g={x:.6*r.x+.4*d[0].x,y:.6*r.y+.4*d[0].y},b={x:.25*r.x+.75*p.x,y:.25*r.y+.75*p.y},A={x:n[0].x,y:n[0].y}):t.coefficient<0!==o?(p={x:d[0].x+u(20,50,f,s),y:d[0].y+l(24,f,s)},g={x:.6*r.x+.4*d[0].x,y:.6*r.y+.4*d[0].y},b={x:.25*r.x+.75*p.x,y:.25*r.y+.75*p.y},A={x:n[0].x+u(20,50,f,s),y:n[0].y+l(80,f,s)}):t.coefficient>0!==o&&t.is_primary?(p={x:d[1].x,y:d[1].y},g={x:.6*r.x+.4*d[1].x,y:.6*r.y+.4*d[1].y},b={x:.25*r.x+.75*p.x,y:.25*r.y+.75*p.y},A={x:n[1].x,y:n[1].y}):t.coefficient>0!==o&&(p={x:d[1].x-u(20,50,f,s),y:d[1].y+l(24,f,s)},g={x:.6*r.x+.4*d[1].x,y:.6*r.y+.4*d[1].y},b={x:.25*r.x+.75*p.x,y:.25*r.y+.75*p.y},A={x:n[1].x-u(20,50,f,s),y:n[1].y+l(80,f,s)}),{b1:m.c_plus_c(a,g),b2:m.c_plus_c(a,b),circle:m.c_plus_c(a,A)}}function h(t,e,n){return{id:String(++t.text_labels),label:{text:e,x:n.x,y:n.y}}}function d(t,e){return t+"_"+e}function p(t){var e=[];for(var n in t){var r=t[n];for(var i in r.segments)!function(t){var n=r.segments[t];["b1","b2"].forEach(function(r){null!==n[r]&&e.push(d(t,r))})}(i)}return e}function A(t,e){var n={};for(var r in t)!function(r){var i=t[r];["b1","b2"].forEach(function(t){var o=i[t];if(null!==o){var a=d(r,t);n[a]={bezier:t,x:o.x,y:o.y,reaction_id:e,segment_id:r}}})}(r);return n}function g(t){var e={};for(var n in t){var r=t[n],i=A(r.segments,n);m.extend(e,i)}return e}e.__esModule=!0,e.getMetLabelLoc=i,e.newReaction=o,e.rotateNodes=a,e.moveNodeAndDependents=s,e.newTextLabel=h,e.bezierIdForSegmentId=d,e.bezierIdsForReactionIds=p,e.newBeziersForSegments=A,e.newBeziersForReactions=g;var b=n(3),m=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(b),y=n(4),v=function(t){return t&&t.__esModule?t:{default:t}}(y)},function(t,e,n){"use strict";e.__esModule=!0;var r={GaBuGeRd:[{type:"min",color:"#c8c8c8",size:12},{type:"value",value:.01,color:"#9696ff",size:16},{type:"value",value:20,color:"#209123",size:20},{type:"max",color:"#ff0000",size:25}],GaBuRd:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],RdYlBu:[{type:"min",color:"#d7191c",size:12},{type:"median",color:"#ffffbf",size:20},{type:"max",color:"#2c7bb6",size:25}],GeGaRd:[{type:"min",color:"#209123",size:25},{type:"value",value:0,color:"#c8c8c8",size:12},{type:"max",color:"#ff0000",size:25}],WhYlRd:[{type:"min",color:"#fffaf0",size:20},{type:"median",color:"#f1c470",size:30},{type:"max",color:"#800000",size:40}]};e.default=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t+1>e-1?0:t+1}function o(t,e){return t-1<0?e-1:t-1}e.__esModule=!0;var a=function(){function t(){r(this,t);this.stack=Array(40),this.current=-1,this.oldest=-1,this.newest=-1,this.endOfStack=!0,this.topOfStack=!0}return t.prototype.push=function(t,e){return this.current=i(this.current,this.stack.length),this.endOfStack?this.oldest=this.current:this.oldest===this.current&&(this.oldest=i(this.oldest,this.stack.length)),this.stack[this.current]={undo:t,redo:e},this.newest=this.current,this.topOfStack=!0,this.endOfStack=!1,{do:function(){return e()}}},t.prototype.undo=function(){if(this.endOfStack)return console.warn("End of stack.");this.stack[this.current].undo(),this.current===this.oldest?this.endOfStack=!0:this.current=o(this.current,this.stack.length),this.topOfStack=!1},t.prototype.redo=function(){if(this.topOfStack)return console.warn("Top of stack.");this.endOfStack||(this.current=i(this.current,this.stack.length)),this.stack[this.current].redo(),this.current===this.newest&&(this.topOfStack=!0),this.endOfStack=!1},t}();e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!e)return t;var n=l.default.isArray(t)?t:[t],r=n.reduce(function(t,e){var n=e.replace("ctrl+","meta+");return n!==e&&t.push(n),t},n.slice());return r.length===n.length?t:r}e.__esModule=!0;var a=n(33),s=r(a),c=n(4),l=r(c),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;i(this,t),this.assignedKeys=e,this.inputList=n,this.mousetrap=r?new s.default(r):new s.default,this.ctrlEqualsCmd=o,this.mousetrap.stopCallback=function(){return!1},this.escapeQueue=[],this.removeEscapeListener=null,this.settings=a,this.enabled=!0,this.update()}return t.prototype.update=function(){var t=this;if(this.mousetrap.reset(),this.enabled){for(var e in this.assignedKeys){(function(e){var n=t.assignedKeys[e];if(!n.key)return"continue";var r=o(n.key,t.ctrlEqualsCmd);n.inputList=t.inputList,t.mousetrap.bind(r,function(e){if(!n.requires||t.settings.get(n.requires)){var r=!1;if(n.ignoreWithInput)for(var i=0,o=n.inputList.length;i<o;i++){var a=n.inputList[i],s=l.default.isFunction(a)?a():a;if(null!==s&&s.is_visible()){r=!0;break}}r||(n.fn?n.fn.call(n.target):console.warn("No function for key: "+n.key),e.preventDefault())}},"keydown")})(e)}}},t.prototype.toggle=function(t){l.default.isUndefined(t)&&(t=!this.enabled),this.enabled=t,this.update()},t.prototype.addEnterListener=function(t,e){return this.addKeyListener("enter",t,e)},t.prototype._tryDropEscapeListener=function(){0===this.escapeQueue.length&&this.removeEscapeListener&&(this.removeEscapeListener(),this.removeEscapeListener=null)},t.prototype.addEscapeListener=function(t){var e=this;return null===this.removeEscapeListener&&(this.removeEscapeListener=this.addKeyListener("escape",function(){if(e.escapeQueue.length>0){e.escapeQueue.pop()()}e._tryDropEscapeListener()})),this.escapeQueue.push(t),function(){var n=e.escapeQueue.indexOf(t);n>-1&&e.escapeQueue.splice(n,1),e._tryDropEscapeListener()}},t.prototype.addKeyListener=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.mousetrap.unbind.bind(this.mousetrap,t);return this.mousetrap.bind(o(t,this.ctrlEqualsCmd),function(t){t.preventDefault(),e(),n&&r()}),r},t}();e.default=u},function(t,e,n){var r;!function(i,o,a){function s(t,e,n){if(t.addEventListener)return void t.addEventListener(e,n,!1);t.attachEvent("on"+e,n)}function c(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return _[t.which]?_[t.which]:w[t.which]?w[t.which]:String.fromCharCode(t.which).toLowerCase()}function l(t,e){return t.sort().join(",")===e.sort().join(",")}function u(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function f(t){if(t.preventDefault)return void t.preventDefault();t.returnValue=!1}function h(t){if(t.stopPropagation)return void t.stopPropagation();t.cancelBubble=!0}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function p(){if(!v){v={};for(var t in _)t>95&&t<112||_.hasOwnProperty(t)&&(v[_[t]]=t)}return v}function A(t,e,n){return n||(n=p()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function b(t,e){var n,r,i,o=[];for(n=g(t),i=0;i<n.length;++i)r=n[i],M[r]&&(r=M[r]),e&&"keypress"!=e&&x[r]&&(r=x[r],o.push("shift")),d(r)&&o.push(r);return e=A(r,o,e),{key:r,modifiers:o,action:e}}function m(t,e){return null!==t&&t!==o&&(t===e||m(t.parentNode,e))}function y(t){function e(t){t=t||{};var e,n=!1;for(e in v)t[e]?n=!0:v[e]=0;n||(x=!1)}function n(t,e,n,r,i,o){var a,s,c=[],u=n.type;if(!g._callbacks[t])return[];for("keyup"==u&&d(t)&&(e=[t]),a=0;a<g._callbacks[t].length;++a)if(s=g._callbacks[t][a],(r||!s.seq||v[s.seq]==s.level)&&u==s.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||l(e,s.modifiers))){var f=!r&&s.combo==i,h=r&&s.seq==r&&s.level==o;(f||h)&&g._callbacks[t].splice(a,1),c.push(s)}return c}function r(t,e,n,r){g.stopCallback(e,e.target||e.srcElement,n,r)||!1===t(e,n)&&(f(e),h(e))}function i(t){"number"!==typeof t.which&&(t.which=t.keyCode);var e=c(t);if(e)return"keyup"==t.type&&_===e?void(_=!1):void g.handleKey(e,u(t),t)}function a(){clearTimeout(m),m=setTimeout(e,1e3)}function p(t,n,i,o){function s(n){r(i,n,t),"keyup"!==o&&(_=c(n)),setTimeout(e,10)}v[t]=0;for(var l=0;l<n.length;++l){var u=l+1===n.length,f=u?s:function(e){return function(){x=e,++v[t],a()}}(o||b(n[l+1]).action);A(n[l],f,o,t,l)}}function A(t,e,r,i,o){g._directMap[t+":"+r]=e,t=t.replace(/\s+/g," ");var a,s=t.split(" ");if(s.length>1)return void p(t,s,e,r);a=b(t,r),g._callbacks[a.key]=g._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},i,t,o),g._callbacks[a.key][i?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:t})}var g=this;if(t=t||o,!(g instanceof y))return new y(t);g.target=t,g._callbacks={},g._directMap={};var m,v={},_=!1,w=!1,x=!1;g._handleKey=function(t,i,o){var a,s=n(t,i,o),c={},l=0,u=!1;for(a=0;a<s.length;++a)s[a].seq&&(l=Math.max(l,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=l)continue;u=!0,c[s[a].seq]=1,r(s[a].callback,o,s[a].combo,s[a].seq)}else u||r(s[a].callback,o,s[a].combo);var f="keypress"==o.type&&w;o.type!=x||d(t)||f||e(c),w=u&&"keydown"==o.type},g._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)A(t[r],e,n)},s(t,"keypress",i),s(t,"keydown",i),s(t,"keyup",i)}if(i){for(var v,_={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},E=1;E<20;++E)_[111+E]="f"+E;for(E=0;E<=9;++E)_[E+96]=E.toString();y.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},y.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},y.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},y.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},y.prototype.stopCallback=function(t,e){var n=this;if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(m(e,n.target))return!1;if("composedPath"in t&&"function"===typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(e=r)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},y.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},y.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(_[e]=t[e]);v=null},y.init=function(){var t=y(o);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),i.Mousetrap=y,t.exports&&(t.exports=y),void 0!==(r=function(){return y}.call(e,n,e,t))&&(t.exports=r)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){r(this,t),this.index={}}return t.prototype.insert=function(t,e,n,r){if(!n&&t in this.index)throw new Error("id is already in the index");if(r&&!("name"in e&&"data"in e))throw new Error("malformed record");this.index[t]=e},t.prototype.remove=function(t){return t in this.index&&(delete this.index[t],!0)},t.prototype.find=function(t){var e=RegExp(t,"i"),n=[];for(var r in this.index){var i=this.index[r];e.exec(i.name)&&n.push(i.data)}return n},t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n={savedValue:null,currentValue:null,lastStatus:null};return s.default.combineAsArray(t,e.toProperty(null)).scan(n,function(t,e){var n=t.savedValue,r=t.currentValue,i=t.lastStatus,o=e[0],a=e[1],s=i!==a;return s&&"hold"===a?{savedValue:r,currentValue:r,lastStatus:a}:s||"hold"!==a?s&&"abandon"===a?{savedValue:null,currentValue:n,lastStatus:a}:s&&"accept"===a?{savedValue:null,currentValue:r,lastStatus:a}:{savedValue:null,currentValue:o,lastStatus:a}:{savedValue:n,currentValue:o,lastStatus:a}}).skip(1).map(function(t){return t.currentValue}).skipDuplicates().toEventStream()}e.__esModule=!0;var a=n(19),s=r(a),c=n(4),l=r(c),u=function(){function t(e,n){var r=this;i(this,t),this._options=e,this.statusBus=new s.default.Bus;var o=l.default.chain(e).mapObject(function(t,e){var i=l.default.contains(n,e),o=r.createSetting(e,t,i);return[o.bus,o.stream,o.acceptedStream]}).pairs().map(function(t){var e=t[0],n=t[1];return[[e,n[0]],[e,n[1]],[e,n[2]]]}).unzip().map(function(t){return l.default.object(t)}).value();this.busses=o[0],this.streams=o[1],this.acceptedStreams=o[2]}return t.prototype.createSetting=function(t,e,n){var r=this,i=new s.default.Bus,a=n?o(i,this.statusBus):i.toEventStream(),c=a.sampledBy(this.statusBus.filter(function(t){return"accept"===t||"abandon"===t})).merge(a.filter(this.statusBus.map(function(t){return"accept"===t}).toProperty(!0)));return a.onValue(function(e){r._options[t]=e}),i.push(e),{bus:i,stream:a,acceptedStream:c}},t.prototype.set_conditional=function(t,e){return console.warn("set_conditional is deprecated. Use Settings.set() instead"),this.set(t,e)},t.prototype.set=function(t,e){if(!(t in this.busses))throw new Error("Invalid setting name "+t);this.busses[t].push(e)},t.prototype.get_option=function(t){return console.warn("get_option is deprecated. Use Settings.get() instead"),this.get(t)},t.prototype.get=function(t){return this._options[t]},t.prototype.holdChanges=function(){this.statusBus.push("hold")},t.prototype.abandonChanges=function(){this.statusBus.push("abandon")},t.prototype.acceptChanges=function(){this.statusBus.push("accept")},t}();e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,c.render)((0,c.h)(l,{component:t,connectSetStateFn:n,ref:e,refPassthrough:i}),r,r.children.length>0?r.firstChild:void 0)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(5),l=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.state={},o}return o(e,t),e.prototype.componentDidMount=function(){var t=this;this.props.connectSetStateFn(function(e){return t.setState(e)})},e.prototype.is_visible=function(){return this.state.display},e.prototype.render=function(){var t=this;return this.state.display?(0,c.h)(this.props.component,s({setDisplay:function(e){return t.setState({display:e})},ref:this.props.refPassthrough},this.state)):null},e}(c.Component);e.default=a},function(t,e){t.exports="data:application/vnd.ms-fontobject;base64,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"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.libs=e.EscherMapModel=e.EscherMapView=e.ZoomContainer=e.dataStyles=e.Settings=e.SearchIndex=e.utils=e.CobraModel=e.UndoStack=e.DataMenu=e.KeyManager=e.Behavior=e.Map=e.default=e.Builder=e.version=void 0;var i=n(20);Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return r(i).default}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r(i).default}});var o=n(27);Object.defineProperty(e,"Map",{enumerable:!0,get:function(){return r(o).default}});var a=n(28);Object.defineProperty(e,"Behavior",{enumerable:!0,get:function(){return r(a).default}});var s=n(32);Object.defineProperty(e,"KeyManager",{enumerable:!0,get:function(){return r(s).default}});var c=n(87);Object.defineProperty(e,"DataMenu",{enumerable:!0,get:function(){return r(c).default}});var l=n(31);Object.defineProperty(e,"UndoStack",{enumerable:!0,get:function(){return r(l).default}});var u=n(18);Object.defineProperty(e,"CobraModel",{enumerable:!0,get:function(){return r(u).default}});var f=n(3);Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return r(f).default}});var h=n(34);Object.defineProperty(e,"SearchIndex",{enumerable:!0,get:function(){return r(h).default}});var d=n(35);Object.defineProperty(e,"Settings",{enumerable:!0,get:function(){return r(d).default}});var p=n(12);Object.defineProperty(e,"dataStyles",{enumerable:!0,get:function(){return r(p).default}});var A=n(26);Object.defineProperty(e,"ZoomContainer",{enumerable:!0,get:function(){return r(A).default}});var g=n(88);Object.defineProperty(e,"EscherMapView",{enumerable:!0,get:function(){return g.EscherMapView}}),Object.defineProperty(e,"EscherMapModel",{enumerable:!0,get:function(){return g.EscherMapModel}});var b=n(4),m=r(b),y=n(5),v=r(y),_=n(19),w=r(_),x=n(33),M=r(x),E=n(21),C=r(E),B=n(0),I=n(16);e.version="1.7.1",e.libs={_:m.default,underscore:m.default,preact:v.default,baconjs:w.default,mousetrap:M.default,vkbeautify:C.default,d3_selection:B.selection,d3_select:B.select,d3_json:I.json}},function(t,e,n){var r,i=i||function(t){"use strict";if(!("undefined"===typeof t||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=function(t){var e=function(){"string"===typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},u=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"===typeof i)try{i.call(t,n||t)}catch(t){c(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,c,h){h||(e=f(e));var d,p=this,A=e.type,g="application/octet-stream"===A,b=function(){u(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=c,o(r),b(),l(d),p.readyState=p.DONE});!function(){if((s||g&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,b()},r.readAsDataURL(e),void(p.readyState=p.INIT)}if(d||(d=n().createObjectURL(e)),g)t.location.href=d;else{t.open(d,"_blank")||(t.location.href=d)}p.readyState=p.DONE,b(),l(d)}()},d=h.prototype,p=function(t,e,n){return new h(t,e||t.name||"download",n)};return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,p)}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);t.exports?t.exports.saveAs=i:null!==n(24)&&null!==n(25)&&void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(3),a=r(o),s=n(17),c=r(s),l=n(41),u=r(l),f=n(42),h=r(f),d=n(18),p=r(d),A=n(4),g=r(A),b=n(0),m=function(){function t(e,n,r,o){var a=this;i(this,t);var s=e.append("div").attr("id","rxn-input");this.placed_div=(0,c.default)(s,n,{x:240,y:0}),this.placed_div.hide(),this.completely=(0,u.default)(s.node(),{backgroundColor:"#eee"}),s.append("button").attr("class","button input-close-button").text("\xd7").on("mousedown",function(){return a.hideDropdown()}),this.map=n;this.direction_arrow=new h.default(n.sel),this.direction_arrow.setRotation(90),this.setUpMapCallbacks(n),this.zoomContainer=r,this.setUpZoomCallbacks(r),this.settings=o,this.toggle(!1),this.target_coords=null}return t.prototype.setUpMapCallbacks=function(t){var e=this;t.callback_manager.set("select_metabolite_with_id.input",function(t,n){if(e.is_active){e.reload(t,n,!1)&&e.showDropdown(n)}e.hideTarget()}),t.callback_manager.set("select_selectable.input",function(t,n,r){if(e.hideTarget(),1===t&&e.is_active&&r){e.reload(n,r,!1)&&e.showDropdown(r)}else e.toggle(!1)}),t.callback_manager.set("deselect_nodes",function(){e.direction_arrow.hide(),e.hideDropdown()}),t.callback_manager.set("before_svg_export",function(){e.direction_arrow.hide(),e.hideTarget()})},t.prototype.setUpZoomCallbacks=function(t){},t.prototype.is_visible=function(){return this.placed_div.is_visible()},t.prototype.toggle=function(t){if(this.is_active=void 0===t?!this.is_active:t,this.is_active){this.toggleStartReactionListener(!0);var e=!0;g.default.isNull(this.target_coords)?e=this.reloadAtSelected():this.placed_div.place(this.target_coords),e&&(this.showDropdown(),this.map.set_status("Click on the canvas or an existing metabolite")),this.direction_arrow.show()}else this.toggleStartReactionListener(!1),this.hideDropdown(),this.map.set_status(null),this.direction_arrow.hide()},t.prototype.showDropdown=function(t){var e=this;this.clear_escape=this.map.key_manager.addEscapeListener(function(){return e.hideDropdown()},!0),this.completely.input.blur(),this.completely.repaint(),this.completely.setText(""),this.completely.input.focus()},t.prototype.hideDropdown=function(){this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.placed_div.hide(),this.completely.input.blur(),this.completely.hideDropDown()},t.prototype.place=function(t){this.placed_div.place(t),this.direction_arrow.setLocation(t),this.direction_arrow.show()},t.prototype.reloadAtSelected=function(){this.map.deselect_text_labels();var t=this.map.select_single_node();if(null===t)return!1;var e={x:t.x,y:t.y};return this.reload(t,e,!1)},t.prototype.alreadyDrawn=function(t,e){for(var n in e)if(e[n].bigg_id===t)return!0;return!1},t.prototype.reload=function(t,e,n){var r=this;if(!n&&!t)return void console.error("No selected node and not starting from scratch");if(this.place(e),null===this.map.cobra_model)return this.completely.setText("Cannot add: No model."),!1;var i="name"===this.settings.get("identifiers_on_map"),o=this.settings.get("allow_building_duplicate_reactions"),s=[],c=this.map.cobra_model.reactions,l=this.map.cobra_model.metabolites,u=this.map.reactions,f=this.map.has_data_on_reactions,h=t?i?t.name:t.bigg_id:"",d={};for(var A in c){var b=c[A],m=b.name,y=i?m:A;if(o||!this.alreadyDrawn(A,u))for(var v in b.metabolites)if(n||v===t.bigg_id){if(A in d)continue;var _={},w=[],x=void 0;if(i)for(x in b.metabolites){var M=l[x].name;_[M]=b.metabolites[x],w.push(M)}else{_=a.default.clone(b.metabolites);for(x in b.metabolites)w.push(x)}var E=g.default.flatten(b.genes.map(function(t){return[t.name,t.biggId]})),C=p.default.build_reaction_string(_,b.reversibility,b.lower_bound,b.upper_bound),B=[y].concat(w).concat(E).filter(function(t){return t});f?s.push({reaction_data:b.data,html:"<b>"+y+"</b>: "+b.data_string,matches:B,id:A}):s.push({html:"<b>"+y+"</b>\t"+function(t,e){return t.replace(new RegExp("(^| )("+e.join("|")+")($| )","g"),"$1<b>$2</b>$3")}(C,[h]),matches:B,id:A}),d[A]=!0}}var I=f?function(t,e){return Math.abs(t.reaction_data)>Math.abs(e.reaction_data)?-1:1}:function(t,e){return t.html.toLowerCase()<e.html.toLowerCase()?-1:1};this.completely.options=s.sort(I),this.completely.setText("");var k=function(i){if(null!==i)if(n)r.map.new_reaction_from_scratch(i,e,r.direction_arrow.getRotation());else{if(!(t.node_id in r.map.nodes))return console.error("Selected node no longer exists"),void r.hideDropdown();r.map.new_reaction_for_metabolite(i,t.node_id,r.direction_arrow.getRotation())}};return this.completely.onEnter=function(t){this.setText(""),this.onChange(""),k(t)},!0},t.prototype.toggleStartReactionListener=function(t){var e=this;if(void 0===t)this.start_reaction_listener=!this.start_reaction_listener;else{if(this.start_reaction_listener===t)return;this.start_reaction_listener=t}if(this.start_reaction_listener){var n=this.map.sel.node();this.map.sel.on("click.start_reaction",function(){if(!e.direction_arrow.dragging){var t={x:(0,b.mouse)(n)[0],y:(0,b.mouse)(n)[1]};e.map.deselect_nodes(),e.map.deselect_text_labels();e.reload(null,t,!0)&&e.showDropdown(t),e.showTarget(e.map,t)}}),this.map.sel.style("cursor","pointer")}else this.map.sel.on("click.start_reaction",null),this.map.sel.style("cursor",null),this.hideTarget()},t.prototype.hideTarget=function(){this.target_coords&&this.map.sel.selectAll(".start-reaction-target").remove(),this.target_coords=null},t.prototype.showTarget=function(t,e){var n=t.sel.selectAll(".start-reaction-target").data([12,5]);n.enter().append("circle").classed("start-reaction-target",!0).attr("r",function(t){return t}).style("stroke-width",4).merge(n).style("visibility","visible").attr("transform","translate("+e.x+","+e.y+")"),this.target_coords=e},t}();e.default=m},function(t,e,n){"use strict";var r=n(3),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r);t.exports=function(t,e){function n(t){return void 0===d&&(d=r.createElement("span"),d.style.visibility="hidden",d.style.position="fixed",d.style.outline="0",d.style.margin="0",d.style.padding="0",d.style.border="0",d.style.left="0",d.style.whiteSpace="pre",d.style.fontSize=e.fontSize,d.style.fontFamily=e.fontFamily,d.style.fontWeight="normal",r.body.appendChild(d)),d.innerHTML=String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),d.getBoundingClientRect().right}var r=i.get_document(t),o=i.get_window(t);e=e||{},e.fontSize=e.fontSize||"13px",e.fontFamily=e.fontFamily||"sans-serif",e.promptInnerHTML=e.promptInnerHTML||"",e.color=e.color||"#333",e.hintColor=e.hintColor||"#aaa",e.backgroundColor=e.backgroundColor||"#fff",e.dropDownBorderColor=e.dropDownBorderColor||"#aaa",e.dropDownZIndex=e.dropDownZIndex||"100",e.dropDownOnHoverBackgroundColor=e.dropDownOnHoverBackgroundColor||"#ddd";var a=r.createElement("input");a.type="text",a.spellcheck=!1,a.style.fontSize=e.fontSize,a.style.fontFamily=e.fontFamily,a.style.color=e.color,a.style.backgroundColor=e.backgroundColor,a.style.width="100%",a.style.outline="0",a.style.border="0",a.style.margin="0",a.style.padding="0";var s=a.cloneNode();s.disabled="",s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.borderColor="transparent",s.style.boxShadow="none",s.style.color=e.hintColor,a.style.backgroundColor="transparent",a.style.verticalAlign="top",a.style.position="relative";var c=r.createElement("div");c.style.position="relative",c.style.outline="0",c.style.border="0",c.style.margin="0",c.style.padding="0";var l=r.createElement("div");if(l.style.position="absolute",l.style.outline="0",l.style.margin="0",l.style.padding="0",l.style.border="0",l.style.fontSize=e.fontSize,l.style.fontFamily=e.fontFamily,l.style.color=e.color,l.style.backgroundColor=e.backgroundColor,l.style.top="0",l.style.left="0",l.style.overflow="hidden",l.innerHTML=e.promptInnerHTML,l.style.background="transparent",void 0===r.body)throw"thisDocument.body is undefined. The library was wired up incorrectly.";r.body.appendChild(l);var u=l.getBoundingClientRect().right;c.appendChild(l),l.style.visibility="visible",l.style.left="-"+u+"px",c.style.marginLeft=u+"px",c.appendChild(s),c.appendChild(a);var f=r.createElement("div");f.style.position="absolute",f.style.visibility="hidden",f.style.outline="0",f.style.margin="0",f.style.padding="0",f.style.textAlign="left",f.style.fontSize=e.fontSize,f.style.fontFamily=e.fontFamily,f.style.backgroundColor=e.backgroundColor,f.style.zIndex=e.dropDownZIndex,f.style.cursor="default",f.style.borderStyle="solid",f.style.borderWidth="1px",f.style.borderColor=e.dropDownBorderColor,f.style.overflowX="hidden",f.style.whiteSpace="pre",f.style.overflowY="scroll";var h=function(t){var n=[],i=0,a=-1,s=null,c=function(){this.style.outline="1px solid #ddd"},l=function(){this.style.outline="0"},u=function(t){t.preventDefault(),f.onmouseselection(this.id)},f={hide:function(){t.style.visibility="hidden"},refresh:function(a,s){t.style.visibility="hidden",i=0,t.innerHTML="";var h=o.innerHeight||r.documentElement.clientHeight,d=t.parentNode.getBoundingClientRect(),p=d.top-6,A=h-d.bottom-6;n=[];for(var b=0;b<s.length;b++){var m=s[b].matches.filter(function(t){return 0==t.toLowerCase().indexOf(a.toLowerCase())});if(0!=m.length){var y=r.createElement("div");if(y.style.color=e.color,y.onmouseover=c,y.onmouseout=l,y.onmousedown=function(t){t.preventDefault()},y.ondblclick=u,y.__hint=m[0],y.id=s[b].id,y.innerHTML=s[b].html,n.push(y),t.appendChild(y),n.length>=g.display_limit){var v=r.createElement("div");v.innerHTML=" "+(s.length-n.length)+" more",n.push(v),t.appendChild(v);break}}}0!==n.length&&(f.highlight(0),p>3*A?(t.style.maxHeight=p+"px",t.style.top="",t.style.bottom="100%"):(t.style.top="100%",t.style.bottom="",t.style.maxHeight=A+"px"),t.style.visibility="visible")},highlight:function(t){-1!=a&&n[a]&&(n[a].style.backgroundColor=e.backgroundColor),n[t].style.backgroundColor=e.dropDownOnHoverBackgroundColor,a=t,s=n[t]},move:function(e){return"hidden"===t.style.visibility?"":i+e===-1||i+e===n.length?n[i].__hint:(i+=e,f.highlight(i),n[i].__hint)},onmouseselection:function(){},get_current_row:function(){return s}};return f}(f);h.onmouseselection=function(t){g.onEnter(t),g.input.focus()},c.appendChild(f),t.appendChild(c);var d,p,A,g={get_hint:function(t){return t},display_limit:1e3,onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},onChange:function(){g.repaint()},startFrom:0,options:[],wrapper:c,input:a,hint:s,dropDown:f,prompt:l,setText:function(t){s.value=t,a.value=t},getText:function(){return a.value},hideDropDown:function(){h.hide()},repaint:function(){var t=a.value,e=g.startFrom,r=g.options,i=r.length,o=t.substring(e);p=t.substring(0,e),s.value="";for(var c=0;c<i;c++){var l=r[c].matches.filter(function(t){return 0==t.toLowerCase().indexOf(o.toLowerCase())});if(0!=l.length){s.value=g.get_hint(l[0]);break}}f.style.left=n(p)+"px",h.refresh(o,g.options)}};!function(t,e){A=t.value;var n=function(){var n=t.value;A!==n&&(A=n,e(n))};t.addEventListener("input",n,!1),t.addEventListener("keyup",n,!1),t.addEventListener("change",n,!1)}(a,function(t){g.onChange(t),g.repaint()});var b=function(t){t=t||o.event;var e=t.keyCode;if(33!=e&&34!=e)if(39!=e&&35!=e&&9!=e){if(13==e){var n=h.get_current_row().id;return void g.onEnter(n)}if(40==e){var r=h.move(1);return""==r&&g.onArrowDown(),void(s.value=g.get_hint(r))}if(38==e){var r=h.move(-1);return""==r&&g.onArrowUp(),s.value=g.get_hint(r),t.preventDefault(),void t.stopPropagation()}s.value=""}else if(9==e&&(t.preventDefault(),t.stopPropagation(),0==s.value.length&&g.onTab()),s.value.length>0){a.value=s.value;var i=A!=a.value;A=a.value,i&&g.onChange(a.value)}};return a.addEventListener("keydown",b,!1),g}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(3),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(7),s=n(0),c=function(){function t(e){r(this,t),this.arrowContainer=e.append("g").attr("id","direction-arrow-container").attr("transform","translate(0,0)rotate(0)"),this.arrow=this.arrowContainer.append("path").classed("direction-arrow",!0).attr("d","M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z").style("visibility","hidden").attr("transform","translate(30,0)scale(2.5)"),this.sel=e,this.center={x:0,y:0},this._setupDrag(),this.dragging=!1,this.isVisible=!1,this.show()}return t.prototype.setLocation=function(t){this.center=t;var e=o.d3_transform_catch(this.arrowContainer.attr("transform"));this.arrowContainer.attr("transform","translate("+t.x+","+t.y+")rotate("+e.rotate+")")},t.prototype.setRotation=function(t){var e=o.d3_transform_catch(this.arrowContainer.attr("transform"));this.arrowContainer.attr("transform","translate("+e.translate+")rotate("+t+")")},t.prototype.displaceRotation=function(t){var e=o.d3_transform_catch(this.arrowContainer.attr("transform"));this.arrowContainer.attr("transform","translate("+e.translate+")rotate("+(e.rotate+t)+")")},t.prototype.getRotation=function(){return o.d3_transform_catch(this.arrowContainer.attr("transform")).rotate},t.prototype.toggle=function(t){this.isVisible=void 0===t?!this.isVisible:t,this.arrow.style("visibility",this.isVisible?"visible":"hidden")},t.prototype.show=function(){this.toggle(!0)},t.prototype.hide=function(){this.toggle(!1)},t.prototype.right=function(){this.setRotation(0)},t.prototype.down=function(){this.setRotation(90)},t.prototype.left=function(){this.setRotation(180)},t.prototype.up=function(){this.setRotation(270)},t.prototype._setupDrag=function(){var t=this,e=(0,a.drag)().on("start",function(e){s.event.sourceEvent.stopPropagation(),t.dragging=!0}).on("drag",function(e){var n={x:s.event.dx,y:s.event.dy},r={x:(0,s.mouse)(t.sel.node())[0],y:(0,s.mouse)(t.sel.node())[1]},i=o.angle_for_event(n,r,t.center);t.displaceRotation(o.to_degrees(i))}).on("end",function(e){setTimeout(function(){t.dragging=!1},200)});this.arrowContainer.call(e)},t}();e.default=c},function(t,e,n){"use strict";function r(t,e,n){this.behavior=t,this.settings=e,this.map=n,this.callback_manager=new _}function i(t){var e=t.append("rect").attr("class","membrane");return this.callback_manager.run("create_membrane",this,t),e}function o(t){t.attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).style("stroke-width",function(t){return 10}).attr("rx",function(t){return 20}).attr("ry",function(t){return 20}),this.callback_manager.run("update_membrane",this,t)}function a(t){var e=t.append("g").attr("id",function(t){return"r"+t.reaction_id}).attr("class","reaction");return this.create_reaction_label(e),this.callback_manager.run("create_reaction",this,t),e}function s(t,e,n,r,i,o){t.select(".reaction-label-group").call(function(t){return this.update_reaction_label(t,o)}.bind(this)),y.draw_a_nested_object(t,".segment-group","segments","segment_id",this.create_segment.bind(this),function(t){return this.update_segment(t,e,n,r,i,o)}.bind(this),function(t){t.remove()}),this.callback_manager.run("update_reaction",this,t)}function c(t,e){var n=t.append("g").attr("class","reaction-label-group");return n.append("text").attr("class","reaction-label label"),n.append("g").attr("class","all-genes-label-group"),this.callback_manager.run("create_reaction_label",this,t),n}function l(t,e){var n=(w(".4g"),this.settings.get("identifiers_on_map")),r=this.settings.get("reaction_styles"),i=this.settings.get("show_gene_reaction_rules"),o=this.settings.get("hide_all_labels"),a=this.settings.get("gene_font_size"),s=this.behavior.reactionLabelMouseover,c=this.behavior.reactionLabelMouseout,l=this.behavior.reactionLabelTouch,u=this.behavior.geneLabelMouseover,f=this.behavior.geneLabelMouseout,h=this.behavior.geneLabelTouch;t.attr("transform",function(t){return"translate("+t.label_x+","+t.label_y+")"}).call(this.behavior.turnOffDrag).call(this.behavior.reactionLabelDrag);var d=t.select(".reaction-label").attr("visibility",o?"hidden":"visible");o||d.text(function(t){var i=t[n];return e&&-1!==r.indexOf("text")&&(i+=" "+t.data_string),i}).on("mouseover",s).on("mouseout",c).on("touchend",l);var p=function(t,e){return t+1.5*a*(e+1)},A=t.select(".all-genes-label-group").selectAll(".gene-label-group").data(function(t){var e="gene_string"in t&&null!==t.gene_string&&i&&!o&&-1!==r.indexOf("text"),a="gene_reaction_rule"in t&&null!==t.gene_reaction_rule&&i&&!o;if(e)return console.warn("Showing gene_string. See TODO in source."),t.gene_string;if(a){var s=v.gene_string_for_data(t.gene_reaction_rule,null,t.genes,null,n,null);return s.forEach(function(e,n){e.label_x=t.label_x,e.label_y=p(t.label_y,n)}),s}return[]}),g=A.enter().append("g").attr("class","gene-label-group");g.append("text").attr("class","gene-label").style("font-size",a+"px");var b=g.merge(A);b.attr("transform",function(t,e){return"translate(0, "+p(0,e)+")"}),b.select("text").text(function(t){return t.text}).on("mouseover",u).on("mouseout",f).on("touchend",h),A.exit().remove(),this.callback_manager.run("update_reaction_label",this,t)}function u(t){var e=t.append("g").attr("class","segment-group").attr("id",function(t){return"s"+t.segment_id});return e.append("path").attr("class","segment"),e.append("g").attr("class","arrowheads"),e.append("g").attr("class","stoichiometry-labels"),this.callback_manager.run("create_segment",this,t),e}function f(t,e,n,r,i,o){var a=this.settings.get("reaction_styles"),s=o&&-1!==a.indexOf("size"),c=o&&-1!==a.indexOf("color"),l=this.settings.get("reaction_no_data_size"),u=this.settings.get("reaction_no_data_color"),f=this.settings.get("highlight_missing"),h=this.settings.get("hide_secondary_metabolites"),d=this.settings.get("primary_metabolite_radius"),p=this.settings.get("secondary_metabolite_radius"),A=this.behavior.reactionObjectMouseover,g=this.behavior.reactionObjectMouseout,b=function(t,n){var r=20,i=13;return n&&(i=null===t?l:e.reaction_size(t),isNaN(i)&&(i=l),r=2*i),{width:r,height:i}},v=function(t,e,n,r){var i=e||n>0?t.height:0;return(r?d:p)+i+10};t.selectAll(".segment").datum(function(){return Object.assign({},this.parentNode.__data__,this.parentNode.parentNode.__data__)}).style("visibility",function(t){var e=r[t.from_node_id],n=r[t.to_node_id];return h&&("metabolite"===n.node_type&&!n.node_is_primary||"metabolite"===e.node_type&&!e.node_is_primary)?"hidden":null}).attr("d",function(t){if(null===t.from_node_id||null===t.to_node_id)return null;var e=r[t.from_node_id],n=r[t.to_node_id],i=t.b1,o=t.b2;if("metabolite"===e.node_type){var a=b(t.data,s),c=v(a,t.reversibility,t.from_node_coefficient,e.node_is_primary),l=null===i?n:i;e=m(c,e,l,"start")}if("metabolite"==n.node_type){var a=b(t.data,s),c=v(a,t.reversibility,t.to_node_coefficient,n.node_is_primary),l=null===o?e:o;n=m(c,l,n,"end")}var u="M"+e.x+","+e.y+" ";return null!==i&&null!==o&&(u+="C"+i.x+","+i.y+" "+o.x+","+o.y+" "),u+=n.x+","+n.y}).style("stroke",function(t){var r=this.parentNode.parentNode.__data__.bigg_id;if(f&&null!==n&&!(r in n.reactions))return"red";if(c){var i=t.data;return null===i?u:e.reaction_color(i)}return null}).style("stroke-width",function(t){if(s){var n=t.data;return null===n?l:e.reaction_size(n)}return null}).attr("pointer-events","visibleStroke").on("mouseover",A).on("mouseout",g);var _=t.select(".arrowheads").selectAll(".arrowhead").data(function(t){var e=[],n=r[t.from_node_id],i=t.b1,o=r[t.to_node_id],a=t.b2;if(h&&("metabolite"===o.node_type&&!o.node_is_primary||"metabolite"===n.node_type&&!n.node_is_primary))return e;if("metabolite"===n.node_type&&(t.reversibility||t.from_node_coefficient>0)){var c=b(t.data,s),l=v(c,t.reversibility,t.from_node_coefficient,n.node_is_primary),u=null===i?o:i,f=y.to_degrees(y.get_angle([n,u]))+90,d=m(l,n,u,"start");e.push({data:t.data,x:d.x,y:d.y,size:c,rotation:f,show_arrowhead_flux:t.from_node_coefficient<0===t.reverse_flux||0===t.data})}if("metabolite"===o.node_type&&(t.reversibility||t.to_node_coefficient>0)){var c=b(t.data,s),l=v(c,t.reversibility,t.to_node_coefficient,o.node_is_primary),u=null===a?n:a,f=y.to_degrees(y.get_angle([o,u]))+90,d=m(l,u,o,"end");e.push({data:t.data,x:d.x,y:d.y,size:c,rotation:f,show_arrowhead_flux:t.to_node_coefficient<0===t.reverse_flux||0===t.data})}if(t.unconnected_segment_with_arrow){var c=b(t.data,s),u=o,f=y.to_degrees(y.get_angle([n,u]))+90;e.push({data:t.data,x:n.x,y:n.y,size:c,rotation:f,show_arrowhead_flux:t.to_node_coefficient<0===t.reverse_flux||0===t.data})}return e});_.enter().append("path").classed("arrowhead",!0).merge(_).attr("d",function(t){return"M"+[-t.size.width/2,0]+" L"+[0,t.size.height]+" L"+[t.size.width/2,0]+" Z"}).attr("transform",function(t){return"translate("+t.x+","+t.y+")rotate("+t.rotation+")"}).style("fill",function(t){if(c){if(t.show_arrowhead_flux){var n=t.data;return null===n?u:e.reaction_color(n)}return"#FFFFFF"}return null}).style("stroke",function(t){if(c){var n=t.data;return null===n?u:e.reaction_color(n)}return null}),_.exit().remove();var w=t.select(".stoichiometry-labels").selectAll(".stoichiometry-label").data(function(t){var e=[],n=r[t.from_node_id],i=t.b1,o=r[t.to_node_id],a=t.b2;if(h&&("metabolite"==o.node_type&&!o.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary))return e;if("metabolite"===n.node_type&&1!=Math.abs(t.from_node_coefficient)){var c=b(t.data,s),l=1.5*v(c,!1,0,o.node_is_primary),u=null===i?o:i;u=y.c_plus_c(u,y.rotate_coords(u,.5,n));var f=m(l,n,u,"start");f=y.c_plus_c(f,{x:0,y:7}),e.push({coefficient:Math.abs(t.from_node_coefficient),x:f.x,y:f.y,data:t.data})}if("metabolite"===o.node_type&&1!==Math.abs(t.to_node_coefficient)){var c=b(t.data,s),l=1.5*v(c,!1,0,o.node_is_primary),u=null===a?n:a;u=y.c_plus_c(u,y.rotate_coords(u,.5,o));var f=m(l,u,o,"end");f=y.c_plus_c(f,{x:0,y:7}),e.push({coefficient:Math.abs(t.to_node_coefficient),x:f.x,y:f.y,data:t.data})}return e});w.enter().append("text").attr("class","stoichiometry-label").attr("text-anchor","middle").merge(w).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).text(function(t){return t.coefficient}).style("fill",function(t){if(c){var n=t.data;return null===n?u:e.reaction_color(n)}return null}),w.exit().remove(),this.callback_manager.run("update_segment",this,t)}function h(t){var e=t.append("g").attr("id",function(t){return t.bezier_id}).attr("class",function(t){return"bezier"});return e.append("path").attr("class","connect-line"),e.append("circle").attr("class",function(t){return"bezier-circle "+t.bezier}).style("stroke-width",String(1)+"px").attr("r",String(7)+"px"),this.callback_manager.run("create_bezier",this,t),e}function d(t,e,n,r,i,o,a){var s=this.settings.get("hide_secondary_metabolites");if(!e)return void t.attr("visibility","hidden");t.attr("visibility","visible"),t.style("visibility",function(t){var e=a[t.reaction_id].segments[t.segment_id],n=o[e.from_node_id],r=o[e.to_node_id];return s&&("metabolite"===r.node_type&&!r.node_is_primary||"metabolite"===n.node_type&&!n.node_is_primary)?"hidden":null}),t.select(".bezier-circle").call(this.behavior.turnOffDrag).call(n).on("mouseover",r).on("mouseout",i).attr("transform",function(t){return null===t.x||null===t.y?"":"translate("+t.x+","+t.y+")"}),t.select(".connect-line").attr("d",function(t){var e=a[t.reaction_id].segments[t.segment_id],n="b1"===t.bezier?o[e.from_node_id]:o[e.to_node_id];return null===t.x||null===t.y||null===n.x||null===n.y?"":"M"+t.x+", "+t.y+" "+n.x+","+n.y}),this.callback_manager.run("update_bezier",this,t)}function p(t,e,n){var r=t.append("g").attr("class","node").attr("id",function(t){return"n"+t.node_id});return r.append("circle").attr("class",function(t){var e="node-circle";return null!==t.node_type&&(e+=" "+t.node_type+"-circle"),e}),r.filter(function(t){return"metabolite"===t.node_type}).append("text").attr("class","node-label label"),this.callback_manager.run("create_node",this,t),r}function A(t,e,n,r,i,o,a,s,c){function l(t,e){return"metabolite"===t.node_type&&e&&!t.node_is_primary}var u=this.settings.get("hide_secondary_metabolites"),f=this.settings.get("primary_metabolite_radius"),h=this.settings.get("secondary_metabolite_radius"),d=this.settings.get("marker_radius"),p=this.settings.get("hide_all_labels"),A=this.settings.get("identifiers_on_map"),g=this.settings.get("metabolite_styles"),b={color:this.settings.get("metabolite_no_data_color"),size:this.settings.get("metabolite_no_data_size")},m=this.behavior.nodeLabelMouseover,y=this.behavior.nodeLabelMouseout,v=this.behavior.nodeLabelTouch,_=this.behavior.nodeObjectMouseover,w=this.behavior.nodeObjectMouseout,x=(t.select(".node-circle").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).style("visibility",function(t){return l(t,u)?"hidden":null}).attr("r",function(t){if("metabolite"===t.node_type){if(n&&-1!==g.indexOf("size")){var r=t.data;return null===r?b.size:e.metabolite_size(r)}return t.node_is_primary?f:h}return d}).style("fill",function(t){if("metabolite"===t.node_type){if(n&&-1!==g.indexOf("color")){var r=t.data;return null===r?b.color:e.metabolite_color(r)}return null}return null}).call(this.behavior.turnOffDrag).call(s).on("mousedown",r).on("click",i).on("mouseover",_).on("mouseout",w),t.select(".node-label").attr("visibility",p?"hidden":"visible"));p||x.style("visibility",function(t){return l(t,u)?"hidden":null}).attr("transform",function(t){return"translate("+t.label_x+","+t.label_y+")"}).text(function(t){var e=t[A];return n&&-1!==g.indexOf("text")&&(e+=" "+t.data_string),e}).call(this.behavior.turnOffDrag).call(c).on("mouseover",m).on("mouseout",y).on("touchend",v),this.callback_manager.run("update_node",this,t)}function g(t){var e=t.append("g").attr("id",function(t){return"l"+t.text_label_id}).attr("class","text-label");return e.append("text").attr("class","label"),this.callback_manager.run("create_text_label",this,t),e}function b(t){var e=this.behavior.textLabelMousedown,n=this.behavior.textLabelClick,r=this.behavior.turnOffDrag,i=this.behavior.selectableDrag;t.select(".label").text(function(t){return t.text}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).on("mousedown",e).on("click",n).call(r).call(i),this.callback_manager.run("update_text_label",this,t)}function m(t,e,n,r){var i=t,o=y.distance(e,n);return i&&o?"start"===r?{x:e.x+i*(n.x-e.x)/o,y:e.y+i*(n.y-e.y)/o}:"end"===r?{x:n.x-i*(n.x-e.x)/o,y:n.y-i*(n.y-e.y)/o}:void console.error("bad displace value: "+r):(console.warn("No space for displacement"),{x:e.x,y:e.y})}var y=n(3),v=n(12),_=n(13).default,w=n(6).format,x=y.make_class();x.prototype={init:r,create_reaction:a,update_reaction:s,create_bezier:h,update_bezier:d,create_node:p,update_node:A,create_text_label:g,update_text_label:b,create_membrane:i,update_membrane:o,create_reaction_label:c,update_reaction_label:l,create_segment:u,update_segment:f},t.exports=x},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(30),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(90),s=function(){function t(){r(this,t),this.x=(0,a.scaleLinear)(),this.y=(0,a.scaleLinear)(),this.x_size=(0,a.scaleLinear)(),this.y_size=(0,a.scaleLinear)(),this.size=(0,a.scaleLinear)(),this.reaction_color=(0,a.scaleLinear)().clamp(!0),this.reaction_size=(0,a.scaleLinear)().clamp(!0),this.metabolite_color=(0,a.scaleLinear)().clamp(!0),this.metabolite_size=(0,a.scaleLinear)().clamp(!0)}return t.prototype.connectToSettings=function(t,e,n){var r=this;["reaction","metabolite"].forEach(function(i){var a=i+"_scale",s=i+"_scale_preset",c=t.get(s),l=t.get(a);c&&l&&l!==o.default[c]?(console.warn("Both "+a+" and "+s+" are defined. Ignoring "+s+". Set "+s+' to "false" to hide this warning.'),t.set(s,null)):c?t.set(a,o.default[c]):l||console.error("Must provide a "+a+" or "+s),t.get(a)&&t.get(a).length<2?console.error("Bad value for option "+a+". Scales must have at least 2 points."):r.setScale(i,a,n),t.streams[a].onValue(function(e){e&&e!==o.default[t.get(s)]&&t.set(s,null),r.setScale(i,e,n)}),t.streams[s].onValue(function(e){e&&t.set(a,o.default[e])}),e.callback_manager.set("calc_data_stats__"+i,function(e){e&&r.setScale(i,t.get(i+"_scale"),n)})})},t.prototype.sortScale=function(t,e){var n=t.map(function(t){var n=void 0;if(t.type in e)n=e[t.type];else{if("value"!==t.type)throw new Error("Bad domain type "+t.type);n=t.value}return{v:n,color:t.color,size:t.size}}).sort(function(t,e){return t.v-e.v});return{domain:n.map(function(t){return t.v}),color_range:n.map(function(t){return t.color}),size_range:n.map(function(t){return t.size})}},t.prototype.setScale=function(t,e,n){"reaction"===t?this.setReactionScale(e,n):this.setMetaboliteScale(e,n)},t.prototype.setReactionScale=function(t,e){var n=e().reaction;if(null!==n){var r=this.sortScale(t,n);this.reaction_color.domain(r.domain),this.reaction_size.domain(r.domain),this.reaction_color.range(r.color_range),this.reaction_size.range(r.size_range)}},t.prototype.setMetaboliteScale=function(t,e){var n=e().metabolite;if(null!==n){var r=this.sortScale(t,n);this.metabolite_color.domain(r.domain),this.metabolite_size.domain(r.domain),this.metabolite_color.range(r.color_range),this.metabolite_size.range(r.size_range)}},t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(3),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),s=n(13),c=r(s),l=n(7),u=n(0),f=n(4),h=r(f),d=function(){function t(e,n){i(this,t),this.selection=e,this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.resizeEnabled=!0,this.callbackManager=new c.default,this.setup()}return t.prototype.toggleResize=function(t){h.default.isUndefined(t)&&(t=!this.resizeEnabled),t?this.selection.selectAll(".drag-rect").style("pointer-events","auto"):this.selection.selectAll(".drag-rect").style("pointer-events","none")},t.prototype.setup=function(){var t=this,e=this.selection.append("g").classed("canvas-group",!0).data([{x:this.x,y:this.y}]),n=function(){u.event.sourceEvent.stopPropagation()},r=function(t,e,n){var r=a.d3_transform_catch(n),i=r.translate;return null!==t&&(i[0]=t),null!==e&&(i[1]=e),"translate("+i+")"},i=e.append("rect").attr("id","mouse-node").attr("width",10*this.width).attr("height",10*this.height).attr("transform","translate("+[this.x-10*this.width/2,this.y-10*this.height/2]+")").attr("pointer-events","all");this.mouseNode=i;var o=e.append("rect").attr("id","canvas").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[this.x,this.y]+")"),s=(0,l.drag)().on("start",n).on("drag",function(e){var n=e.x;e.x=Math.min(e.x+t.width-50,u.event.x),t.x=e.x,t.width=t.width+(n-e.x),c.attr("transform",function(t){return r(t.x-50,null,c.attr("transform"))}),i.attr("transform",function(t){return r(t.x,null,i.attr("transform"))}).attr("width",10*t.width),o.attr("transform",function(t){return r(t.x,null,o.attr("transform"))}).attr("width",t.width),p.attr("transform",function(t){return r(t.x+50,null,p.attr("transform"))}).attr("width",t.width-100),g.attr("transform",function(t){return r(t.x+50,null,g.attr("transform"))}).attr("width",t.width-100),t.callbackManager.run("resize")}),c=e.append("rect").classed("drag-rect",!0).attr("transform",function(t){return"translate("+[t.x-50,t.y+50]+")"}).attr("height",this.height-100).attr("id","dragleft").attr("width",100).attr("cursor","ew-resize").classed("resize-rect",!0).call(s),f=(0,l.drag)().on("start",n).on("drag",function(e){u.event.sourceEvent.stopPropagation();var n=Math.max(e.x+50,e.x+t.width+u.event.dx);t.width=n-e.x,h.attr("transform",function(t){return r(n-50,null,h.attr("transform"))}),i.attr("width",10*t.width),o.attr("width",t.width),p.attr("width",t.width-100),g.attr("width",t.width-100),t.callbackManager.run("resize")}),h=e.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+t.width-50,e.y+50]+")"}).attr("id","dragright").attr("height",this.height-100).attr("width",100).attr("cursor","ew-resize").classed("resize-rect",!0).call(f),d=(0,l.drag)().on("start",n).on("drag",function(e){u.event.sourceEvent.stopPropagation();var n=e.y;e.y=Math.min(e.y+t.height-50,u.event.y),t.y=e.y,t.height=t.height+(n-e.y),p.attr("transform",function(t){return r(null,t.y-50,p.attr("transform"))}),i.attr("transform",function(t){return r(null,t.y,i.attr("transform"))}).attr("width",10*t.height),o.attr("transform",function(t){return r(null,t.y,o.attr("transform"))}).attr("height",t.height),c.attr("transform",function(t){return r(null,t.y+50,c.attr("transform"))}).attr("height",t.height-100),h.attr("transform",function(t){return r(null,t.y+50,h.attr("transform"))}).attr("height",t.height-100),t.callbackManager.run("resize")}),p=e.append("rect").classed("drag-rect",!0).attr("transform",function(t){return"translate("+[t.x+50,t.y-50]+")"}).attr("height",100).attr("width",this.width-100).attr("cursor","ns-resize").classed("resize-rect",!0).call(d),A=(0,l.drag)().on("start",n).on("drag",function(e){u.event.sourceEvent.stopPropagation();var n=Math.max(e.y+50,e.y+t.height+u.event.dy);t.height=n-e.y,g.attr("transform",function(t){return r(null,n-50,g.attr("transform"))}),i.attr("height",10*t.height),o.attr("height",t.height),c.attr("height",t.height-100),h.attr("height",t.height-100),t.callbackManager.run("resize")}),g=e.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+50,e.y+t.height-50]+")"}).attr("height",100).attr("width",this.width-100).attr("cursor","ns-resize").classed("resize-rect",!0).call(A)},t.prototype.sizeAndLocation=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t}();e.default=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(92),o=n(0),a=function(){function t(e,n,i,o){r(this,t),this.brushSel=e.append("g").attr("id","brush-container");var a=this.brushSel.node(),s=e.select(o).node().nextSibling;a!==s&&a.parentNode.insertBefore(a,s),this.enabled=n,this.map=i}return t.prototype.brushIsEnabled=function(){return this.map.sel.select(".brush").empty()},t.prototype.toggle=function(t){void 0===t&&(t=!this.enabled),t?this.setupSelectionBrush():this.brushSel.selectAll("*").remove()},t.prototype.turnOffCrosshair=function(t){t.selectAll("rect").attr("cursor",null)},t.prototype.setupSelectionBrush=function(){var t=this,e=this.map,n=this.brushSel,r=e.sel.selectAll("#nodes,#text-labels"),a=e.canvas.sizeAndLocation(),s=a.width,c=a.height,l=a.x,u=a.y,f=this.turnOffCrosshair.bind(this);n.selectAll("*").remove();var h=!1,d=(0,i.brush)().extent([[l,u],[l+s,u+c]]).on("start",function(){t.turnOffCrosshair(n),e.settings.get("hide_secondary_metabolites")&&(e.settings.set("hide_secondary_metabolites",!1),e.draw_everything(),e.set_status("Showing secondary metabolites. You can hide them again in Settings.",2e3))}).on("brush",function(){var t=o.event.sourceEvent.shiftKey,e=(0,i.brushSelection)(this);if(null!==e){(t?r.selectAll(".node:not(.selected),.text-label:not(.selected)"):r.selectAll(".node,.text-label")).classed("selected",function(t){var n=t.x,r=t.y;return e[0][0]<=n&&n<e[1][0]&&e[0][1]<=r&&r<e[1][1]})}}).on("end",function(){f(n),null===(0,i.brushSelection)(this)?h?h=!1:e.select_none():(h=!0,n.call(d.move,null))});n.call(d),f(n)},t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(17),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){function t(e,n,i){r(this,t);var a=e.append("div").attr("id","text-edit-input");this.placedDiv=(0,o.default)(a,n),this.placedDiv.hide(),this.input=a.append("input"),this.map=n,this.setUpMapCallbacks(n),this.zoomContainer=i,this.setUpZoomCallbacks(i),this.isNew=!1}return t.prototype.setUpMapCallbacks=function(t){var e=this;t.callback_manager.set("edit_text_label.text_edit_input",function(t,n){e.show(t,n)}),t.callback_manager.set("new_text_label.text_edit_input",function(t){null!==e.activeTarget&&e._acceptChanges(e.activeTarget.target),e.hide(),e._addAndEdit(t)}),t.callback_manager.set("hide_text_label_editor.text_edit_input",function(){e.hide()})},t.prototype.setUpZoomCallbacks=function(t){var e=this;t.callbackManager.set("zoom.text_edit_input",function(){e.activeTarget&&e._acceptChanges(e.activeTarget.target),e.is_visible()&&e.hide()}),t.callbackManager.set("go_to.text_edit_input",function(){e.activeTarget&&e._acceptChanges(e.activeTarget.target),e.is_visible()&&e.hide()})},t.prototype.is_visible=function(){return this.placedDiv.is_visible()},t.prototype.show=function(t,e){var n=this;this.activeTarget&&this._acceptChanges(this.activeTarget.target),this.activeTarget={target:t,coords:e},t.each(function(t){n.input.node().value=t.text}),this.placedDiv.place(e),this.input.node().focus(),this.clearEscape=this.map.key_manager.addEscapeListener(function(){n._acceptChanges(t),n.hide()},!0),this.clearEnter=this.map.key_manager.addEnterListener(function(){n._acceptChanges(t),n.hide()},!0)},t.prototype.hide=function(){this.isNew=!1,this.placedDiv.hide(),this.input.attr("value",""),this.activeTarget=null,this.clearEscape&&this.clearEscape(),this.clearEscape=null,this.clearEnter&&this.clearEnter(),this.clearEnter=null},t.prototype._acceptChanges=function(t){var e=this,n=this.input.node().value;if(""===n)t.each(function(t){var n={};n[t.text_label_id]=e.map.text_labels[t.text_label_id],e.map.delete_selectable({},n,!0)});else{var r=[];t.each(function(t){e.map.edit_text_label(t.text_label_id,n,!0,e.isNew),r.push(t.text_label_id)})}},t.prototype._addAndEdit=function(t){this.isNew=!0;var e=this.map.new_text_label(t,""),n=this.map.sel.select("#text-labels").selectAll(".text-label").filter(function(t){return t.text_label_id===e});n.select("text").classed("edit-text-cursor",!0),this.show(n,t)},t}();e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(5),c=n(49),l=r(c),u=n(50),f=r(u),h=n(59),d=r(h),p=n(4),A=r(p);n(60);var g=n(30),b=r(g),m=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.componentWillMount=function(){var t=this;this.props.settings.holdChanges(),this.setState({clearEscape:this.props.map.key_manager.addEscapeListener(function(){return t.abandonChanges()},!0),clearEnter:this.props.map.key_manager.addKeyListener(["enter"],function(){return t.saveChanges()},!0)})},e.prototype.componentWillUnmount=function(){this.state.clearEscape(),this.state.clearEnter()},e.prototype.abandonChanges=function(){this.props.settings.abandonChanges(),this.props.setDisplay(!1)},e.prototype.saveChanges=function(){this.props.settings.acceptChanges(),this.props.setDisplay(!1)},e.prototype.handleStyle=function(t,e){var n=this.props.settings.get(e),r=n.indexOf(t);-1===r?this.props.settings.set(e,[].concat(n,[t])):this.props.settings.set(e,[].concat(n.slice(0,r),n.slice(r+1)))},e.prototype.render=function(){var t=this,e=this.props.settings,n=e.get("enable_tooltips")||[],r=this.props.map.get_data_statistics();return(0,s.h)("div",{className:"settingsBackground"},(0,s.h)("div",{className:"settingsBoxContainer"},(0,s.h)("button",{className:"discardChanges btn",onClick:function(){return t.abandonChanges()}},(0,s.h)("i",{className:"icon-cancel","aria-hidden":"true"})),(0,s.h)("button",{className:"saveChanges btn",onClick:function(){return t.saveChanges()}},(0,s.h)("i",{className:"icon-ok","aria-hidden":"true"})),(0,s.h)("div",{className:"settingsBox"},(0,s.h)("div",{className:"settingsTip"},(0,s.h)("i",null,"Tip: Hover over an option to see more details about it.")),(0,s.h)("hr",null),(0,s.h)("div",{className:"title"},"View and build options"),(0,s.h)("div",{className:"settingsContainer"},(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",{title:"The identifiers that are show in the reaction, gene, and metabolite labels on the map."},(0,s.h)("td",{className:"optionLabel"},"Identifiers:"),(0,s.h)("td",{className:"singleLine"},(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"identifiers",onClick:function(){e.set("identifiers_on_map","bigg_id")},checked:"bigg_id"===e.get("identifiers_on_map")}),"ID's"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"identifiers",onClick:function(){e.set("identifiers_on_map","name")},checked:"name"===e.get("identifiers_on_map")}),"Descriptive names")))),(0,s.h)("label",{title:"If checked, then the scroll wheel and trackpad will control zoom rather than pan."},(0,s.h)("input",{type:"checkbox",onClick:function(){"zoom"===e.get("scroll_behavior")?e.set("scroll_behavior","pan"):e.set("scroll_behavior","zoom")},checked:"zoom"===e.get("scroll_behavior")}),"Scroll to zoom (instead of scroll to pan)"),(0,s.h)("label",{title:"If checked, then only the primary metabolites will be displayed."},(0,s.h)("input",{type:"checkbox",onClick:function(){return e.set("hide_secondary_metabolites",!e.get("hide_secondary_metabolites"))},checked:e.get("hide_secondary_metabolites")}),"Hide secondary metabolites"),(0,s.h)("label",{title:"If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)"},(0,s.h)("input",{type:"checkbox",onClick:function(){return e.set("show_gene_reaction_rules",!e.get("show_gene_reaction_rules"))},checked:e.get("show_gene_reaction_rules")}),"Show gene reaction rules"),(0,s.h)("label",{title:"If checked, hide all reaction, gene, and metabolite labels"},(0,s.h)("input",{type:"checkbox",onClick:function(){return e.set("hide_all_labels",!e.get("hide_all_labels"))},checked:e.get("hide_all_labels")}),"Hide reaction, gene, and metabolite labels"),(0,s.h)("label",{title:"If checked, then allow duplicate reactions during model building."},(0,s.h)("input",{type:"checkbox",onClick:function(){return e.set("allow_building_duplicate_reactions",!e.get("allow_building_duplicate_reactions"))},checked:e.get("allow_building_duplicate_reactions")}),"Allow duplicate reactions"),(0,s.h)("label",{title:"If checked, then highlight in red all the reactions on the map that are not present in the loaded model."},(0,s.h)("input",{type:"checkbox",onClick:function(){e.set("highlight_missing",!e.get("highlight_missing"))},checked:e.get("highlight_missing")}),"Highlight reactions not in model"),(0,s.h)("label",{title:"If true, then use CSS3 3D transforms to speed up panning and zooming."},(0,s.h)("input",{type:"checkbox",onClick:function(){e.set("use_3d_transform",!e.get("use_3d_transform"))},checked:e.get("use_3d_transform")}),"Use 3D transform for responsive panning and zooming"),(0,s.h)("table",{style:{marginTop:"5px"}},(0,s.h)("tr",{title:"Determines over which elements tooltips will display for reactions, metabolites, and genes"},(0,s.h)("td",null,"Show tooltips over:"),(0,s.h)("td",{className:"singleLine"},(0,s.h)("label",{className:"tooltipOption",title:"If checked, tooltips will display over the gene, reaction, and metabolite labels"},(0,s.h)("input",{type:"checkbox",onClick:function(){var t=A.default.contains(n,"label")?A.default.filter(n,function(t){return"label"!==t}):[].concat(n,["label"]);e.set("enable_tooltips",t)},checked:A.default.contains(n,"label")}),"Labels"),(0,s.h)("label",{className:"tooltipOption",title:"If checked, tooltips will display over the reaction line segments and metabolite circles"},(0,s.h)("input",{type:"checkbox",onClick:function(){var t=A.default.contains(n,"object")?A.default.filter(n,function(t){return"object"!==t}):[].concat(n,["object"]);e.set("enable_tooltips",t)},checked:A.default.contains(n,"object")}),"Objects"))))),(0,s.h)("div",{className:"settingsTip",style:{marginTop:"16px"}},(0,s.h)("i",null,"Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).")),(0,s.h)("hr",null),(0,s.h)("div",{className:"scaleTitle"},(0,s.h)("div",{className:"title"},"Reactions"),(0,s.h)(l.default,{disabled:null===r.reaction},Object.values(A.default.mapObject(b.default,function(t,n){return(0,s.h)(d.default,{name:n,scale:t,onClick:function(){e.set("reaction_scale_preset",n)}})})))),(0,s.h)(f.default,{scale:e.get("reaction_scale"),settings:e,type:"Reaction",stats:r.reaction,noDataColor:e.get("reaction_no_data_color"),noDataSize:e.get("reaction_no_data_size"),onChange:function(t){e.set("reaction_scale",t)},onNoDataColorChange:function(t){e.set("reaction_no_data_color",t)},onNoDataSizeChange:function(t){e.set("reaction_no_data_size",t)},abs:e.get("reaction_styles").indexOf("abs")>-1}),(0,s.h)("div",{className:"subheading"},"Reaction or Gene data"),(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",null,(0,s.h)("td",{className:"optionLabel",title:"Options for reactions data"},"Options:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of reactions on the map"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("abs","reaction_styles")},checked:A.default.contains(e.get("reaction_styles"),"abs"),disabled:null===r.reaction}),"Absolute value"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the reaction data"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("size","reaction_styles")},checked:A.default.contains(e.get("reaction_styles"),"size"),disabled:null===r.reaction}),"Size"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the reaction data"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("color","reaction_styles")},checked:A.default.contains(e.get("reaction_styles"),"color"),disabled:null===r.reaction}),"Color"),(0,s.h)("br",null),(0,s.h)("label",{className:"optionGroup",title:"If checked, then show data values in the reaction labels"},(0,s.h)("input",{type:"checkbox",name:"reactionStyle",onClick:function(){return t.handleStyle("text","reaction_styles")},checked:A.default.contains(e.get("reaction_styles"),"text"),disabled:null===r.reaction}),"Text (Show data in label)"))),(0,s.h)("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},(0,s.h)("td",{className:"optionLabel"},"Comparison:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){return e.set("reaction_compare_style","fold")},checked:"fold"===e.get("reaction_compare_style"),disabled:null===r.reaction}),"Fold Change"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){return e.set("reaction_compare_style","log2_fold")},checked:"log2_fold"===e.get("reaction_compare_style"),disabled:null===r.reaction}),"Log2 (Fold Change)"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"reactionCompare",onClick:function(){return e.set("reaction_compare_style","diff")},checked:"diff"===e.get("reaction_compare_style"),disabled:null===r.reaction}),"Difference")))),(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",{title:"The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)"},(0,s.h)("td",{className:"optionLabelWide"},"Method for evaluating AND:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"andMethod",onClick:function(){return e.set("and_method_in_gene_reaction_rule","mean")},checked:"mean"===e.get("and_method_in_gene_reaction_rule"),disabled:null===r.reaction}),"Mean"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"andMethod",onClick:function(){return e.set("and_method_in_gene_reaction_rule","min")},checked:"min"===e.get("and_method_in_gene_reaction_rule"),disabled:null===r.reaction}),"Min")))),(0,s.h)("hr",null),(0,s.h)("div",{className:"scaleTitle"},(0,s.h)("div",{className:"title"},"Metabolites"),(0,s.h)(l.default,{disabled:null===r.metabolite},Object.values(A.default.mapObject(b.default,function(t,n){return(0,s.h)(d.default,{name:n,scale:t,onClick:function(){return e.set("metabolite_scale",t)}})})))),(0,s.h)(f.default,{scale:e.get("metabolite_scale"),settings:e,type:"Metabolite",stats:r.metabolite,noDataColor:e.get("metabolite_no_data_color"),noDataSize:e.get("metabolite_no_data_size"),onChange:function(t){e.set("metabolite_scale",t)},onNoDataColorChange:function(t){e.set("metabolite_no_data_color",t)},onNoDataSizeChange:function(t){e.set("metabolite_no_data_size",t)},abs:A.default.contains(e.get("metabolite_styles"),"abs")}),(0,s.h)("div",{className:"subheading"},"Metabolite data"),(0,s.h)("table",{className:"radioSelection"},(0,s.h)("tr",null,(0,s.h)("td",{className:"optionLabel",title:"Options for metabolite data"},"Options:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup",title:"If checked, use the absolute value when calculating colors and sizes of metabolites on the map"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("abs","metabolite_styles")},checked:A.default.contains(e.get("metabolite_styles"),"abs"),disabled:null===r.metabolite}),"Absolute value"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then size the thickness of reaction lines according to the value of the metabolite data"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("size","metabolite_styles")},checked:A.default.contains(e.get("metabolite_styles"),"size"),disabled:null===r.metabolite}),"Size"),(0,s.h)("label",{className:"optionGroup",title:"If checked, then color the reaction lines according to the value of the metabolite data"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("color","metabolite_styles")},checked:A.default.contains(e.get("metabolite_styles"),"color"),disabled:null===r.metabolite}),"Color"),(0,s.h)("br",null),(0,s.h)("label",{className:"optionGroup",title:"If checked, then show data values in the metabolite labels"},(0,s.h)("input",{type:"checkbox",name:"metaboliteStyle",onClick:function(){return t.handleStyle("text","metabolite_styles")},checked:A.default.contains(e.get("metabolite_styles"),"text"),disabled:null===r.metabolite}),"Text (Show data in label)"))),(0,s.h)("tr",{title:"The function that will be used to compare datasets, when paired data is loaded"},(0,s.h)("td",{className:"optionLabel"},"Comparison:"),(0,s.h)("td",null,(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return e.set("metabolite_compare_style","fold")},checked:"fold"===e.get("metabolite_compare_style"),disabled:null===r.metabolite}),"Fold Change"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return e.set("metabolite_compare_style","log2_fold")},checked:"log2_fold"===e.get("metabolite_compare_style"),disabled:null===r.metabolite}),"Log2 (Fold Change)"),(0,s.h)("label",{className:"optionGroup"},(0,s.h)("input",{type:"radio",name:"metaboliteCompare",onClick:function(){return e.set("metabolite_compare_style","diff")},checked:"diff"===e.get("metabolite_compare_style"),disabled:null===r.metabolite}),"Difference")))))))},e}(s.Component);e.default=m},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5),s=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.setWrapperRef=o.setWrapperRef.bind(o),o.handleClickOutside=o.handleClickOutside.bind(o),o.state={visible:!1},o}return o(e,t),e.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleClickOutside)},e.prototype.setWrapperRef=function(t){this.wrapperRef=t},e.prototype.handleClickOutside=function(t){this.wrapperRef&&!this.wrapperRef.contains(t.target)&&this.setState({visible:!1})},e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"selector"},(0,a.h)("div",{className:["selectorTitle",this.props.disabled?"disabled":""].join(" "),ref:this.setWrapperRef,onClick:function(){t.props.disabled||t.setState({visible:!t.state.visible})}},"Preset Scale Selections",(0,a.h)("i",{className:"icon-sort-down"})),(0,a.h)("div",{className:"selectorMenu",style:this.state.visible?{display:"block"}:{display:"none"}},this.props.children.map(function(t){return t})))},e}(a.Component);e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(5),c=n(51),l=r(c),u=n(55),f=r(u),h=n(4),d=r(h);n(57);var p=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.sortScale=function(){var t=this;return d.default.sortBy(this.props.scale,function(e){return"value"===e.type?e.value:t.props.stats[e.type]})},e.prototype.placePickers=function(){var t=this.props.stats,e=this.props.scale.reduce(function(t,e){var n=t[0],r=t[1];return"value"===e.type?[Math.min(e.value,n),Math.max(e.value,r)]:[n,r]},[t.min,t.max]),n=e[0],r=e[1];return{pickerLocations:this.props.scale.map(function(e){return(("value"===e.type?e.value:t[e.type])-n)/(r-n)}),absoluteMax:r,absoluteMin:n}},e.prototype.scaleChange=function(t,e,n){var r=null;if("type"===e&&"value"!==n){var i,o;r=(0,f.default)(this.props.scale,(o={},o[t]=(i={},i[e]={$set:n},i.$unset=["value"],i),o)),this.props.onChange(r)}else if("value"===e&&"value"!==this.props.scale[t].type){var a,s;r=(0,f.default)(this.props.scale,(s={},s[t]=(a={},a[e]={$set:n},a.type={$set:"value"},a),s)),this.props.onChange(r)}else if("value"===n){var c,l;r=(0,f.default)(this.props.scale,(l={},l[t]=(c={},c[e]={$set:n},c.$merge={value:this.props.stats[this.props.scale[t].type]},c),l)),this.props.onChange(r)}else if(!isNaN(parseFloat(n))||"#"===n[0]&&"color"===e){var u,h;r=(0,f.default)(this.props.scale,(h={},h[t]=(u={},u[e]={$set:n},u),h)),this.props.onChange(r)}},e.prototype.addColorStop=function(t){var e=(0,f.default)(this.props.scale,{$push:[{type:"value",value:t.layerX/t.target.clientWidth*this.props.stats.max+(1-t.layerX/t.target.clientWidth)*this.props.stats.min,color:"#9696ff",size:20}]});this.props.onChange(e)},e.prototype.makeGradient=function(t,e){var n=this,r=this.sortScale();return(r.length<2?[{type:"min",color:"#f1ecfa"},{type:"max",color:"#f1ecfa"}]:r).map(function(r){var i="value"===r.type?r.value:n.props.stats[r.type];return" "+r.color+" "+(i-t)/(e-t)*100+"%"}).toString()},e.prototype.removeColorStop=function(t){var e=(0,f.default)(this.props.scale,{$splice:[[[t],1]]});this.props.onChange(e)},e.prototype.render=function(){var t=this;if(!this.props.stats)return(0,s.h)("div",{className:"scaleEditor"},(0,s.h)("div",null,(0,s.h)("div",{className:"scaleTrack disabled",style:{width:400}},this.props.type," data not loaded",(0,s.h)(l.default,{location:0,trackWidth:400,disabled:!0}),(0,s.h)(l.default,{location:1,trackWidth:400,disabled:!0}))),(0,s.h)("div",{className:"scaleLabels"},(0,s.h)("label",null,"Value:"),(0,s.h)("label",null,"Color:"),(0,s.h)("label",null,"Size:")),(0,s.h)("div",{className:"noDataStyle"},(0,s.h)("label",{className:"styleHeader"},"Styles for reactions with no data"),(0,s.h)("br",null),(0,s.h)("label",null,"Color:"),(0,s.h)("input",{type:"text",className:"colorInput",disabled:!0}),(0,s.h)("input",{type:"color",className:"colorWheel",disabled:!0}),(0,s.h)("label",null,"Size:"),(0,s.h)("input",{type:"text",className:"sizeInput",disabled:!0})));var e=this.placePickers(),n=e.pickerLocations,r=e.absoluteMax,i=e.absoluteMin,o=this.props.scale.map(function(e,o){return"value"!==e.type?(0,s.h)(l.default,{trackWidth:400,type:e.type,location:n[o],onChange:function(e,n){return t.scaleChange(o,e,n)},focus:function(){return t.setState({focusedPicker:o})},remove:function(){return t.removeColorStop(o)},min:i,max:r,value:t.props.stats[e.type],color:e.color,size:e.size,zIndex:t.state.focusedPicker===o?"2":"0",showTrash:t.props.scale.length>=3}):null!=e.value?(0,s.h)(l.default,{trackWidth:400,type:e.type,location:n[o],onChange:function(e,n){return t.scaleChange(o,e,n)},focus:function(){return t.setState({focusedPicker:o})},remove:function(){return t.removeColorStop(o)},min:i,max:r,value:e.value,color:e.color,size:e.size,zIndex:t.state.focusedPicker===o?"2":"0",showTrash:t.props.scale.length>=3}):void 0});return(0,s.h)("div",{className:"scaleEditor"},(0,s.h)("div",null,(0,s.h)("i",{className:"settingsTip"},"To add a color stop to the scale, click the gradient"),(0,s.h)("div",{className:"scaleTrack",style:{width:400}},(0,s.h)("div",{className:"gradient",onClick:function(e){return t.addColorStop(e)},style:{background:"linear-gradient(to right,"+this.makeGradient(i,r)+")"}}),o)),(0,s.h)("div",{className:"scaleLabels"},(0,s.h)("label",null,"Value:"),(0,s.h)("label",null,"Color:"),(0,s.h)("label",null,"Size:")),(0,s.h)("div",{className:"noDataStyle"},(0,s.h)("label",{className:"styleHeader"},"Styles for reactions with no data"),(0,s.h)("br",null),(0,s.h)("label",null,"Color:"),(0,s.h)("input",{type:"text",className:"colorInput",value:this.props.noDataColor,onInput:function(e){return t.props.onNoDataColorChange(e.target.value)}}),(0,s.h)("input",{type:"color",className:"colorWheel",value:this.props.noDataColor,onInput:function(e){return t.props.onNoDataColorChange(e.target.value)}}),(0,s.h)("label",null,"Size:"),(0,s.h)("input",{type:"text",className:"sizeInput",value:this.props.noDataSize,onInput:function(e){return t.props.onNoDataSizeChange(parseFloat(e.target.value))}})))},e}(s.Component);e.default=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5),s=n(0),c=n(7);n(52);var l=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.setUpDrag=function(){var t=this;if((0,s.select)(this.base).select(".pickerBox").on("mousedown.drag",null),!this.props.disabled){var e=(0,c.drag)().on("start",function(){t.props.focus&&t.props.focus()}).on("drag",function(){"value"!==t.props.type&&t.props.onChange&&t.props.onChange("type","value");var e=t.props.value+s.event.dx/t.props.trackWidth*(t.props.max-t.props.min),n=Math.max(t.props.min,Math.min(t.props.max,e));t.props.onChange("value",n)}).container(function(){return t.base.parentNode.parentNode});(0,s.select)(this.base).select(".pickerBox").call(e)}},e.prototype.componentDidUpdate=function(){this.setUpDrag()},e.prototype.componentDidMount=function(){this.setUpDrag()},e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"picker",style:{left:this.props.location*this.props.trackWidth+"px",zIndex:this.props.zIndex}},this.props.showTrash&&(0,a.h)("div",{className:"trashDiv"},(0,a.h)("i",{className:"icon-trash-empty","aria-hidden":"true",onClick:function(){t.props.remove&&t.props.remove()}})),(0,a.h)("div",{className:"pickerBox",onClick:function(){t.props.focus&&t.props.focus()}}),(0,a.h)("div",{className:["pickerOptions",this.props.location>.8?"rightOptions":""].join(" ")},(0,a.h)("input",{type:"text",className:"option",value:this.props.disabled?"":"value"===this.props.type?parseFloat(this.props.value.toFixed(2)):this.props.type+" ("+parseFloat(this.props.value.toFixed(2))+")",disabled:this.props.disabled,onInput:function(e){var n=parseFloat(e.target.value);isNaN(n)||t.props.onChange("value",n)},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()}}),(0,a.h)("select",{className:"typePicker",value:this.props.type,onChange:function(e){t.props.onChange&&t.props.onChange("type",e.target.value)},disabled:this.props.disabled,onFocus:function(e){t.props.focus&&t.props.focus()}},(0,a.h)("option",{value:"value"},"Value"),(0,a.h)("option",{value:"min"},"Min"),(0,a.h)("option",{value:"mean"},"Mean"),(0,a.h)("option",{value:"Q1"},"Q1"),(0,a.h)("option",{value:"median"},"Median"),(0,a.h)("option",{value:"Q3"},"Q3"),(0,a.h)("option",{value:"max"},"Max")),(0,a.h)("div",{className:"colorOptions"},(0,a.h)("input",{type:"text",className:"colorText",onInput:function(e){t.props.onChange&&t.props.onChange("color",e.target.value)},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()},value:this.props.color||"",disabled:this.props.disabled}),(0,a.h)("input",{type:"color",className:"colorWheel",onInput:function(e){t.props.onChange&&t.props.onChange("color",e.target.value)},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()},value:this.props.color||"",disabled:this.props.disabled})),(0,a.h)("input",{type:"text",className:"option",onInput:function(e){t.props.onChange&&t.props.onChange("size",parseInt(e.target.value))},onFocus:function(e){e.target.select(),t.props.focus&&t.props.focus()},value:this.props.size,disabled:this.props.disabled})))},e}(a.Component);e.default=l},function(t,e,n){var r=n(53);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,".escher-container .picker {\n  top: 35px;\n  margin-left: -7px;\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .pickerBox {\n  position: absolute;\n  cursor: pointer;\n  background: rgba(0, 0, 0, 0.375);\n  width: 14px;\n  height: 35px;\n  top: -35px\n}\n\n.escher-container .scaleTrack .rightOptions {\n  position: absolute;\n  left: -76px;\n}\n\n.escher-container .pickerOptions {\n  box-shadow: 0 2px 14px #c5c5c5;\n  margin-top: 1px;\n  display: inline-flex;\n  flex-direction: column;\n  width: 90px;\n}\n\n.escher-container .pickerOptions * {\n  font-size: 12px;\n}\n\n.escher-container .pickerOptions .option {\n  padding: 3px 0px;\n}\n\n.escher-container .pickerOptions .typePicker {\n  width: 20px;\n  position: absolute;\n  left: 70px;\n  top: 1px;\n  right: 0px;\n  height: 14px;\n  background-color: rgb(232, 232, 232);\n}\n\n.escher-container .pickerOptions .colorOptions {\n  display: inline-flex;\n}\n\n.escher-container .colorOptions .colorText {\n  padding: 3px 0px;\n  width: 100%;\n}\n\n.escher-container .colorOptions .colorWheel {\n  padding: 0px;\n  position: absolute;\n  right: 0;\n  height: 24px;\n  width: 21px;\n  border: 1px solid black;\n}\n\n.escher-container .picker .trashDiv {\n  position: absolute;\n  top: -56px;\n  font-size: 17px;\n}\n\n.escher-container .picker .trashDiv * {\n  font-size: 17px;\n  cursor: pointer;\n}\n\n.escher-container .picker .icon-trash-empty {\n  margin: -5px;\n}\n\n.escher-container .scaleEditor :disabled {\n  background: #f1ecfa;\n}\n\n.escher-container .scaleEditor input[type=color]:disabled {\n  margin-top: 1px;\n}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!==typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!==typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){function r(t){if(Array.isArray(t))return m(t.constructor(t.length),t);if("Map"===b(t))return new Map(t);if("Set"===b(t))return new Set(t);if(t&&"object"===typeof t){var e=Object.getPrototypeOf(t);return m(Object.create(e),t)}return t}function i(){function t(n,i){"function"===typeof i&&(i={$apply:i}),Array.isArray(n)&&Array.isArray(i)||d(!Array.isArray(i),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),d("object"===typeof i&&null!==i,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var o=n;return y(i).forEach(function(a){if(p.call(e,a)){var s=n===o;o=e[a](i[a],o,i,n),s&&t.isEquals(o,n)&&(o=n)}else{var c="Map"===b(n)?t(n.get(a),i[a]):t(n[a],i[a]),l="Map"===b(o)?o.get(a):o[a];t.isEquals(c,l)&&("undefined"!==typeof c||p.call(n,a))||(o===n&&(o=r(n)),"Map"===b(o)?o.set(a,c):o[a]=c)}}),o}var e=m({},v);return t.extend=function(t,n){e[t]=n},t.isEquals=function(t,e){return t===e},t}function o(t,e,n){d(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",n,t),a(e[n],n)}function a(t,e){d(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function s(t,e){d(Array.isArray(t),"Expected $splice target to be an array; got %s",t),c(e.$splice)}function c(t){d(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function l(t){d("function"===typeof t,"update(): expected spec of $apply to be a function; got %s.",t)}function u(t){d(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}function f(t,e){d(e&&"object"===typeof e,"update(): $merge expects a spec of type 'object'; got %s",e),d(t&&"object"===typeof t,"update(): $merge expects a target of type 'object'; got %s",t)}function h(t,e){var n=b(t);d("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",e,n)}var d=n(56),p=Object.prototype.hasOwnProperty,A=Array.prototype.splice,g=Object.prototype.toString,b=function(t){return g.call(t).slice(8,-1)},m=Object.assign||function(t,e){return y(e).forEach(function(n){p.call(e,n)&&(t[n]=e[n])}),t},y="function"===typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)},v={$push:function(t,e,n){return o(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return o(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,i){return s(e,n),t.forEach(function(t){c(t),e===i&&t.length&&(e=r(i)),A.apply(e,t)}),e},$set:function(t,e,n){return u(n),t},$toggle:function(t,e){a(t,"$toggle");var n=t.length?r(e):e;return t.forEach(function(t){n[t]=!e[t]}),n},$unset:function(t,e,n,i){return a(t,"$unset"),t.forEach(function(t){Object.hasOwnProperty.call(e,t)&&(e===i&&(e=r(i)),delete e[t])}),e},$add:function(t,e,n,i){return h(e,"$add"),a(t,"$add"),"Map"===b(e)?t.forEach(function(t){var n=t[0],o=t[1];e===i&&e.get(n)!==o&&(e=r(i)),e.set(n,o)}):t.forEach(function(t){e!==i||e.has(t)||(e=r(i)),e.add(t)}),e},$remove:function(t,e,n,i){return h(e,"$remove"),a(t,"$remove"),t.forEach(function(t){e===i&&e.has(t)&&(e=r(i)),e.delete(t)}),e},$merge:function(t,e,n,i){return f(e,t),y(t).forEach(function(n){t[n]!==e[n]&&(e===i&&(e=r(i)),e[n]=t[n])}),e},$apply:function(t,e){return l(t),t(e)}},_=i();t.exports=_,t.exports.default=_,t.exports.newContext=i},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;c=new Error(e.replace(/%s/g,function(){return l[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=r},function(t,e,n){var r=n(58);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,".escher-container .scaleEditor * {\n  font-size: 12px;\n  color: #777;\n  box-sizing: border-box;\n}\n\n.escher-container .scaleEditor {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.escher-container .scaleTrack {\n  position: relative;\n  display: flex;\n  height: 30px;\n  margin-bottom: 9px;\n  margin-top: 30px;\n  margin-left: 55px;\n  font-size: 15px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .scaleTrack.disabled {\n  background: #f1ecfa;\n  color: #b19ec0;\n  padding: 4px 0;\n  justify-content: center;\n}\n\n.escher-container .gradient {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.escher-container .scaleLabels {\n  display: inline-flex;\n  flex-direction: column;\n  font-size: 12px;\n}\n\n.escher-container .scaleLabels label {\n  margin-bottom: 6px;\n}\n\n.escher-container .noDataStyle {\n  position: relative;\n  margin-top: 20px;\n}\n\n.escher-container .noDataStyle .styleHeader {\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.escher-container .noDataStyle label {\n  margin-right: 5px;\n}\n\n.escher-container .noDataStyle input[type=text] {\n  margin-right: 10px;\n  padding: 3px 0px;\n  width: 86px;\n}\n\n.escher-container .noDataStyle input[type=color] {\n  position: absolute;\n  padding: 0px;\n  border: 1px solid black;\n  left: 103px;\n  height: 24px;\n  width: 21px;\n}\n\n.escher-container .scaleEditor .icon-plus {\n  cursor: pointer;\n  position: absolute;\n  font-size: 14px;\n  right: 19px;\n}\n",""])},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5),s=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n)),a=[];if(n.scale)for(var s=0;s<n.scale.length;s++)a.push(n.scale[s].color);return o.state={colors:a},o}return o(e,t),e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"scaleSelection",onClick:function(){return t.props.onClick()}},(0,a.h)("div",null,this.props.name),(0,a.h)("div",{className:"scaleColors"},this.state.colors.map(function(t){return(0,a.h)("i",{className:"icon-blank",style:{color:t}})})))},e}(a.Component);e.default=s},function(t,e,n){var r=n(61);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,".escher-container .settingsBackground {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n  background: rgba(0,0,0,.4);\n  padding: 5% 0 80px;\n  text-align: center;\n}\n\n.escher-container .scale-editor .domain-input {\n  color: #333;\n}\n\n.escher-container .settingsBoxContainer button {\n  position: absolute;\n  top: 5px;\n  right: 20px;\n  z-index: 10;\n  text-align: center;\n  vertical-align: middle;\n  font-weight: normal!important;\n  width: 34px;\n  height: 30px;\n  margin: 0;\n  padding: unset;\n  font-size: 14px!important;\n  border-radius: 3px;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n.escher-container .settingsBoxContainer button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .settingsBoxContainer .discardChanges {\n  right: 60px;\n}\n\n.escher-container .settingsBoxContainer {\n  color: rgb(119, 119, 119);\n  display: inline-block;\n  position: relative;\n  width: 90%;\n  max-width: 520px;\n  height: 100%;\n  z-index: 10;\n}\n\n.escher-container .settingsBox {\n  font-size: 13px;\n  box-sizing: border-box;\n  display: inline-block;\n  max-height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: rgba(255, 255, 255, 0.953);\n  padding: 8px;\n  margin: 0;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\n.escher-container .settingsBox * {\n  box-sizing: border-box;\n}\n\n.escher-container .settingsBox .title {\n  font-size: 17px;\n  font-weight: 700;\n  color: #777777;\n}\n\n.escher-container .settingsBox .subheading {\n  font-size: 13px;\n  font-weight: 700;\n  margin-top: 15px;\n  color: #777777;\n}\n\n.escher-container .settingsBox table {\n  border-collapse: collapse;\n}\n\n.escher-container .settingsBox label {\n  display: inline;\n}\n\n.escher-container .settingsBox .radioSelection {\n  cursor: default;\n}\n\n.escher-container .radioSelection td {\n  padding: 3px 5px;\n}\n\n.escher-container .radioSelection input[type=radio] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .radioSelection .optionLabel {\n  width: 88px;\n}\n\n.escher-container .radioSelection .optionLabelWide {\n  width: 192px;\n}\n\n.escher-container .radioSelection .optionGroup {\n  margin-right: 10px\n}\n\n.escher-container .settingsBox .singleLine {\n  display: flex;\n}\n\n.escher-container .settingsContainer label {\n  display: block;\n  margin-bottom: 0;\n}\n\n.escher-container .settingsBoxContainer input[type=checkbox] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .settingsTip {\n  font-size: 13px;\n}\n\n.escher-container .settingsBoxContainer hr {\n  margin: 18px 0;\n  border: 0;\n  border-top: 1px solid #dddddd;\n}\n\n.escher-container .scaleTitle {\n  margin-top: 15px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .selector {\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  padding-top: 2px;\n}\n\n.escher-container .selectorTitle {\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  padding-left: 4px;\n  cursor: default;\n  width: 162px;\n}\n\n.escher-container .selectorTitle:hover:not(.disabled) {\n  border-color: black;\n}\n\n.escher-container .selectorTitle.disabled {\n  background-color: #f1ecfa;\n}\n\n.escher-container .selectorMenu {\n  position: absolute;\n  z-index: 4;\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  min-width: 162px;\n}\n\n.escher-container .scaleSelection {\n  cursor: default;\n  padding: 0 6px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .scaleSelection:hover {\n  background-color: dodgerblue;\n  color: white;\n}\n\n.escher-container .settingsBox .icon-sort-down {\n  position: absolute;\n  top: 0;\n}\n\n.escher-container .settingsBox .tooltipOption {\n  margin-left: 10px;\n}\n",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(5),c=n(63),l=r(c),u=n(66),f=r(u),h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.componentWillMount=function(){var t=this;this.props.sel.selectAll(".escher-zoom-container").on("touchend.menuBar",function(){return t.setState({dropdownVisible:!1})}).on("click.menuBar",function(){return t.setState({dropdownVisible:!1})})},e.prototype.componentWillUnmount=function(){this.props.sel.selectAll(".escher-zoom-container").on("touchend.menuBar",null).on("click.menuBar",null)},e.prototype.render=function(){var t=this,e=this.props.settings.get("enable_keys"),n=this.props.settings.get("disabled_buttons"),r=this.props.map.beziers_enabled,i=this.props.settings.get("full_screen_button");return(0,s.h)("ul",{className:"menu-bar"},(0,s.h)(l.default,{name:"Map",dropdownVisible:this.props.dropdownVisible},(0,s.h)(f.default,{name:"Save map JSON"+(e?" (Ctrl+S)":""),onClick:function(){return t.props.saveMap()},disabledButtons:n}),(0,s.h)(f.default,{name:"Load map JSON"+(e?" (Ctrl+O)":""),onClick:function(e){return t.props.loadMap(e)},assignKey:this.props.assignKeyLoadMap,type:"load",disabledButtons:n}),(0,s.h)(f.default,{name:"Export as SVG"+(e?" (Ctrl+Shift+S)":""),onClick:function(){return t.props.save_svg()},disabledButtons:n}),(0,s.h)(f.default,{name:"Export as PNG"+(e?" (Ctrl+Shift+P)":""),onClick:function(){return t.props.save_png()},disabledButtons:n}),(0,s.h)(f.default,{name:"Clear map",onClick:function(){return t.props.clear_map()},disabledButtons:n})),(0,s.h)(l.default,{name:"Model",dropdownVisible:this.props.dropdownVisible},(0,s.h)(f.default,{name:"Load COBRA model JSON"+(e?" (Ctrl+M)":""),onClick:function(e){return t.props.loadModel(e)},assignKey:this.props.assignKeyLoadModel,type:"load",disabledButtons:n}),(0,s.h)(f.default,{name:"Update names and gene reaction rules using model",onClick:function(){return t.props.updateRules()},disabledButtons:n}),(0,s.h)(f.default,{name:"Clear model",onClick:function(){return t.props.clearModel()},disabledButtons:n})),(0,s.h)(l.default,{name:"Data",dropdownVisible:this.props.dropdownVisible},(0,s.h)(f.default,{name:"Load reaction data",onClick:function(e){return t.props.setReactionData(e)},type:"load",disabledButtons:n}),(0,s.h)(f.default,{name:"Clear reaction data",onClick:function(){return t.props.clearReactionData()},disabledButtons:n}),(0,s.h)("li",{name:"divider"}),(0,s.h)(f.default,{name:"Load gene data",onClick:function(e){return t.props.setGeneData(e)},type:"load",disabledButtons:n}),(0,s.h)(f.default,{name:"Clear gene data",onClick:function(){return t.props.clearGeneData()},disabledButtons:n}),(0,s.h)("li",{name:"divider"}),(0,s.h)(f.default,{name:"Load metabolite data",onClick:function(e){return t.props.setMetaboliteData(e)},type:"load",disabledButtons:n}),(0,s.h)(f.default,{name:"Clear metabolite data",onClick:function(){return t.props.clearMetaboliteData()},disabledButtons:n})),(0,s.h)(l.default,{name:"Edit",rightMenu:"true",dropdownVisible:this.props.dropdownVisible,disabledEditing:!this.props.settings.get("enable_editing")},(0,s.h)(f.default,{name:"Pan mode"+(e?" (Z)":""),checkMark:"zoom"===this.props.mode,onClick:function(){return t.props.setMode("zoom")},disabledButtons:n}),(0,s.h)(f.default,{name:"Select mode"+(e?" (V)":""),checkMark:"brush"===this.props.mode,onClick:function(){return t.props.setMode("brush")},disabledButtons:n}),(0,s.h)(f.default,{name:"Add reaction mode"+(e?" (N)":""),checkMark:"build"===this.props.mode,onClick:function(){return t.props.setMode("build")},disabledButtons:n}),(0,s.h)(f.default,{name:"Rotate mode"+(e?" (R)":""),checkMark:"rotate"===this.props.mode,onClick:function(){return t.props.setMode("rotate")},disabledButtons:n}),(0,s.h)(f.default,{name:"Text mode"+(e?" (T)":""),checkMark:"text"===this.props.mode,onClick:function(){return t.props.setMode("text")},disabledButtons:n}),(0,s.h)("li",{name:"divider"}),(0,s.h)(f.default,{name:"Delete"+(e?" (Del)":""),onClick:function(){return t.props.deleteSelected()},disabledButtons:n}),(0,s.h)(f.default,{name:"Undo"+(e?" (Ctrl+Z)":""),onClick:function(){return t.props.undo()},disabledButtons:n}),(0,s.h)(f.default,{name:"Redo"+(e?" (Ctrl+Shift+Z)":""),onClick:function(){return t.props.redo()},disabledButtons:n}),(0,s.h)("li",{name:"divider"}),(0,s.h)(f.default,{name:"Align vertical"+(e?" (Alt+L)":""),onClick:this.props.align_vertical,disabledButtons:n}),(0,s.h)(f.default,{name:"Align horizontal"+(e?" (Shift+Alt+L)":""),onClick:this.props.align_horizontal,disabledButtons:n}),(0,s.h)(f.default,{name:"Toggle primary/secondary"+(e?" (P)":""),onClick:function(){return t.props.togglePrimary()},disabledButtons:n}),(0,s.h)(f.default,{name:"Rotate reactant locations"+(e?" (C)":""),onClick:function(){return t.props.cyclePrimary()},disabledButtons:n}),(0,s.h)("li",{name:"divider"}),(0,s.h)(f.default,{name:"Select all"+(e?" (Ctrl+A)":""),onClick:function(){return t.props.selectAll()},disabledButtons:n}),(0,s.h)(f.default,{name:"Select none"+(e?" (Ctrl+Shift+A)":""),onClick:function(){return t.props.selectNone()},disabledButtons:n}),(0,s.h)(f.default,{name:"Invert selection",onClick:function(){return t.props.invertSelection()},disabledButtons:n})),(0,s.h)(l.default,{name:"View",rightMenu:"true",dropdownVisible:this.props.dropdownVisible},(0,s.h)(f.default,{name:"Zoom in"+(e?" (+)":""),onClick:function(){return t.props.zoom_in()},disabledButtons:n}),(0,s.h)(f.default,{name:"Zoom out"+(e?" (-)":""),onClick:function(){return t.props.zoom_out()},disabledButtons:n}),(0,s.h)(f.default,{name:"Zoom to nodes"+(e?" (0)":""),onClick:function(){return t.props.zoomExtentNodes()},disabledButtons:n}),(0,s.h)(f.default,{name:"Zoom to canvas"+(e?" (1)":""),onClick:function(){return t.props.zoomExtentCanvas()},disabledButtons:n}),(0,s.h)(f.default,{name:"Find"+(e?" (F)":""),onClick:function(){return t.props.search()},disabledButtons:n}),(0,s.h)(f.default,{name:(r?"Hide":"Show")+" control points"+(e?" (B)":""),onClick:function(){return t.props.toggleBeziers()},disabledButtons:n}),(0,s.h)("li",{name:"divider"}),i&&(0,s.h)(f.default,{name:"Full screen",onClick:function(){return t.props.full_screen()},checkMark:this.props.isFullScreen,disabledButtons:n}),i&&(0,s.h)("li",{name:"divider"}),(0,s.h)(f.default,{name:"Settings"+(e?" (,)":""),onClick:function(){return t.props.renderSettingsMenu()},disabledButtons:n,type:"settings"})),(0,s.h)("a",{className:"helpButton",target:"#",href:"https://escher.readthedocs.org"},"?"))},e}(s.Component);e.default=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5);n(64);var s=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.state={visible:null},o.setWrapperRef=o.setWrapperRef.bind(o),o.handleClickOutside=o.handleClickOutside.bind(o),o}return o(e,t),e.prototype.componentWillMount=function(){this.setState({visible:!1})},e.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handleClickOutside)},e.prototype.componentWillReceiveProps=function(t){this.setState({visible:t.visible})},e.prototype.setWrapperRef=function(t){this.wrapperRef=t},e.prototype.handleClickOutside=function(t){this.wrapperRef&&!this.wrapperRef.contains(t.target)&&this.setState({visible:!1})},e.prototype.render=function(){var t=this;return(0,a.h)("li",{className:"dropdown",style:this.props.disabledEditing?{display:"none"}:{display:"block"}},(0,a.h)("div",{className:"dropdownButton",tabindex:"0",ref:this.setWrapperRef,onClick:function(){return t.setState({visible:!t.state.visible})}},this.props.name,"\xa0",(0,a.h)("i",{className:"icon-sort-down"})),(0,a.h)("ul",{className:"menu",style:this.state.visible?{display:"block"}:{display:"none"},id:"true"===this.props.rightMenu?"rightMenu":""},this.props.children.map(function(t){return t&&"divider"===t.attributes.name?(0,a.h)("li",{style:{height:"1px",backgroundColor:"#e5e5e5",padding:"0",margin:"8px 0"}}):t})))},e}(a.Component);e.default=s},function(t,e,n){var r=n(65);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,'.escher-container .menu-bar {\n  box-sizing: border-box;\n  list-style-type: none;\n  padding: 0;\n  padding-right: 20px;\n  position: relative;\n  margin: 5px 0px;\n  background-color: white;\n  border: 1px solid #ddd;\n  display: inline-flex;\n  box-sizing: border-box;\n  width: 100%;\n  justify-content: space-between;\n}\n\n.escher-container .dropdown {\n  position: relative;\n  float: left;\n  box-sizing: border-box;\n  font-size: 12px;\n  border-radius: 3px;\n\n  /* these sometimes get overridden */\n  margin: 0 !important;\n  font-weight: normal !important;\n\n  text-align: center;\n  vertical-align: middle;\n  -ms-touch-action: none;\n  touch-action: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .dropdownButton {\n  color: #d9230f!important;\n  border: 1px solid transparent;\n  padding: 6px 9px;\n}\n\n.escher-container .helpButton {\n  color: #d9230f!important;\n  padding: 0px 5px;\n  background-color: #f5f5f5!important;\n  border: 0!important;\n  text-decoration: unset;\n  height: fit-content;\n  position: absolute;\n  right: 0;\n  font-size: 12px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .menu-bar .icon-sort-down {\n  position: absolute;\n  font-size: 10px;\n  margin-left: -5px;\n}\n\n@media (min-width: 550px) {\n  .escher-container .menu-bar {\n    padding-right: 25px;\n  }\n\n  .escher-container .dropdown {\n    font-size: 18px;\n  }\n\n  .escher-container .dropdownButton {\n    padding: 6px 10px;\n    padding-right: 16px;\n  }\n\n  .escher-container .helpButton {\n    font-size: 16px;\n  }\n\n  .escher-container .menu-bar .icon-sort-down {\n    font-size: 14px;\n  }\n}\n\n.escher-container .menu {\n  box-sizing: border-box;\n  font-weight: normal!important;\n  word-spacing: 0;\n  position: absolute;\n  white-space: nowrap;\n  top: 103%;\n  left: -1%;\n  z-index: 1000;\n  display: block;\n  float: none;\n  min-width: 160px;\n  padding: 5px 0;\n  list-style: none;\n  font-size: 13px;\n  box-shadow: 0 6px 12px rgba(0,0,0,0.175);\n  background-clip: padding-box;\n  border: 1px solid #ddd;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 0;\n  margin: 0;\n  text-align: left;\n}\n\n.escher-container #rightMenu {\n  left: auto;\n  right: -2%;\n}\n\n.escher-container .menu li:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menu li, .menu label {\n  font-size: 15px;\n  display: block;\n  color: #444444;\n\n  /* these sometimes get overridden */\n  font-weight: normal !important;\n  margin: 0 !important;\n}\n\n.escher-container .menu.ul.li {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n\n.escher-container .menuButton {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px 20px;\n  margin: 0;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container label:focus, .menuButton:focus {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menuButton:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container input[type="file"] {\n  display: none;\n}\n\n.escher-container #disabled {\n  color: #e0e0e0;\n}\n\n.escher-container #disabled:hover, #disabled:focus {\n  background-color: rgba(255, 255, 255, 0.95);\n  cursor: default;\n}\n',""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(5),c=n(4),l=r(c),u=n(3),f=r(u),h=n(12),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h),p=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.assignKeyForInput=r.assignKeyForInput.bind(r),r}return a(e,t),e.prototype.handleFileInput=function(t){var e=this,n=t.files[0],r=new window.FileReader;r.onload=function(){f.default.load_json_or_csv(n,d.csv_converter,function(t,n){return e.props.onClick(n)})},void 0!==n&&r.readAsText(n),t.value=null},e.prototype.assignKeyForInput=function(t){this.props.assignKey&&this.props.assignKey(function(){return t.click()})},e.prototype.render=function(){var t=this,e=l.default.contains(this.props.disabledButtons,this.props.name.replace(/ \(.*\)$/,""));return"load"===this.props.type?(0,s.h)("label",{className:"menuButton",tabindex:e?"-1":"0",id:e?"disabled":""},(0,s.h)("input",{type:"file",onChange:function(e){return t.handleFileInput(e.target)},disabled:e,ref:this.assignKeyForInput}),this.props.name):this.props.checkMark?(0,s.h)("li",{className:"menuButton",tabindex:e?"-1":"0",onClick:this.props.onClick,id:e?"disabled":""},(0,s.h)("i",{className:"icon-ok","aria-hidden":"true"},"\xa0"),this.props.name):(0,s.h)("li",{className:"menuButton",tabindex:e?"-1":"0",onClick:e?null:this.props.onClick,id:e?"disabled":""},this.props.name)},e}(s.Component);e.default=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5);n(68);var s=n(4),c=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.state={current:0,searchItem:n.searchItem,counter:""},o}return o(e,t),e.prototype.componentWillMount=function(){var t=this;this.setState({clearEscape:this.props.map.key_manager.addEscapeListener(function(){return t.close()},!0),clearNext:this.props.map.key_manager.addKeyListener(["enter","ctrl+g"],function(){return t.next()},!1),clearPrevious:this.props.map.key_manager.addKeyListener(["shift+enter","shift+ctrl+g"],function(){return t.previous()},!1)})},e.prototype.componentDidMount=function(){this.inputRef.focus()},e.prototype.componentWillUnmount=function(){this.state.clearEscape(),this.state.clearNext(),this.state.clearPrevious(),this.props.map.highlight(null)},e.prototype.handleInput=function(t){var e=this.dropDuplicates(this.props.map.search_index.find(t)),n="";if(null!==e&&t)if(0===e.length)n="0 / 0",this.props.map.highlight(null);else{this.state.current>=e.length&&this.setState({current:0}),n=this.state.current+1+"/"+e.length;var r=e[this.state.current];if("reaction"===r.type)this.props.map.zoom_to_reaction(r.reaction_id),this.props.map.highlight_reaction(r.reaction_id);else if("metabolite"===r.type)this.props.map.zoom_to_node(r.node_id),this.props.map.highlight_node(r.node_id);else{if("text_label"!==r.type)throw new Error("Bad search index data type: "+r.type);this.props.map.zoom_to_text_label(r.text_label_id),this.props.map.highlight_text_label(r.text_label_id)}}else this.props.map.highlight(null);this.setState({searchItem:t,current:0,counter:n,results:e})},e.prototype.dropDuplicates=function(t){var e={metabolite:{type:"m",key:"node_id"},reaction:{type:"r",key:"reaction_id"},text_label:{type:"t",key:"text_label_id"}};return c.default.uniq(t,function(t){var n=e[t.type];return""+n.type+t[n.key]})},e.prototype.next=function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+1)%this.state.results.length)},e.prototype.previous=function(){this.state.results&&this.state.results.length>0&&this.update((this.state.current+this.state.results.length-1)%this.state.results.length)},e.prototype.update=function(t){this.setState({current:t,counter:t+1+"/"+this.state.results.length});var e=this.state.results[t];if("reaction"===e.type)this.props.map.zoom_to_reaction(e.reaction_id),this.props.map.highlight_reaction(e.reaction_id);else if("metabolite"===e.type)this.props.map.zoom_to_node(e.node_id),this.props.map.highlight_node(e.node_id);else{if("text_label"!==e.type)throw new Error("Bad search index data type: "+e.type);this.props.map.zoom_to_text_label(e.text_label_id),this.props.map.highlight_text_label(e.text_label_id)}},e.prototype.close=function(){this.props.setDisplay(!1)},e.prototype.render=function(){var t=this;return(0,a.h)("div",{className:"search-container"},(0,a.h)("input",{className:"search-field",value:this.state.searchItem,onInput:function(e){return t.handleInput(e.target.value)},ref:function(e){t.inputRef=e}}),(0,a.h)("button",{className:"search-bar-button left btn",onClick:function(){return t.previous()}},(0,a.h)("i",{className:"icon-left-open"})),(0,a.h)("button",{className:"search-bar-button right btn",onClick:function(){return t.next()}},(0,a.h)("i",{className:"icon-right-open"})),(0,a.h)("div",{className:"search-counter"},this.state.counter),(0,a.h)("button",{className:"search-bar-button btn",onClick:function(){return t.close()}},(0,a.h)("i",{className:"icon-cancel"})))},e}(a.Component);e.default=l},function(t,e,n){var r=n(69);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,".escher-container .search-container {\n  display: flex;\n  flex-direction: row;\n  background-color: rgba(255, 255, 255, 0.95);\n  padding: 3px;\n  border: 1px solid #DDD;\n}\n\n.escher-container .search-container .search-field {\n  flex: 0 0 auto;\n  color: #777;\n  border: 1px solid #DDD;\n  width: 114px;\n  height: 29px;\n  border-radius: 3px;\n  font-size: 13px;\n}\n\n.escher-container .search-container .search-counter {\n  flex: 1;\n  color: #777;\n  font-size: 13px;\n  padding: 9px 0 0 6px;\n}\n\n.escher-container .search-container .search-bar-button {\n  flex: 0 0 auto;\n  border-radius: 4px;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 14px;\n  font-weight: 400;\n  height: 29px;\n  width: 34px;\n  margin: 3px;\n}\n\n.escher-container .search-container .search-bar-button.left {\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n  margin-right: 0;\n}\n\n.escher-container .search-container .search-bar-button.right {\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n  margin-left: 0;\n}\n\n.escher-container .search-container .search-bar-button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n",""])},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5);n(71);var s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.render=function(){var t=this,e=this.props.settings.get("menu"),n=this.props.settings.get("enable_keys"),r=this.props.settings.get("enable_editing");return(0,a.h)("ul",{className:"button-panel"},(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.zoomContainer.zoom_in()},title:"Zoom in"+(n?" (+)":"")},(0,a.h)("i",{className:"icon-zoom-in"}))),(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.zoomContainer.zoom_out()},title:"Zoom out"+(n?" (-)":"")},(0,a.h)("i",{className:"icon-zoom-out"}))),(0,a.h)("li",null,(0,a.h)("button",{className:"button btn",onClick:function(){return t.props.map.zoom_extent_canvas()},title:"Zoom to canvas"+(n?" (1)":"")},(0,a.h)("i",{className:"icon-resize-full"}))),(0,a.h)("li",{style:{display:!1!==this.props.settings.get("full_screen_button")?"block":"none"}},(0,a.h)("button",{className:"button btn "+(this.props.isFullScreen?"active-button":""),onClick:function(){return t.props.full_screen()},title:"Toggle full screen"},(0,a.h)("i",{className:"icon-resize-full-alt"}))),(0,a.h)("li",{className:"grouping",style:{display:"all"===e&&r?"block":"none"}},(0,a.h)("button",{className:"buttonGroup btn",title:"Pan mode"+(n?" (Z)":""),for:"zoom",id:"zoom"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("zoom")}},(0,a.h)("i",{className:"icon-move"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Select mode"+(n?" (V)":""),for:"brush",id:"brush"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("brush")}},(0,a.h)("i",{className:"icon-mouse-pointer"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Add reaction mode"+(n?" (N)":""),for:"build",onClick:function(){return t.props.setMode("build")},id:"build"===this.props.mode?"currentMode":null},(0,a.h)("i",{className:"icon-wrench"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Rotate mode"+(n?" (R)":""),for:"rotate",id:"rotate"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("rotate")}},(0,a.h)("i",{className:"icon-cw"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Text mode"+(n?" (T)":""),for:"text",id:"text"===this.props.mode?"currentMode":null,onClick:function(){return t.props.setMode("text")}},(0,a.h)("i",{className:"icon-font"}))),(0,a.h)("li",{className:"grouping",style:{display:"build"===this.props.mode&&"all"===e&&r?"block":"none"}},(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2190)":""),onClick:function(){return t.props.buildInput.direction_arrow.left()}},(0,a.h)("i",{className:"icon-left-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2192)":""),onClick:function(){return t.props.buildInput.direction_arrow.right()}},(0,a.h)("i",{className:"icon-right-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2191)":""),onClick:function(){return t.props.buildInput.direction_arrow.up()}},(0,a.h)("i",{className:"icon-up-big"})),(0,a.h)("button",{className:"buttonGroup btn",title:"Direction arrow"+(n?" (\u2193)":""),onClick:function(){return t.props.buildInput.direction_arrow.down()}},(0,a.h)("i",{className:"icon-down-big"}))))},e}(a.Component);e.default=s},function(t,e,n){var r=n(72);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,".escher-container .button-panel {\n  position: absolute;\n  left: 4px;\n  top: 20%;\n  margin-top: -32px;\n  padding-left: 0;\n  touch-action: none;\n}\n\n.escher-container .button-panel>li {\n  margin-top: 5px;\n  display: block;\n\n  /* these sometimes get overridden */\n  margin-left: 0 !important;\n}\n\n.escher-container .grouping {\n  display: block;\n}\n\n.escher-container .buttonGroup {\n  display: block;\n  margin-bottom: -1px;\n  padding: 5px 0px;\n  border-radius: 0;\n}\n\n.escher-container .grouping>.buttonGroup:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n.escher-container .grouping>.buttonGroup:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.escher-container .button-panel>.grouping:last-child {\n  margin-top: 4px;\n}\n\n.escher-container #currentMode,\n.escher-container .active-button {\n  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d) !important;\n}\n\n.escher-container .buttonGroup.btn {\n  margin-top: -1px;\n}\n\n.escher-container .button {\n  border-radius: 4px;\n}\n\n.escher-container .button.btn, .escher-container .buttonGroup.btn {\n  padding: unset;\n  color: white!important;\n  border: 1px solid #474949;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px!important;\n  font-weight: 400;\n  width: 40px;\n  height: 40px;\n}\n\n.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .button-panel .fa {\n  font-size: 24px;\n}\n\n/* Icons */\n.escher-container .button-panel [class^='icon-'] {\n  font-size: 23px;\n}\n",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=n(13),a=r(o),s=n(17),c=r(s),l=n(36),u=r(l),f=n(4),h=r(f),d=function(){function t(e,n,r,o,s){var c=this;i(this,t),this.div=e.append("div").attr("id","tooltip-container"),this.tooltipRef=null,this.zoomContainer=r,this.setUpZoomCallbacks(r),this.callbackManager=new a.default,this.div.on("mouseover",this.cancelHideTooltip.bind(this)),this.div.on("mouseleave",this.hide.bind(this)),this.map=o,this.setUpMapCallbacks(o),this.settings=s,this.delay_hide_timeout=null,this.currentTooltip=null,(0,u.default)(n,null,function(t){return c.callbackManager.set("pass_props",t)},this.div.node(),function(t){c.tooltipRef=t}),this.passProps({display:!1,disableTooltips:function(){return c.disableTooltips()}})}return t.prototype.disableTooltips=function(){this.settings.set("enable_tooltips",!1),this.map.draw_everything(),this.hide(),this.map.set_status("Tooltips disabled. You can enable them again in the\n                         settings menu.",3e3)},t.prototype.passProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.callbackManager.run("pass_props",null,t)},t.prototype.setUpMapCallbacks=function(t){var e=this;this.placedDiv=(0,c.default)(this.div,t,void 0,!1),t.callback_manager.set("show_tooltip.tooltip_container",function(t,n){e.show(t,n)}),t.callback_manager.set("hide_tooltip.tooltip_container",function(){return e.hide()}),t.callback_manager.set("delay_hide_tooltip.tooltip_container",function(){return e.delayHide()}),t.sel.selectAll(".canvas-group").on("touchend",function(){return e.hide()})},t.prototype.setUpZoomCallbacks=function(t){t.callbackManager.set("zoom.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this)),t.callbackManager.set("go_to.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this))},t.prototype.is_visible=function(){return this.placedDiv.is_visible()},t.prototype.show=function(t,e){if(this.cancelHideTooltip(),!h.default.contains(["reaction_label","node_label","gene_label","reaction_object","node_object"],t))throw new Error("Tooltip not supported for object type "+t);var n=null!==this.tooltipRef&&this.tooltipRef.get_size?this.tooltipRef.get_size():{width:270,height:100};this.currentTooltip={type:t,id:e[t.replace("_label","_id").replace("_object","_id")]};var r=this.zoomContainer.windowTranslate,i=this.zoomContainer.windowScale,o=null!==this.map?this.map.get_size():{width:1e3,height:1e3},a={x:0,y:0},s="reaction_object"===t?e.xPos:e.label_x,c="reaction_object"===t?e.yPos:e.label_y,l=i*s+r.x+n.width,u=i*c+r.y+n.height;o.width<500?(l>o.width&&(a.x=-(l-o.width)/i),u>o.height-74&&(a.y=-(u-o.height+77)/i)):(i*s+r.x+.5*n.width>o.width?a.x=-n.width/i:l>o.width&&(a.x=-(l-o.width)/i),i*c+r.y+.5*n.height>o.height-45?a.y=-n.height/i:u>o.height-45&&(a.y=-(u-o.height+47)/i));var f={x:s+a.x,y:c+10+a.y};this.placedDiv.place(f),this.passProps({display:!0,biggId:e.bigg_id,name:e.name,loc:f,data:e.data_string,type:t.replace("_label","").replace("node","metabolite").replace("_object","")})},t.prototype.hide=function(){this.placedDiv.hide(),this.currentTooltip=null},t.prototype.delayHide=function(){var t=this;this.delayHideTimeout=setTimeout(function(){return t.hide()},100)},t.prototype.cancelHideTooltip=function(){null!==this.delayHideTimeout&&clearTimeout(this.delayHideTimeout)},t}();e.default=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=n(5);n(75);var s=n(3),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.openBigg=n.openBigg.bind(n),n}return o(e,t),e.prototype.decompartmentalizeCheck=function(t,e){return"metabolite"===e?c.decompartmentalize(t)[0]:t},e.prototype.openBigg=function(){var t=this.props.type,e=this.props.biggId,n="http://bigg.ucsd.edu/",r="gene"===t?n+"search?query="+e:n+"universal/"+t+"s/"+this.decompartmentalizeCheck(e,t);window.open(r)},e.prototype.capitalizeFirstLetter=function(t){return"string"===typeof t?t.charAt(0).toUpperCase()+t.slice(1):console.warn("capitalizeFirstLetter was passed something other than a string")},e.prototype.render=function(){var t=this.decompartmentalizeCheck(this.props.biggId,this.props.type),e="Open "+t+" in BiGG Models.";return(0,a.h)("div",{className:"default-tooltip"},(0,a.h)("div",{className:"id"},this.props.biggId),(0,a.h)("div",{className:"name"},"name: ",this.props.name),(0,a.h)("div",{className:"data"},"data: ",this.props.data&&"(nd)"!==this.props.data?this.props.data:"no data"),(0,a.h)("button",{onClick:this.openBigg},e),(0,a.h)("div",{className:"top-right"},(0,a.h)("div",{className:"type-label"},this.capitalizeFirstLetter(this.props.type)),(0,a.h)("a",{onClick:this.props.disableTooltips},"Disable Tooltips")))},e}(a.Component);e.default=l},function(t,e,n){var r=n(76);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,".escher-container .default-tooltip {\n  box-sizing: border-box;\n  min-width: 300px;\n  min-height: 100px;\n  border-radius: 2px;\n  border: 1px solid #b58787;\n  padding: 7px;\n  background-color: #fff;\n  text-align: left;\n  font-size: 16px;\n  font-family: sans-serif;\n  color: #111;\n  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);\n}\n\n.escher-container .default-tooltip .id{\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.escher-container .default-tooltip button {\n  border-radius: 3px;\n  background-color: #eee;\n  border: 1px solid #ddd;\n  margin-top: 4px;\n  font-size: 16px;\n  padding: 3px 6px;\n}\n\n.escher-container .default-tooltip .top-right {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n\n.escher-container .default-tooltip .top-right * {\n  float: right;\n  text-align: right;\n}\n\n.escher-container .default-tooltip .top-right a {\n  font-size: 11px;\n  color: #999;\n  cursor: pointer;\n}\n.escher-container .default-tooltip .top-right a:hover {\n  color: #444;\n  text-decoration: underline;\n}\n\n.escher-container .default-tooltip .type-label {\n  font-size: 15px;\n  color: #d27066;\n  background-color: #ffeded;\n  border-radius: 2px;\n  margin: 0 0 0 10px;\n  padding: 0 5px;\n}\n",""])},function(t,e,n){var r=n(78);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1);var r=n(79),i=r(n(37)),o=r(n(37)+"#iefix"),a=r(n(80)),s=r(n(81)),c=r(n(82)),l=r(n(83)+"#fontello");e.push([t.i,"@font-face {\n  font-family: 'fontello';\n  src: url("+i+");\n  src: url("+o+") format('embedded-opentype'),\n       url("+a+") format('woff2'),\n       url("+s+") format('woff'),\n       url("+c+") format('truetype'),\n       url("+l+") format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontello';\n    src: url('../font/fontello.svg?9130959#fontello') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"fontello\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-ok:before { content: '\\e800'; } /* '\ue800' */\n.icon-cancel:before { content: '\\e801'; } /* '\ue801' */\n.icon-plus:before { content: '\\e802'; } /* '\ue802' */\n.icon-down-big:before { content: '\\e803'; } /* '\ue803' */\n.icon-left-big:before { content: '\\e804'; } /* '\ue804' */\n.icon-right-big:before { content: '\\e805'; } /* '\ue805' */\n.icon-up-big:before { content: '\\e806'; } /* '\ue806' */\n.icon-left-open:before { content: '\\e807'; } /* '\ue807' */\n.icon-right-open:before { content: '\\e808'; } /* '\ue808' */\n.icon-wrench:before { content: '\\e809'; } /* '\ue809' */\n.icon-resize-full:before { content: '\\e80a'; } /* '\ue80a' */\n.icon-cw:before { content: '\\e80b'; } /* '\ue80b' */\n.icon-trash-empty:before { content: '\\e80e'; } /* '\ue80e' */\n.icon-font:before { content: '\\e80f'; } /* '\ue80f' */\n.icon-zoom-in:before { content: '\\e810'; } /* '\ue810' */\n.icon-zoom-out:before { content: '\\e811'; } /* '\ue811' */\n.icon-move:before { content: '\\f047'; } /* '\uf047' */\n.icon-resize-full-alt:before { content: '\\f0b2'; } /* '\uf0b2' */\n.icon-blank:before { content: '\\f0c8'; } /* '\uf0c8' */\n.icon-sort-down:before { content: '\\f0dd'; } /* '\uf0dd' */\n.icon-mouse-pointer:before { content: '\\f245'; } /* '\uf245' */",""])},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e){t.exports="data:application/font-woff2;base64,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"},function(t,e){t.exports="data:application/font-woff;base64,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"},function(t,e){t.exports="data:application/octet-stream;base64,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"},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxtZXRhZGF0YT5Db3B5cmlnaHQgKEMpIDIwMTcgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbTwvbWV0YWRhdGE+CjxkZWZzPgo8Zm9udCBpZD0iZm9udGVsbG8iIGhvcml6LWFkdi14PSIxMDAwIiA+Cjxmb250LWZhY2UgZm9udC1mYW1pbHk9ImZvbnRlbGxvIiBmb250LXdlaWdodD0iNDAwIiBmb250LXN0cmV0Y2g9Im5vcm1hbCIgdW5pdHMtcGVyLWVtPSIxMDAwIiBhc2NlbnQ9Ijg1MCIgZGVzY2VudD0iLTE1MCIgLz4KPG1pc3NpbmctZ2x5cGggaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJvayIgdW5pY29kZT0iJiN4ZTgwMDsiIGQ9Ik05MzMgNTM0cTAtMjItMTYtMzhsLTQwNC00MDQtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtNzYgNzYtMjAyIDIwMnEtMTUgMTYtMTUgMzh0MTUgMzhsNzYgNzZxMTYgMTYgMzggMTZ0MzgtMTZsMTY0LTE2NSAzNjYgMzY3cTE2IDE2IDM4IDE2dDM4LTE2bDc2LTc2cTE2LTE1IDE2LTM4eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2FuY2VsIiB1bmljb2RlPSImI3hlODAxOyIgZD0iTTcyNCAxMTJxMC0yMi0xNS0zOGwtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtMTY0IDE2NS0xNjQtMTY1cS0xNi0xNS0zOC0xNXQtMzggMTVsLTc2IDc2cS0xNiAxNi0xNiAzOHQxNiAzOGwxNjQgMTY0LTE2NCAxNjRxLTE2IDE2LTE2IDM4dDE2IDM4bDc2IDc2cTE2IDE2IDM4IDE2dDM4LTE2bDE2NC0xNjQgMTY0IDE2NHExNiAxNiAzOCAxNnQzOC0xNmw3Ni03NnExNS0xNSAxNS0zOHQtMTUtMzhsLTE2NC0xNjQgMTY0LTE2NHExNS0xNSAxNS0zOHoiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJwbHVzIiB1bmljb2RlPSImI3hlODAyOyIgZD0iTTc4NiA0Mzl2LTEwN3EwLTIyLTE2LTM4dC0zOC0xNWgtMjMydi0yMzNxMC0yMi0xNi0zN3QtMzgtMTZoLTEwN3EtMjIgMC0zOCAxNnQtMTUgMzd2MjMzaC0yMzJxLTIzIDAtMzggMTV0LTE2IDM4djEwN3EwIDIzIDE2IDM4dDM4IDE2aDIzMnYyMzJxMCAyMiAxNSAzOHQzOCAxNmgxMDdxMjMgMCAzOC0xNnQxNi0zOHYtMjMyaDIzMnEyMyAwIDM4LTE2dDE2LTM4eiIgaG9yaXotYWR2LXg9Ijc4NS43IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9ImRvd24tYmlnIiB1bmljb2RlPSImI3hlODAzOyIgZD0iTTg5OSAzODZxMC0zMC0yMS01MGwtMzYzLTM2NHEtMjItMjEtNTEtMjEtMjkgMC01MCAyMWwtMzYzIDM2NHEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWw0MSA0MXEyMiAyMSA1MSAyMSAyOSAwIDUwLTIxbDE2NC0xNjR2MzkzcTAgMjkgMjEgNTB0NTEgMjJoNzFxMjkgMCA1MC0yMnQyMS01MHYtMzkzbDE2NSAxNjRxMjAgMjEgNTAgMjEgMjkgMCA1MS0yMWw0MS00MXEyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNDsiIGQ9Ik04NTcgMzUwdi03MXEwLTMwLTE4LTUxdC00Ny0yMWgtMzkzbDE2NC0xNjRxMjEtMjAgMjEtNTB0LTIxLTUwbC00Mi00M3EtMjEtMjAtNTEtMjAtMjkgMC01MCAyMGwtMzY0IDM2NHEtMjAgMjEtMjAgNTAgMCAyOSAyMCA1MWwzNjQgMzYzcTIxIDIxIDUwIDIxIDI5IDAgNTEtMjFsNDItNDFxMjEtMjIgMjEtNTF0LTIxLTUxbC0xNjQtMTY0aDM5M3EyOSAwIDQ3LTIwdDE4LTUxeiIgaG9yaXotYWR2LXg9Ijg1Ny4xIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9InJpZ2h0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNTsiIGQ9Ik04MjEgMzE0cTAtMzAtMjAtNTBsLTM2My0zNjRxLTIyLTIwLTUxLTIwLTI5IDAtNTAgMjBsLTQyIDQycS0yMiAyMS0yMiA1MXQyMiA1MWwxNjMgMTYzaC0zOTNxLTI5IDAtNDcgMjF0LTE4IDUxdjcxcTAgMzAgMTggNTF0NDcgMjBoMzkzbC0xNjMgMTY1cS0yMiAyMC0yMiA1MHQyMiA1MGw0MiA0MnEyMSAyMSA1MCAyMSAyOSAwIDUxLTIxbDM2My0zNjNxMjAtMjAgMjAtNTF6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idXAtYmlnIiB1bmljb2RlPSImI3hlODA2OyIgZD0iTTg5OSAzMDhxMC0yOC0yMS01MGwtNDEtNDJxLTIyLTIxLTUxLTIxLTMwIDAtNTAgMjFsLTE2NSAxNjR2LTM5M3EwLTI5LTIwLTQ3dC01MS0xOWgtNzFxLTMwIDAtNTEgMTl0LTIxIDQ3djM5M2wtMTY0LTE2NHEtMjAtMjEtNTAtMjF0LTUwIDIxbC00MiA0MnEtMjEgMjEtMjEgNTAgMCAzMCAyMSA1MWwzNjMgMzYzcTIwIDIxIDUwIDIxIDMwIDAgNTEtMjFsMzYzLTM2M3EyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LW9wZW4iIHVuaWNvZGU9IiYjeGU4MDc7IiBkPSJNNjU0IDY4MmwtMjk3LTI5NiAyOTctMjk3cTEwLTEwIDEwLTI1dC0xMC0yNWwtOTMtOTNxLTExLTEwLTI1LTEwdC0yNSAxMGwtNDE0IDQxNXEtMTEgMTAtMTEgMjV0MTEgMjVsNDE0IDQxNHExMCAxMSAyNSAxMXQyNS0xMWw5My05M3ExMC0xMCAxMC0yNXQtMTAtMjV6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmlnaHQtb3BlbiIgdW5pY29kZT0iJiN4ZTgwODsiIGQ9Ik02MTggMzYxbC00MTQtNDE1cS0xMS0xMC0yNS0xMHQtMjUgMTBsLTkzIDkzcS0xMSAxMS0xMSAyNXQxMSAyNWwyOTYgMjk3LTI5NiAyOTZxLTExIDExLTExIDI1dDExIDI1bDkzIDkzcTEwIDExIDI1IDExdDI1LTExbDQxNC00MTRxMTAtMTEgMTAtMjV0LTEwLTI1eiIgaG9yaXotYWR2LXg9IjcxNC4zIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9IndyZW5jaCIgdW5pY29kZT0iJiN4ZTgwOTsiIGQ9Ik0yMTQgMjlxMCAxNC0xMCAyNXQtMjUgMTAtMjUtMTAtMTEtMjUgMTEtMjUgMjUtMTEgMjUgMTEgMTAgMjV6IG0zNjAgMjM0bC0zODEtMzgxcS0yMS0yMC01MC0yMC0yOSAwLTUxIDIwbC01OSA2MXEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWwzODAgMzgwcTIyLTU1IDY0LTk3dDk3LTY0eiBtMzU0IDI0M3EwLTIyLTEzLTU5LTI3LTc1LTkyLTEyMnQtMTQ0LTQ2cS0xMDQgMC0xNzcgNzN0LTczIDE3NyA3MyAxNzYgMTc3IDc0cTMyIDAgNjctMTB0NjAtMjZxOS02IDktMTV0LTktMTZsLTE2My05NHYtMTI1bDEwOC02MHEyIDIgNDQgMjd0NzUgNDUgNDAgMjBxOCAwIDEzLTV0NS0xNHoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJyZXNpemUtZnVsbCIgdW5pY29kZT0iJiN4ZTgwYTsiIGQ9Ik00MjEgMjYxcTAtNy01LTEzbC0xODUtMTg1IDgwLTgxcTEwLTEwIDEwLTI1dC0xMC0yNS0yNS0xMWgtMjUwcS0xNSAwLTI1IDExdC0xMSAyNXYyNTBxMCAxNSAxMSAyNXQyNSAxMSAyNS0xMWw4MC04MCAxODYgMTg1cTUgNiAxMiA2dDEzLTZsNjQtNjNxNS02IDUtMTN6IG00MzYgNDgydi0yNTBxMC0xNS0xMC0yNXQtMjYtMTEtMjUgMTFsLTgwIDgwLTE4NS0xODVxLTYtNi0xMy02dC0xMyA2bC02NCA2NHEtNSA1LTUgMTJ0NSAxM2wxODYgMTg1LTgxIDgxcS0xMCAxMC0xMCAyNXQxMCAyNSAyNSAxMWgyNTBxMTUgMCAyNi0xMXQxMC0yNXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJjdyIgdW5pY29kZT0iJiN4ZTgwYjsiIGQ9Ik04NTcgNzA3di0yNTBxMC0xNC0xMC0yNXQtMjYtMTFoLTI1MHEtMjMgMC0zMiAyMy0xMCAyMiA3IDM4bDc3IDc3cS04MiA3Ny0xOTQgNzctNTggMC0xMTEtMjN0LTkxLTYxLTYxLTkxLTIzLTExMSAyMy0xMTEgNjEtOTEgOTEtNjEgMTExLTIzcTY2IDAgMTI1IDI5dDEwMCA4MnE0IDYgMTMgNyA4IDAgMTQtNWw3Ni03N3E1LTQgNi0xMXQtNS0xM3EtNjAtNzQtMTQ3LTExNHQtMTgyLTQxcS04NyAwLTE2NyAzNHQtMTM2IDkyLTkyIDEzNy0zNCAxNjYgMzQgMTY2IDkyIDEzNyAxMzYgOTIgMTY3IDM0cTgyIDAgMTU4LTMxdDEzNy04OGw3MiA3MnExNyAxOCAzOSA4IDIyLTkgMjItMzN6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idHJhc2gtZW1wdHkiIHVuaWNvZGU9IiYjeGU4MGU7IiBkPSJNMjg2IDQzOXYtMzIxcTAtOC01LTEzdC0xMy01aC0zNnEtOCAwLTEzIDV0LTUgMTN2MzIxcTAgOCA1IDEzdDEzIDVoMzZxOCAwIDEzLTV0NS0xM3ogbTE0MyAwdi0zMjFxMC04LTUtMTN0LTEzLTVoLTM2cS04IDAtMTMgNXQtNSAxM3YzMjFxMCA4IDUgMTN0MTMgNWgzNnE4IDAgMTMtNXQ1LTEzeiBtMTQyIDB2LTMyMXEwLTgtNS0xM3QtMTItNWgtMzZxLTggMC0xMyA1dC01IDEzdjMyMXEwIDggNSAxM3QxMyA1aDM2cTcgMCAxMi01dDUtMTN6IG03Mi00MDR2NTI5aC01MDB2LTUyOXEwLTEyIDQtMjJ0OC0xNSA2LTVoNDY0cTIgMCA2IDV0OCAxNSA0IDIyeiBtLTM3NSA2MDFoMjUwbC0yNyA2NXEtNCA1LTkgNmgtMTc3cS02LTEtMTAtNnogbTUxOC0xOHYtMzZxMC04LTUtMTN0LTEzLTVoLTU0di01MjlxMC00Ni0yNi04MHQtNjMtMzRoLTQ2NHEtMzcgMC02MyAzM3QtMjcgNzl2NTMxaC01M3EtOCAwLTEzIDV0LTUgMTN2MzZxMCA4IDUgMTN0MTMgNWgxNzJsMzkgOTNxOSAyMSAzMSAzNXQ0NCAxNWgxNzhxMjMgMCA0NC0xNXQzMC0zNWwzOS05M2gxNzNxOCAwIDEzLTV0NS0xM3oiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJmb250IiB1bmljb2RlPSImI3hlODBmOyIgZD0iTTQwNSA1MzhsLTk1LTI1MXExOCAwIDc2LTF0ODktMXExMSAwIDMyIDEtNDggMTQxLTEwMiAyNTJ6IG0tNDA1LTYxN2wxIDQ0cTEzIDQgMzEgN3QzMiA2IDI4IDggMjUgMTcgMTcgMjhsMTMyIDM0NCAxNTYgNDA0aDcycTQtOCA2LTEybDExNC0yNjhxMTktNDMgNjAtMTQ0dDYzLTE1M3E5LTE5IDMzLTgwdDQwLTk0cTExLTI2IDE5LTMyIDExLTkgNDktMTd0NDctMTFxNC0yMiA0LTMyIDAtMy0xLTh0MC03cS0zNSAwLTEwNiA1dC0xMDcgNHEtNDIgMC0xMjAtNHQtOTktNHEwIDI0IDIgNDNsNzMgMTZxMSAwIDcgMXQ5IDIgOCAzIDkgNCA2IDQgNSA2IDEgOHEwIDktMTcgNTR0LTQwIDk5LTI0IDU2bC0yNTEgMXEtMTQtMzItNDMtMTA5dC0yOC05MXEwLTEyIDgtMjF0MjQtMTQgMjctNyAzMi01IDIzLTJxMS0xMSAxLTMyIDAtNS0xLTE2LTMzIDAtOTggNnQtOTcgNnEtNSAwLTE1LTN0LTEyLTJxLTQ1LTgtMTA1LTh6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iem9vbS1pbiIgdW5pY29kZT0iJiN4ZTgxMDsiIGQ9Ik01NzEgNDA0di0zNnEwLTctNS0xM3QtMTItNWgtMTI1di0xMjVxMC03LTYtMTN0LTEyLTVoLTM2cS03IDAtMTMgNXQtNSAxM3YxMjVoLTEyNXEtNyAwLTEyIDV0LTYgMTN2MzZxMCA3IDYgMTJ0MTIgNWgxMjV2MTI1cTAgOCA1IDEzdDEzIDVoMzZxNyAwIDEyLTV0Ni0xM3YtMTI1aDEyNXE3IDAgMTItNXQ1LTEyeiBtNzItMThxMCAxMDMtNzMgMTc2dC0xNzcgNzQtMTc3LTc0LTczLTE3NiA3My0xNzcgMTc3LTczIDE3NyA3MyA3MyAxNzd6IG0yODYtNDY1cTAtMjktMjEtNTB0LTUxLTIxcS0zMCAwLTUwIDIxbC0xOTEgMTkxcS0xMDAtNjktMjIzLTY5LTgwIDAtMTUzIDMxdC0xMjUgODQtODQgMTI1LTMxIDE1MyAzMSAxNTIgODQgMTI2IDEyNSA4NCAxNTMgMzEgMTUzLTMxIDEyNS04NCA4NC0xMjYgMzEtMTUycTAtMTIzLTY5LTIyM2wxOTEtMTkxcTIxLTIxIDIxLTUxeiIgaG9yaXotYWR2LXg9IjkyOC42IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Inpvb20tb3V0IiB1bmljb2RlPSImI3hlODExOyIgZD0iTTU3MSA0MDR2LTM2cTAtNy01LTEzdC0xMi01aC0zMjJxLTcgMC0xMiA1dC02IDEzdjM2cTAgNyA2IDEydDEyIDVoMzIycTcgMCAxMi01dDUtMTJ6IG03Mi0xOHEwIDEwMy03MyAxNzZ0LTE3NyA3NC0xNzctNzQtNzMtMTc2IDczLTE3NyAxNzctNzMgMTc3IDczIDczIDE3N3ogbTI4Ni00NjVxMC0yOS0yMS01MHQtNTEtMjFxLTMwIDAtNTAgMjFsLTE5MSAxOTFxLTEwMC02OS0yMjMtNjktODAgMC0xNTMgMzF0LTEyNSA4NC04NCAxMjUtMzEgMTUzIDMxIDE1MiA4NCAxMjYgMTI1IDg0IDE1MyAzMSAxNTMtMzEgMTI1LTg0IDg0LTEyNiAzMS0xNTJxMC0xMjMtNjktMjIzbDE5MS0xOTFxMjEtMjEgMjEtNTF6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0ibW92ZSIgdW5pY29kZT0iJiN4ZjA0NzsiIGQ9Ik0xMDAwIDM1MHEwLTE0LTExLTI1bC0xNDItMTQzcS0xMS0xMS0yNi0xMXQtMjUgMTEtMTAgMjV2NzJoLTIxNXYtMjE1aDcycTE0IDAgMjUtMTB0MTEtMjUtMTEtMjVsLTE0My0xNDNxLTEwLTExLTI1LTExdC0yNSAxMWwtMTQzIDE0M3EtMTEgMTAtMTEgMjV0MTEgMjUgMjUgMTBoNzJ2MjE1aC0yMTV2LTcycTAtMTQtMTAtMjV0LTI1LTExLTI1IDExbC0xNDMgMTQzcS0xMSAxMS0xMSAyNXQxMSAyNWwxNDMgMTQzcTEwIDExIDI1IDExdDI1LTExIDEwLTI1di03MmgyMTV2MjE1aC03MnEtMTQgMC0yNSAxMHQtMTEgMjUgMTEgMjZsMTQzIDE0MnExMSAxMSAyNSAxMXQyNS0xMWwxNDMtMTQycTExLTExIDExLTI2dC0xMS0yNS0yNS0xMGgtNzJ2LTIxNWgyMTV2NzJxMCAxNCAxMCAyNXQyNSAxMSAyNi0xMWwxNDItMTQzcTExLTEwIDExLTI1eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmVzaXplLWZ1bGwtYWx0IiB1bmljb2RlPSImI3hmMGIyOyIgZD0iTTcxNiA1NDhsLTE5OC0xOTggMTk4LTE5OCA4MCA4MHExNyAxOCAzOSA4IDIyLTkgMjItMzN2LTI1MHEwLTE0LTEwLTI1dC0yNi0xMWgtMjUwcS0yMyAwLTMyIDIzLTEwIDIxIDcgMzhsODEgODEtMTk4IDE5OC0xOTgtMTk4IDgwLTgxcTE3LTE3IDgtMzgtMTAtMjMtMzMtMjNoLTI1MHEtMTUgMC0yNSAxMXQtMTEgMjV2MjUwcTAgMjQgMjIgMzMgMjIgMTAgMzktOGw4MC04MCAxOTggMTk4LTE5OCAxOTgtODAtODBxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDktMjIgMzN2MjUwcTAgMTQgMTEgMjV0MjUgMTFoMjUwcTIzIDAgMzMtMjMgOS0yMS04LTM4bC04MC04MSAxOTgtMTk4IDE5OCAxOTgtODEgODFxLTE3IDE3LTcgMzggOSAyMyAzMiAyM2gyNTBxMTUgMCAyNi0xMXQxMC0yNXYtMjUwcTAtMjQtMjItMzMtNy0zLTE0LTMtMTQgMC0yNSAxMXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJibGFuayIgdW5pY29kZT0iJiN4ZjBjODsiIGQ9Ik04NTcgNjE4di01MzZxMC02Ni00Ny0xMTN0LTExNC00OGgtNTM1cS02NyAwLTExNCA0OHQtNDcgMTEzdjUzNnEwIDY2IDQ3IDExM3QxMTQgNDhoNTM1cTY3IDAgMTE0LTQ4dDQ3LTExM3oiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJzb3J0LWRvd24iIHVuaWNvZGU9IiYjeGYwZGQ7IiBkPSJNNTcxIDI0M3EwLTE1LTEwLTI1bC0yNTAtMjUwcS0xMS0xMS0yNS0xMXQtMjUgMTFsLTI1MCAyNTBxLTExIDEwLTExIDI1dDExIDI1IDI1IDExaDUwMHExNCAwIDI1LTExdDEwLTI1eiIgaG9yaXotYWR2LXg9IjU3MS40IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Im1vdXNlLXBvaW50ZXIiIHVuaWNvZGU9IiYjeGYyNDU7IiBkPSJNNjMyIDI2OHExOC0xNyA4LTM4LTktMjMtMzMtMjNoLTIxM2wxMTItMjY2cTYtMTMgMC0yN3QtMTktMTlsLTk5LTQycS0xNC02LTI3IDB0LTE5IDE5bC0xMDcgMjUyLTE3NC0xNzRxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDEwLTIyIDMzdjgzOXEwIDI0IDIyIDMzIDcgMyAxNCAzIDE1IDAgMjUtMTF6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+CjwvZm9udD4KPC9kZWZzPgo8L3N2Zz4="},function(t,e,n){var r=n(85);"string"===typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0;n(10)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,'/* Containers */\n\n/* The top level container for an Escher Builder */\n.escher-container {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n  background-color: #F3F3F3;\n  text-align: center;\n  position: relative;\n  font-size: 14px;\n  color: #333333;\n}\n\n/* Applied to the body when Escher fills the screen. This stops browser from\nshowing scroll-end animations. */\nhtml.fill-screen {\n  height: 100%;\n  width: 100%;\n}\nbody.fill-screen {\n  margin: 0;\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n\n/* Applied to top level container (generally .escher-container) when Escher\nfills the screen. These make sure Escher completely fills the screen, even after\nresizes. */\n.fill-screen-div {\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 1000;\n}\n\n/* The zoom container classes. */\n.escher-container .escher-zoom-container,\n.escher-container .escher-3d-transform-container,\n.escher-container svg.escher-svg {\n  width: 100% !important;\n  height: 100% !important;\n  overflow: hidden;\n}\n\n/* SVG text should not be selectable */\n.escher-container svg text {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Status */\n.escher-container #status {\n  position:absolute;\n  bottom:10px;\n  left: 20px;\n  color: red;\n  background-color: white;\n  font-size: 16px\n}\n\n/* Search & Menu */\n.escher-container .search-menu-container {\n  position: absolute;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  margin: 0;\n  text-align: center;\n  pointer-events: none;\n}\n.escher-container .search-menu-container-inline {\n  box-sizing: border-box;\n  width: 320px;\n  display: inline-block;\n  text-align: left;\n  pointer-events: auto;\n}\n@media (min-width: 550px) {\n  .escher-container .search-menu-container-inline {\n    width: 410px;\n  }\n}\n\n/* Reaction input */\n.escher-container #rxn-input {\n  z-index: 10;\n  width: 200px;\n}\n.escher-container .input-close-button {\n  position: absolute;\n  right: 0px;\n  width: 18px;\n  bottom: 0px;\n  padding: 0px;\n  border-width: 0px;\n  margin: 0px;\n  background: none;\n  font-size: 20px;\n  font-weight: normal;\n  top: -8px;\n}\n.escher-container .input-close-button:hover {\n  color: #ff3333;\n  font-weight: bold;\n}\n\n/* text edit input */\n.escher-container #text-edit-input input {\n  width: 500px;\n  border: 1px solid #cccccc;\n  font-size: 22px;\n}\n\n.escher-container #tooltip-container {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n/* Buttons */\n.escher-container .btn {\n  color: white!important;\n  border: 1px solid #2E2F2F;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  cursor: pointer;\n}\n\n.escher-container .btn:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n',""])},function(t,e,n){"use strict";n.r(e),e.default="svg.escher-svg #mouse-node {\n  fill: none;\n}\nsvg.escher-svg #canvas {\n  stroke: #ccc;\n  stroke-width: 7px;\n  fill: white;\n}\nsvg.escher-svg .resize-rect {\n  fill: black;\n  opacity: 0;\n  stroke: none;\n}\nsvg.escher-svg .label {\n  font-family: sans-serif;\n  font-style: italic;\n  font-weight: bold;\n  font-size: 8px;\n  fill: black;\n  stroke: none;\n  text-rendering: optimizelegibility;\n  cursor: default;\n}\nsvg.escher-svg .reaction-label {\n  font-size: 30px;\n  fill: rgb(32, 32, 120);\n  text-rendering: optimizelegibility;\n}\nsvg.escher-svg .node-label {\n  font-size: 20px;\n}\nsvg.escher-svg .gene-label {\n  font-size: 18px;\n  fill: rgb(32, 32, 120);\n  text-rendering: optimizelegibility;\n  cursor: default;\n}\nsvg.escher-svg .text-label .label {\n  font-size: 50px;\n}\nsvg.escher-svg .text-label-input {\n  font-size: 50px;\n}\nsvg.escher-svg .node-circle {\n  stroke-width: 2px;\n}\nsvg.escher-svg .midmarker-circle, svg.escher-svg .multimarker-circle {\n  fill: white;\n  fill-opacity: 0.2;\n  stroke: rgb(50, 50, 50);\n}\nsvg.escher-svg g.selected .node-circle{\n  stroke-width: 6px;\n  stroke: rgb(20, 113, 199);\n}\nsvg.escher-svg g.selected .label {\n  fill: rgb(20, 113, 199);\n}\nsvg.escher-svg .metabolite-circle {\n  stroke: rgb(162, 69, 16);\n  fill: rgb(224, 134, 91);\n}\nsvg.escher-svg g.selected .metabolite-circle {\n  stroke: rgb(5, 2, 0);\n}\nsvg.escher-svg .segment {\n  stroke: #334E75;\n  stroke-width: 10px;\n  fill: none;\n}\nsvg.escher-svg .arrowhead {\n  fill: #334E75;\n}\nsvg.escher-svg .stoichiometry-label-rect {\n  fill: white;\n  opacity: 0.5;\n}\nsvg.escher-svg .stoichiometry-label {\n  fill: #334E75;\n  font-size: 17px;\n}\nsvg.escher-svg .membrane {\n  fill: none;\n  stroke: rgb(255, 187, 0);\n}\nsvg.escher-svg .brush .extent {\n  fill-opacity: 0.1;\n  fill: black;\n  stroke: #fff;\n  shape-rendering: crispEdges;\n}\nsvg.escher-svg #brush-container .background {\n  fill: none;\n}\nsvg.escher-svg .bezier-circle {\n  fill: rgb(255,255,255);\n}\nsvg.escher-svg .bezier-circle.b1 {\n  stroke: red;\n}\nsvg.escher-svg .bezier-circle.b2 {\n  stroke: blue;\n}\nsvg.escher-svg .connect-line{\n  stroke: rgb(200,200,200);\n}\nsvg.escher-svg .direction-arrow {\n  cursor: default;\n  stroke: black;\n  stroke-width: 1px;\n  fill: white;\n  opacity: 0.3;\n}\nsvg.escher-svg .start-reaction-target {\n  stroke: rgb(100,100,100);\n  fill: none;\n  opacity: 0.5;\n}\nsvg.escher-svg .rotation-center-line {\n  stroke: red;\n  stroke-width: 5px;\n}\nsvg.escher-svg .highlight {\n  fill: #D97000;\n  text-decoration: underline;\n}\nsvg.escher-svg .node-to-combine {\n  stroke-width: 12px !important;\n}\n"},function(t,e,n){"use strict";var r=n(3),i=n(16).json;t.exports=function(t){function e(t,e,r,i,a){r.node().addEventListener("change",function(){n(t,this.value,a,i)},!1);var s=e[0];o(e,r),n(t,s,a,i)}function n(t,e,n,i){r.load_the_file(t,e,function(t,e){if(t)return console.warn(t);a.data=e,i&&i(e)})}function o(t,e){e.selectAll(".menu-option").data(t).enter().append("option").attr("value",function(t){return t}).text(function(t){return t}),e.node().focus()}var a=r.set_options(t,{selection:null,getdatafiles:null,datafiles:null,update_callback:null,target:null});if(null===a.selection)throw new Error("No selection provided for DataMenu");var s=a.selection.select(".data-menu");s.empty()&&(s=a.selection.append("div").attr("class","data-menu"));var c=s.append("form").append("select").attr("class","dropdown-menu");return a.getdatafiles?(a.datafiles&&console.warn("DataMenu: getdatafiles option overrides datafiles"),i(a.getdatafiles,function(t,n){return t?console.warn(t):(e(a.target,n.data,c,a.update_callback,a.selection),null)})):a.datafiles?e(a.target,a.datafiles,c,a.update_callback,a.selection):console.warn("DataMenu: No datafiles given"),{update:o}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.EscherMapModel=e.EscherMapView=void 0;var s=n(20),c=r(s),l=n(0),u=n(4),f=r(u),h=(e.EscherMapView=null,e.EscherMapModel=null,void 0);try{h=n(89)}catch(t){}if(h){var d=["menu","scroll_behavior","use_3d_transform","enable_editing","enable_keys","full_screen_button","reaction_data","metabolite_data","gene_data"],p={reaction_data:"set_reaction_data",metabolite_data:"set_metabolite_data",gene_data:"set_gene_data"},A=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.render=function(){var t=this;if(!h)throw Error("@jupyter-widgets/base not installed. You must install it to use the jupyter widget");var e=(0,l.select)(this.el).append("div");this.setHeight(e),f.default.defer(function(){t.builder=new c.default(t.getMapData(),t.getModelData(),t.model.get("embedded_css"),e,{first_load_callback:function(n){n.callback_manager.set("clear_map",function(){t.model.set("_loaded_map_json",null),t.model.save_changes()}),n.callback_manager.set("clear_model",function(){t.model.set("_loaded_model_json",null),t.model.save_changes()}),t.model.on("change:height",function(){t.setHeight(e)}),t.model.on("change:_loaded_map_json",function(){n.load_map(t.getMapData())}),t.model.on("change:_loaded_model_json",function(){n.load_model(t.getModelData())}),f.default.mapObject(n.settings.acceptedStreams,function(e,r){if(t.model.keys().includes(r)){var i=t.model.get(r);null!==i?r in p?n[p[r]](i):n.settings.set(r,i):(t.model.set(r,n.settings.get(r)),t.model.save_changes()),t.model.on("change:"+r,function(){var e=t.model.get(r);f.default.isEqual(e,n.settings.get(r))||(r in p?n[p[r]](e):n.settings.set(r,e),d.includes(r)||n.map.draw_everything())})}e.onValue(function(e){f.default.isEqual(e,t.model.get(r))||(t.model.set(r,e),t.model.save_changes())})})}})})},e.prototype.setHeight=function(t){t.style("height",this.model.get("height")+"px")},e.prototype.getMapData=function(){var t=this.model.get("_loaded_map_json");return t?JSON.parse(t):null},e.prototype.getModelData=function(){var t=this.model.get("_loaded_model_json");return t?JSON.parse(t):null},e}(h.DOMWidgetView),g=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.defaults=function(){return f.default.extend(t.prototype.defaults.call(this),{_model_name:"EscherMapModel",_view_name:"EscherMapView",_model_module:"escher",_view_module:"escher",_model_module_version:"1.7.1",_view_module_version:"1.7.1"})},e}(h.DOMWidgetModel);e.EscherMapView=A,e.EscherMapModel=g}},function(e,n){if("undefined"===typeof t){var r=new Error("Cannot find module '@jupyter-widgets/base'");throw r.code="MODULE_NOT_FOUND",r}e.exports=t},function(t,e,n){"use strict";function r(t){return function(e,n){return $t(t(e),n)}}function i(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=se?10:o>=ce?5:o>=le?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=se?10:o>=ce?5:o>=le?2:1)}function o(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=se?i*=10:o>=ce?i*=5:o>=le&&(i*=2),e<t?-i:i}function a(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==ge)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=Object(he.a)(),r=[],i=ge;return t=null==t?[]:Ae.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=Object(he.a)();for(var i,o,a=-1,s=t.length;++a<s;)n.has(o=(i=t[a])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=Ae.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return a().domain(r).range(t).unknown(i)},e}function s(){function t(){var t=i().length,r=c[1]<c[0],a=c[r-0],s=c[1-r];e=(s-a)/Math.max(1,t-u+2*f),l&&(e=Math.floor(e)),a+=(s-a-e*(t-u))*h,n=e*(1-u),l&&(a=Math.round(a),n=Math.round(n));var d=ae(t).map(function(t){return a+e*t});return o(r?d.reverse():d)}var e,n,r=a().unknown(void 0),i=r.domain,o=r.range,c=[0,1],l=!1,u=0,f=0,h=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(c=[+e[0],+e[1]],t()):c.slice()},r.rangeRound=function(e){return c=[+e[0],+e[1]],l=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(l=!!e,t()):l},r.padding=function(e){return arguments.length?(u=f=Math.max(0,Math.min(1,e)),t()):u},r.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},r.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},r.copy=function(){return s().domain(i()).range(c).round(l).paddingInner(u).paddingOuter(f).align(h)},t()}function c(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c(e())},t}function l(){return c(s().paddingInner(1))}function u(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:me(e)}function f(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function h(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function d(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function p(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=n(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var n=re(t,e,1,i)-1;return a[n](o[n](e))}}function A(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function g(t,e){function n(){return i=Math.min(s.length,c.length)>2?p:d,o=a=null,r}function r(e){return(o||(o=i(s,c,A?f(t):t,l)))(+e)}var i,o,a,s=ve,c=ve,l=be.a,A=!1;return r.invert=function(t){return(a||(a=i(c,s,u,A?h(e):e)))(+t)},r.domain=function(t){return arguments.length?(s=pe.call(t,ye),n()):s.slice()},r.range=function(t){return arguments.length?(c=Ae.call(t),n()):c.slice()},r.rangeRound=function(t){return c=Ae.call(t),l=be.e,n()},r.clamp=function(t){return arguments.length?(A=!!t,n()):A},r.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function b(t){var e=t.domain;return t.ticks=function(t){var n=e();return ue(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return we(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),a=0,s=o.length-1,c=o[a],l=o[s];return l<c&&(r=c,c=l,l=r,r=a,a=s,s=r),r=i(c,l,n),r>0?(c=Math.floor(c/r)*r,l=Math.ceil(l/r)*r,r=i(c,l,n)):r<0&&(c=Math.ceil(c*r)/r,l=Math.floor(l*r)/r,r=i(c,l,n)),r>0?(o[a]=Math.floor(c/r)*r,o[s]=Math.ceil(l/r)*r,e(o)):r<0&&(o[a]=Math.ceil(c*r)/r,o[s]=Math.floor(l*r)/r,e(o)),t},t}function m(){var t=g(u,be.c);return t.copy=function(){return A(t,m())},b(t)}function y(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=pe.call(n,ye),t):e.slice()},t.copy=function(){return y().domain(e)},b(t)}function v(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:me(e)}function _(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function w(t){return isFinite(t)?+("1e"+t):t<0?0:t}function x(t){return 10===t?w:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function M(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function E(t){return function(e){return-t(-e)}}function C(){function t(){return i=M(r),o=x(r),n()[0]<0&&(i=E(i),o=E(o)),e}var e=g(v,_).domain([1,10]),n=e.domain,r=10,i=M(10),o=x(10);return e.base=function(e){return arguments.length?(r=+e,t()):r},e.domain=function(e){return arguments.length?(n(e),t()):n()},e.ticks=function(t){var e,a=n(),s=a[0],c=a[a.length-1];(e=c<s)&&(h=s,s=c,c=h);var l,u,f,h=i(s),d=i(c),p=null==t?10:+t,A=[];if(!(r%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(u=1,l=o(h);u<r;++u)if(!((f=l*u)<s)){if(f>c)break;A.push(f)}}else for(;h<d;++h)for(u=r-1,l=o(h);u>=1;--u)if(!((f=l*u)<s)){if(f>c)break;A.push(f)}}else A=ue(h,d,Math.min(d-h,p)).map(o);return e?A.reverse():A},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!==typeof n&&(n=Object(_e.format)(n)),t===1/0)return n;null==t&&(t=10);var a=Math.max(1,r*t/e.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=a?n(t):""}},e.nice=function(){return n(xe(n(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},e.copy=function(){return A(e,C().base(r))},e}function B(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function I(){function t(t,e){return(e=B(e,n)-(t=B(t,n)))?function(r){return(B(r,n)-t)/e}:me(e)}function e(t,e){return e=B(e,n)-(t=B(t,n)),function(r){return B(t+e*r,1/n)}}var n=1,r=g(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return A(r,I().exponent(n))},b(r)}function k(){return I().exponent(.5)}function T(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=fe(n,t/o);return e}function e(t){if(!isNaN(t=+t))return r[re(i,t)]}var n=[],r=[],i=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=e.length;i<o;++i)null==(r=e[i])||isNaN(r=+r)||n.push(r);return n.sort($t),t()},e.range=function(e){return arguments.length?(r=Ae.call(e),t()):r.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return T().domain(n).range(r)},e}function D(){function t(t){if(t<=t)return a[re(o,t,0,i)]}function e(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return t}var n=0,r=1,i=1,o=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e()):[n,r]},t.range=function(t){return arguments.length?(i=(a=Ae.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},t.copy=function(){return D().domain([n,r]).range(a)},b(t)}function S(){function t(t){if(t<=t)return n[re(e,t,0,r)]}var e=[.5],n=[0,1],r=1;return t.domain=function(i){return arguments.length?(e=Ae.call(i),r=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Ae.call(i),r=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},t.copy=function(){return S().domain(e).range(n)},t}function N(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return N(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Me.setTime(+e),Ee.setTime(+r),t(Me),t(Ee),Math.floor(n(Me,Ee))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function j(t){return N(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ie)/ke})}function O(t){return N(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/ke})}function L(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function z(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function F(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(i=mn[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function n(t,e){return function(n){var i,o,a=z(1900),s=r(a,t,n+="",0);if(s!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=Q(z(a.y)),o=i.getUTCDay(),i=o>4||0===o?nn.ceil(i):nn(i),i=tn.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(i=e(z(a.y)),o=i.getDay(),i=o>4||0===o?Fe.ceil(i):Fe(i),i=Qe.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Q(z(a.y)).getUTCDay():e(z(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Q(a)):e(a)}}function r(t,e,n,r){for(var i,o,a=0,s=e.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=Kt[i in mn?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(t,e,n){var r=T.exec(e.slice(n));return r?(t.p=D[r[0].toLowerCase()],n+r[0].length):-1}function o(t,e,n){var r=j.exec(e.slice(n));return r?(t.w=O[r[0].toLowerCase()],n+r[0].length):-1}function a(t,e,n){var r=S.exec(e.slice(n));return r?(t.w=N[r[0].toLowerCase()],n+r[0].length):-1}function s(t,e,n){var r=Y.exec(e.slice(n));return r?(t.m=Ht[r[0].toLowerCase()],n+r[0].length):-1}function c(t,e,n){var r=F.exec(e.slice(n));return r?(t.m=U[r[0].toLowerCase()],n+r[0].length):-1}function l(t,e,n){return r(t,w,e,n)}function u(t,e,n){return r(t,x,e,n)}function f(t,e,n){return r(t,M,e,n)}function h(t){return B[t.getDay()]}function d(t){return C[t.getDay()]}function p(t){return k[t.getMonth()]}function A(t){return I[t.getMonth()]}function g(t){return E[+(t.getHours()>=12)]}function b(t){return B[t.getUTCDay()]}function m(t){return C[t.getUTCDay()]}function y(t){return k[t.getUTCMonth()]}function v(t){return I[t.getUTCMonth()]}function _(t){return E[+(t.getUTCHours()>=12)]}var w=t.dateTime,x=t.date,M=t.time,E=t.periods,C=t.days,B=t.shortDays,I=t.months,k=t.shortMonths,T=P(E),D=R(E),S=P(C),N=R(C),j=P(B),O=R(B),F=P(I),U=R(I),Y=P(k),Ht=R(k),Vt={a:h,A:d,b:p,B:A,c:null,d:lt,e:lt,f:pt,H:ut,I:ft,j:ht,L:dt,m:At,M:gt,p:g,Q:Wt,s:Gt,S:bt,u:mt,U:yt,V:vt,w:_t,W:wt,x:null,X:null,y:xt,Y:Mt,Z:Et,"%":Rt},Zt={a:b,A:m,b:y,B:v,c:null,d:Ct,e:Ct,f:Dt,H:Bt,I:It,j:kt,L:Tt,m:St,M:Nt,p:_,Q:Wt,s:Gt,S:jt,u:Ot,U:Lt,V:Qt,w:zt,W:Ft,x:null,X:null,y:Ut,Y:Yt,Z:Pt,"%":Rt},Kt={a:o,A:a,b:s,B:c,c:l,d:$,e:$,f:ot,H:et,I:et,j:tt,L:it,m:X,M:nt,p:i,Q:st,s:ct,S:rt,u:G,U:H,V:V,w:W,W:Z,x:u,X:f,y:J,Y:K,Z:q,"%":at};return Vt.x=e(x,Vt),Vt.X=e(M,Vt),Vt.c=e(w,Vt),Zt.x=e(x,Zt),Zt.X=e(M,Zt),Zt.c=e(w,Zt),{format:function(t){var n=e(t+="",Vt);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",L);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Zt);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,Q);return e.toString=function(){return t},e}}}function U(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Y(t){return t.replace(_n,"\\$&")}function P(t){return new RegExp("^(?:"+t.map(Y).join("|")+")","i")}function R(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function W(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function G(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function H(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function V(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Z(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function K(t,e,n){var r=yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function J(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function q(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function X(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tt(t,e,n){var r=yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function et(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nt(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rt(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function it(t,e,n){var r=yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ot(t,e,n){var r=yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function at(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function st(t,e,n){var r=yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ct(t,e,n){var r=yn.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function lt(t,e){return U(t.getDate(),e,2)}function ut(t,e){return U(t.getHours(),e,2)}function ft(t,e){return U(t.getHours()%12||12,e,2)}function ht(t,e){return U(1+Qe.count(Ze(t),t),e,3)}function dt(t,e){return U(t.getMilliseconds(),e,3)}function pt(t,e){return dt(t,e)+"000"}function At(t,e){return U(t.getMonth()+1,e,2)}function gt(t,e){return U(t.getMinutes(),e,2)}function bt(t,e){return U(t.getSeconds(),e,2)}function mt(t){var e=t.getDay();return 0===e?7:e}function yt(t,e){return U(ze.count(Ze(t),t),e,2)}function vt(t,e){var n=t.getDay();return t=n>=4||0===n?Pe(t):Pe.ceil(t),U(Pe.count(Ze(t),t)+(4===Ze(t).getDay()),e,2)}function _t(t){return t.getDay()}function wt(t,e){return U(Fe.count(Ze(t),t),e,2)}function xt(t,e){return U(t.getFullYear()%100,e,2)}function Mt(t,e){return U(t.getFullYear()%1e4,e,4)}function Et(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+U(e/60|0,"0",2)+U(e%60,"0",2)}function Ct(t,e){return U(t.getUTCDate(),e,2)}function Bt(t,e){return U(t.getUTCHours(),e,2)}function It(t,e){return U(t.getUTCHours()%12||12,e,2)}function kt(t,e){return U(1+tn.count(bn(t),t),e,3)}function Tt(t,e){return U(t.getUTCMilliseconds(),e,3)}function Dt(t,e){return Tt(t,e)+"000"}function St(t,e){return U(t.getUTCMonth()+1,e,2)}function Nt(t,e){return U(t.getUTCMinutes(),e,2)}function jt(t,e){return U(t.getUTCSeconds(),e,2)}function Ot(t){var e=t.getUTCDay();return 0===e?7:e}function Lt(t,e){return U(en.count(bn(t),t),e,2)}function Qt(t,e){var n=t.getUTCDay();return t=n>=4||0===n?an(t):an.ceil(t),U(an.count(bn(t),t)+(4===bn(t).getUTCDay()),e,2)}function zt(t){return t.getUTCDay()}function Ft(t,e){return U(nn.count(bn(t),t),e,2)}function Ut(t,e){return U(t.getUTCFullYear()%100,e,2)}function Yt(t,e){return U(t.getUTCFullYear()%1e4,e,4)}function Pt(){return"+0000"}function Rt(){return"%"}function Wt(t){return+t}function Gt(t){return Math.floor(+t/1e3)}function Ht(t){return t.toISOString()}function Vt(t){var e=new Date(t);return isNaN(e)?null:e}function Zt(t){return new Date(t)}function Kt(t){return t instanceof Date?+t:+new Date(+t)}function Jt(t,e,n,r,i,a,s,c,l){function f(o){return(s(o)<o?m:a(o)<o?y:i(o)<o?v:r(o)<o?_:e(o)<o?n(o)<o?w:x:t(o)<o?M:E)(o)}function h(e,n,r,i){if(null==e&&(e=10),"number"===typeof e){var a=Math.abs(r-n)/e,s=te(function(t){return t[2]}).right(C,a);s===C.length?(i=o(n/In,r/In,e),e=t):s?(s=C[a/C[s-1][2]<C[s][2]/a?s-1:s],i=s[1],e=s[0]):(i=Math.max(o(n,r,e),1),e=c)}return null==i?e:e.every(i)}var d=g(u,be.c),p=d.invert,b=d.domain,m=l(".%L"),y=l(":%S"),v=l("%I:%M"),_=l("%I %p"),w=l("%a %d"),x=l("%b %d"),M=l("%B"),E=l("%Y"),C=[[s,1,wn],[s,5,5*wn],[s,15,15*wn],[s,30,30*wn],[a,1,xn],[a,5,5*xn],[a,15,15*xn],[a,30,30*xn],[i,1,Mn],[i,3,3*Mn],[i,6,6*Mn],[i,12,12*Mn],[r,1,En],[r,2,2*En],[n,1,Cn],[e,1,Bn],[e,3,3*Bn],[t,1,In]];return d.invert=function(t){return new Date(p(t))},d.domain=function(t){return arguments.length?b(pe.call(t,Kt)):b().map(Zt)},d.ticks=function(t,e){var n,r=b(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=h(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},d.tickFormat=function(t,e){return null==e?f:l(e)},d.nice=function(t,e){var n=b();return(t=h(t,n[0],n[n.length-1],e))?b(xe(n,t)):d},d.copy=function(){return A(d,Jt(t,e,n,r,i,a,s,c,l))},d}function qt(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Xt(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Xt(t).domain([n,r]).clamp(i)},b(e)}n.r(e);var $t=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},te=function(t){return 1===t.length&&(t=r(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},ee=te($t),ne=ee.right,re=(ee.left,ne),ie=function(t){return null===t?NaN:+t},oe=Array.prototype,ae=(oe.slice,oe.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),se=Math.sqrt(50),ce=Math.sqrt(10),le=Math.sqrt(2),ue=function(t,e,n){var r,o,a,s,c=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(s=i(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(o=Math.ceil(e-t+1));++c<o;)a[c]=(t+c)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(o=Math.ceil(t-e+1));++c<o;)a[c]=(t-c)/s;return r&&a.reverse(),a},fe=function(t,e,n){if(null==n&&(n=ie),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},he=n(15),de=Array.prototype,pe=de.map,Ae=de.slice,ge={name:"implicit"},be=n(2),me=function(t){return function(){return t}},ye=function(t){return+t},ve=[0,1],_e=n(6),we=function(t,e,n){var r,i=t[0],a=t[t.length-1],s=o(i,a,null==e?10:e);switch(n=Object(_e.formatSpecifier)(null==n?",f":n),n.type){case"s":var c=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=Object(_e.precisionPrefix)(s,c))||(n.precision=r),Object(_e.formatPrefix)(n,c);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Object(_e.precisionRound)(s,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Object(_e.precisionFixed)(s))||(n.precision=r-2*("%"===n.type))}return Object(_e.format)(n)},xe=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},Me=new Date,Ee=new Date,Ce=N(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ce.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?N(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ce:null};var Be=Ce,Ie=(Ce.range,6e4),ke=6048e5,Te=N(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),De=Te,Se=(Te.range,N(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*Ie)},function(t,e){return(e-t)/Ie},function(t){return t.getMinutes()})),Ne=Se,je=(Se.range,N(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Ie)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Oe=je,Le=(je.range,N(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ie)/864e5},function(t){return t.getDate()-1})),Qe=Le,ze=(Le.range,j(0)),Fe=j(1),Ue=j(2),Ye=j(3),Pe=j(4),Re=j(5),We=j(6),Ge=(ze.range,Fe.range,Ue.range,Ye.range,Pe.range,Re.range,We.range,N(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),He=Ge,Ve=(Ge.range,N(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Ve.every=function(t){return isFinite(t=Math.floor(t))&&t>0?N(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Ze=Ve,Ke=(Ve.range,N(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ie)},function(t,e){return(e-t)/Ie},function(t){return t.getUTCMinutes()})),Je=Ke,qe=(Ke.range,N(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),Xe=qe,$e=(qe.range,N(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),tn=$e,en=($e.range,O(0)),nn=O(1),rn=O(2),on=O(3),an=O(4),sn=O(5),cn=O(6),ln=(en.range,nn.range,rn.range,on.range,an.range,sn.range,cn.range,N(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),un=ln,fn=(ln.range,N(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));fn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?N(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var hn,dn,pn,An,gn,bn=fn,mn=(fn.range,{"-":"",_:" ",0:"0"}),yn=/^\s*\d+/,vn=/^%/,_n=/[\\^$*+?|[\]().{}]/g;!function(t){hn=F(t),dn=hn.format,pn=hn.parse,An=hn.utcFormat,gn=hn.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var wn=(Date.prototype.toISOString||An("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||gn("%Y-%m-%dT%H:%M:%S.%LZ"),1e3),xn=60*wn,Mn=60*xn,En=24*Mn,Cn=7*En,Bn=30*En,In=365*En,kn=function(){return Jt(Ze,He,ze,Qe,Oe,Ne,De,Be,dn).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Tn=function(){return Jt(bn,un,en,tn,Xe,Je,De,Be,An).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Dn=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Sn=Dn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Nn=Dn("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),jn=Dn("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),On=Dn("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Ln=n(1),Qn=Object(be.b)(Object(Ln.b)(300,.5,0),Object(Ln.b)(-240,.5,1)),zn=Object(be.b)(Object(Ln.b)(-100,.75,.35),Object(Ln.b)(80,1.5,.8)),Fn=Object(be.b)(Object(Ln.b)(260,.75,.35),Object(Ln.b)(80,1.5,.8)),Un=Object(Ln.b)(),Yn=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Un.h=360*t-100,Un.s=1.5-1.5*e,Un.l=.8-.9*e,Un+""},Pn=qt(Dn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Rn=qt(Dn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Wn=qt(Dn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Gn=qt(Dn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));n.d(e,"scaleBand",function(){return s}),n.d(e,"scalePoint",function(){return l}),n.d(e,"scaleIdentity",function(){return y}),n.d(e,"scaleLinear",function(){return m}),n.d(e,"scaleLog",function(){return C}),n.d(e,"scaleOrdinal",function(){return a}),n.d(e,"scaleImplicit",function(){return ge}),n.d(e,"scalePow",function(){return I}),n.d(e,"scaleSqrt",function(){return k}),n.d(e,"scaleQuantile",function(){return T}),n.d(e,"scaleQuantize",function(){return D}),n.d(e,"scaleThreshold",function(){return S}),n.d(e,"scaleTime",function(){return kn}),n.d(e,"scaleUtc",function(){return Tn}),n.d(e,"schemeCategory10",function(){return Sn}),n.d(e,"schemeCategory20b",function(){return Nn}),n.d(e,"schemeCategory20c",function(){return jn}),n.d(e,"schemeCategory20",function(){return On}),n.d(e,"interpolateCubehelixDefault",function(){return Qn}),n.d(e,"interpolateRainbow",function(){return Yn}),n.d(e,"interpolateWarm",function(){return zn}),n.d(e,"interpolateCool",function(){return Fn}),n.d(e,"interpolateViridis",function(){return Pn}),n.d(e,"interpolateMagma",function(){return Rn}),n.d(e,"interpolateInferno",function(){return Wn}),n.d(e,"interpolatePlasma",function(){return Gn}),n.d(e,"scaleSequential",function(){return Xt})},function(t,e,n){"use strict";function r(t,e,n){this.target=t,this.type=e,this.transform=n}function i(t,e,n){this.k=t,this.x=e,this.y=n}function o(t){return t.__zoom||y}function a(){g.event.stopImmediatePropagation()}function s(){return!g.event.button}function c(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function l(){return this.__zoom||y}function u(){return-g.event.deltaY*(g.event.deltaMode?120:1)/500}function f(){return"ontouchstart"in this}function h(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}n.r(e);var d=n(8),p=n(7),A=n(2),g=n(0),b=n(11),m=function(t){return function(){return t}};i.prototype={constructor:i,scale:function(t){return 1===t?this:new i(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new i(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var y=new i(1,0,0);o.prototype=i.prototype;var v=function(){g.event.preventDefault(),g.event.stopImmediatePropagation()},_=function(){function t(t){t.property("__zoom",l).on("wheel.zoom",M).on("mousedown.zoom",E).on("dblclick.zoom",C).filter(L).on("touchstart.zoom",B).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,e){return e=Math.max(Q[0],Math.min(Q[1],e)),e===t.k?t:new i(e,t.x,t.y)}function n(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new i(t.k,r,o)}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,a=w(t,r),s=N.apply(t,r),c=n||o(s),l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,f="function"===typeof e?e.apply(t,r):e,h=U(u.invert(c).concat(l/u.k),f.invert(c).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=l/e[2];t=new i(n,c[0]-e[0]*n,c[1]-e[1]*n)}a.zoom(null,t)}})}function w(t,e){for(var n,r=0,i=Y.length;r<i;++r)if((n=Y[r]).that===t)return n;return new x(t,e)}function x(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=N.apply(t,e)}function M(){function t(){r.wheel=null,r.end()}if(S.apply(this,arguments)){var r=w(this,arguments),i=this.__zoom,o=Math.max(Q[0],Math.min(Q[1],i.k*Math.pow(2,O.apply(this,arguments)))),a=Object(g.mouse)(this);if(r.wheel)r.mouse[0][0]===a[0]&&r.mouse[0][1]===a[1]||(r.mouse[1]=i.invert(r.mouse[0]=a)),clearTimeout(r.wheel);else{if(i.k===o)return;r.mouse=[a,i.invert(a)],Object(b.a)(this),r.start()}v(),r.wheel=setTimeout(t,W),r.zoom("mouse",j(n(e(i,o),r.mouse[0],r.mouse[1]),r.extent,z))}}function E(){function t(){if(v(),!r.moved){var t=g.event.clientX-s,e=g.event.clientY-c;r.moved=t*t+e*e>G}r.zoom("mouse",j(n(r.that.__zoom,r.mouse[0]=Object(g.mouse)(r.that),r.mouse[1]),r.extent,z))}function e(){i.on("mousemove.zoom mouseup.zoom",null),Object(p.dragEnable)(g.event.view,r.moved),v(),r.end()}if(!D&&S.apply(this,arguments)){var r=w(this,arguments),i=Object(g.select)(g.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),o=Object(g.mouse)(this),s=g.event.clientX,c=g.event.clientY;Object(p.dragDisable)(g.event.view),a(),r.mouse=[o,this.__zoom.invert(o)],Object(b.a)(this),r.start()}}function C(){if(S.apply(this,arguments)){var r=this.__zoom,i=Object(g.mouse)(this),o=r.invert(i),a=r.k*(g.event.shiftKey?.5:2),s=j(n(e(r,a),i,o),N.apply(this,arguments),z);v(),F>0?Object(g.select)(this).transition().duration(F).call(_,s,i):Object(g.select)(this).call(t.transform,s)}}function B(){if(S.apply(this,arguments)){var t,e,n,r,i=w(this,arguments),o=g.event.changedTouches,s=o.length;for(a(),e=0;e<s;++e)n=o[e],r=Object(g.touch)(this,o,n.identifier),r=[r,this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(T&&(T=clearTimeout(T),!i.touch1))return i.end(),void((r=Object(g.select)(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(T=setTimeout(function(){T=null},R),Object(b.a)(this),i.start())}}function I(){var t,r,i,o,a=w(this,arguments),s=g.event.changedTouches,c=s.length;for(v(),T&&(T=clearTimeout(T)),t=0;t<c;++t)r=s[t],i=Object(g.touch)(this,s,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var l=a.touch0[0],u=a.touch0[1],f=a.touch1[0],h=a.touch1[1],d=(d=f[0]-l[0])*d+(d=f[1]-l[1])*d,p=(p=h[0]-u[0])*p+(p=h[1]-u[1])*p;r=e(r,Math.sqrt(d/p)),i=[(l[0]+f[0])/2,(l[1]+f[1])/2],o=[(u[0]+h[0])/2,(u[1]+h[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",j(n(r,i,o),a.extent,z))}function k(){var t,e,n=w(this,arguments),r=g.event.changedTouches,i=r.length;for(a(),D&&clearTimeout(D),D=setTimeout(function(){D=null},R),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var T,D,S=s,N=c,j=h,O=u,L=f,Q=[0,1/0],z=[[-1/0,-1/0],[1/0,1/0]],F=250,U=A.i,Y=[],P=Object(d.a)("start","zoom","end"),R=500,W=150,G=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",l),t!==n?_(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"===typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(r,i){t.transform(r,function(){var t=N.apply(this,arguments),r=this.__zoom,a=o(t),s=r.invert(a),c="function"===typeof i?i.apply(this,arguments):i;return j(n(e(r,c),a,s),t,z)})},t.translateBy=function(e,n,r){t.transform(e,function(){return j(this.__zoom.translate("function"===typeof n?n.apply(this,arguments):n,"function"===typeof r?r.apply(this,arguments):r),N.apply(this,arguments),z)})},t.translateTo=function(e,n,r){t.transform(e,function(){var t=N.apply(this,arguments),e=this.__zoom,i=o(t);return j(y.translate(i[0],i[1]).scale(e.k).translate("function"===typeof n?-n.apply(this,arguments):-n,"function"===typeof r?-r.apply(this,arguments):-r),t,z)})},x.prototype={start:function(){return 1===++this.active&&(this.index=Y.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(Y.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(g.customEvent)(new r(t,e,this.that.__zoom),P.apply,P,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(O="function"===typeof e?e:m(+e),t):O},t.filter=function(e){return arguments.length?(S="function"===typeof e?e:m(!!e),t):S},t.touchable=function(e){return arguments.length?(L="function"===typeof e?e:m(!!e),t):L},t.extent=function(e){return arguments.length?(N="function"===typeof e?e:m([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):N},t.scaleExtent=function(e){return arguments.length?(Q[0]=+e[0],Q[1]=+e[1],t):[Q[0],Q[1]]},t.translateExtent=function(e){return arguments.length?(z[0][0]=+e[0][0],z[1][0]=+e[1][0],z[0][1]=+e[0][1],z[1][1]=+e[1][1],t):[[z[0][0],z[0][1]],[z[1][0],z[1][1]]]},t.constrain=function(e){return arguments.length?(j=e,t):j},t.duration=function(e){return arguments.length?(F=+e,t):F},t.interpolate=function(e){return arguments.length?(U=e,t):U},t.on=function(){var e=P.on.apply(P,arguments);return e===P?t:e},t.clickDistance=function(e){return arguments.length?(G=(e=+e)*e,t):Math.sqrt(G)},t};n.d(e,"zoom",function(){return _}),n.d(e,"zoomTransform",function(){return o}),n.d(e,"zoomIdentity",function(){return y})},function(t,e,n){"use strict";function r(){g.event.stopImmediatePropagation()}function i(t){return{type:t}}function o(){return!g.event.button}function a(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function s(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function c(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function l(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function u(){return h(E)}function f(){return h(C)}function h(t){function e(e){var r=e.property("__brush",h).selectAll(".overlay").data([i("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",I.overlay).merge(r).each(function(){var t=s(this).extent;Object(g.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([i("selection")]).enter().append("rect").attr("class","selection").attr("cursor",I.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=e.selectAll(".handle").data(t.handles,function(t){return t.type});o.exit().remove(),o.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return I[t.type]}),e.each(n).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function n(){var t=Object(g.select)(this),e=s(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-L/2:e[0][0]-L/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-L/2:e[0][1]-L/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+L:L}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+L:L})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e){return t.__brush.emitter||new u(t,e)}function u(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function f(){function e(){var t=Object(g.mouse)(Y);!$||F||U||(Math.abs(t[0]-et[0])>Math.abs(t[1]-et[1])?U=!0:F=!0),et=t,z=!0,v(),i()}function i(){var t;switch(L=et[0]-tt[0],Q=et[1]-tt[1],R){case w:case _:W&&(L=Math.max(K-f,Math.min(q-m,L)),h=f+L,y=m+L),G&&(Q=Math.max(J-d,Math.min(X-N,Q)),A=d+Q,O=N+Q);break;case x:W<0?(L=Math.max(K-f,Math.min(q-f,L)),h=f+L,y=m):W>0&&(L=Math.max(K-m,Math.min(q-m,L)),h=f,y=m+L),G<0?(Q=Math.max(J-d,Math.min(X-d,Q)),A=d+Q,O=N):G>0&&(Q=Math.max(J-N,Math.min(X-N,Q)),A=d,O=N+Q);break;case M:W&&(h=Math.max(K,Math.min(q,f-L*W)),y=Math.max(K,Math.min(q,m+L*W))),G&&(A=Math.max(J,Math.min(X,d-Q*G)),O=Math.max(J,Math.min(X,N+Q*G)))}y<h&&(W*=-1,t=f,f=m,m=t,t=h,h=y,y=t,P in k&&it.attr("cursor",I[P=k[P]])),O<A&&(G*=-1,t=d,d=N,N=t,t=A,A=O,O=t,P in T&&it.attr("cursor",I[P=T[P]])),H.selection&&(Z=H.selection),F&&(h=Z[0][0],y=Z[1][0]),U&&(A=Z[0][1],O=Z[1][1]),Z[0][0]===h&&Z[0][1]===A&&Z[1][0]===y&&Z[1][1]===O||(H.selection=[[h,A],[y,O]],n.call(Y),nt.brush())}function o(){if(r(),g.event.touches){if(g.event.touches.length)return;B&&clearTimeout(B),B=setTimeout(function(){B=null},500),rt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(p.dragEnable)(g.event.view,z),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);rt.attr("pointer-events","all"),it.attr("cursor",I.overlay),H.selection&&(Z=H.selection),c(Z)&&(H.selection=null,n.call(Y)),nt.end()}function a(){switch(g.event.keyCode){case 16:$=W&&G;break;case 18:R===x&&(W&&(m=y-L*W,f=h+L*W),G&&(N=O-Q*G,d=A+Q*G),R=M,i());break;case 32:R!==x&&R!==M||(W<0?m=y-L:W>0&&(f=h-L),G<0?N=O-Q:G>0&&(d=A-Q),R=w,it.attr("cursor",I.selection),i());break;default:return}v()}function u(){switch(g.event.keyCode){case 16:$&&(F=U=$=!1,i());break;case 18:R===M&&(W<0?m=y:W>0&&(f=h),G<0?N=O:G>0&&(d=A),R=x,i());break;case 32:R===w&&(g.event.altKey?(W&&(m=y-L*W,f=h+L*W),G&&(N=O-Q*G,d=A+Q*G),R=M):(W<0?m=y:W>0&&(f=h),G<0?N=O:G>0&&(d=A),R=x),it.attr("cursor",I[P]),i());break;default:return}v()}if(g.event.touches){if(g.event.changedTouches.length<g.event.touches.length)return v()}else if(B)return;if(j.apply(this,arguments)){var f,h,d,A,m,y,N,O,L,Q,z,F,U,Y=this,P=g.event.target.__data__.type,R="selection"===(g.event.metaKey?P="overlay":P)?_:g.event.altKey?M:x,W=t===C?null:D[P],G=t===E?null:S[P],H=s(Y),V=H.extent,Z=H.selection,K=V[0][0],J=V[0][1],q=V[1][0],X=V[1][1],$=!1,tt=Object(g.mouse)(Y),et=tt,nt=l(Y,arguments).beforestart();"overlay"===P?H.selection=Z=[[f=t===C?K:tt[0],d=t===E?J:tt[1]],[m=t===C?q:f,N=t===E?X:d]]:(f=Z[0][0],d=Z[0][1],m=Z[1][0],N=Z[1][1]),h=f,A=d,y=m,O=N;var rt=Object(g.select)(Y).attr("pointer-events","none"),it=rt.selectAll(".overlay").attr("cursor",I[P]);if(g.event.touches)rt.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",o,!0);else{var ot=Object(g.select)(g.event.view).on("keydown.brush",a,!0).on("keyup.brush",u,!0).on("mousemove.brush",e,!0).on("mouseup.brush",o,!0);Object(p.dragDisable)(g.event.view)}r(),Object(b.a)(Y),n.call(Y),nt.start()}}function h(){var e=this.__brush||{selection:null};return e.extent=N.apply(this,arguments),e.dim=t,e}var B,N=a,j=o,O=Object(d.a)(e,"start","brush","end"),L=6;return e.move=function(e,r){e.selection?e.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&c(u)?null:f(t),n.call(i),a.brush()}var i=this,o=i.__brush,a=l(i,arguments),s=o.selection,u=t.input("function"===typeof r?r.apply(this,arguments):r,o.extent),f=Object(A.a)(s,u);return s&&u?e:e(1)}):e.each(function(){var e=this,i=arguments,o=e.__brush,a=t.input("function"===typeof r?r.apply(e,i):r,o.extent),s=l(e,i).beforestart();Object(b.a)(e),o.selection=null==a||c(a)?null:a,n.call(e),s.start().brush().end()})},u.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Object(g.customEvent)(new y(e,n,t.output(this.state.selection)),O.apply,O,[n,this.that,this.args])}},e.extent=function(t){return arguments.length?(N="function"===typeof t?t:m([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):N},e.filter=function(t){return arguments.length?(j="function"===typeof t?t:m(!!t),e):j},e.handleSize=function(t){return arguments.length?(L=+t,e):L},e.on=function(){var t=O.on.apply(O,arguments);return t===O?e:t},e}n.r(e);var d=n(8),p=n(7),A=n(2),g=n(0),b=n(11),m=function(t){return function(){return t}},y=function(t,e,n){this.target=t,this.type=e,this.selection=n},v=function(){g.event.preventDefault(),g.event.stopImmediatePropagation()},_={name:"drag"},w={name:"space"},x={name:"handle"},M={name:"center"},E={name:"x",handles:["e","w"].map(i),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},C={name:"y",handles:["n","s"].map(i),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},B={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(i),input:function(t){return t},output:function(t){return t}},I={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},k={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},T={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},D={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},S={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},N=function(){return h(B)};n.d(e,"brush",function(){return N}),n.d(e,"brushX",function(){return u}),n.d(e,"brushY",function(){return f}),n.d(e,"brushSelection",function(){return l})}])})},function(t,e){},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),c=n(6),l=n.n(c),u=n(29),f=n.n(u),h=n(30),d=n.n(h),p=n(31),A=n.n(p),g=n(32),b=n.n(g),m=n(33),y=n.n(m),v=n(34),_=n.n(v),w=n(35),x=n.n(w),M=n(8),E=n.n(M),C=n(7),B=n(36),I=(n.n(B),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),k=function(){return Object(s.c)("div",{id:"homepage-title-box",class:"row"},Object(s.c)("div",{id:"github-link-box"},Object(s.c)("a",{href:"https://github.com/zakandrewking/escher"},Object(s.c)("img",{src:b.a,alt:"GitHub",id:"github-link"}),"GitHub"),Object(s.c)("a",{href:"https://escher.readthedocs.io"},"Docs"),Object(s.c)("a",{href:"https://github.com/zakandrewking/escher/releases"},"What's new?")),Object(s.c)("img",{id:"homepage-logo",alt:"",src:f.a}),Object(s.c)("div",{style:{width:"100%"}},Object(s.c)("div",{id:"homepage-title"},"ESCHER"),Object(s.c)("div",{id:"homepage-description"},"Build, share, and embed visualizations of metabolic pathways")))},T=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={maps:[{name:"None"}].concat(r(E.a.maps)),models:[{name:"None"}].concat(r(E.a.models)),tools:["Builder","Viewer"],organisms:["All"].concat(r(l.a.uniq(E.a.models.map(function(t){return t.organism})))),map:"e_coli_core.Core metabolism",model:"e_coli_core",tool:"Builder",organism:"All",scrollToZoom:!1,neverAskBeforeQuit:!1},n.onOrganism=n.onOrganism.bind(n),n.handleOrganismChange=n.handleOrganismChange.bind(n),n}return a(e,t),I(e,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",function(t){13===t.keyCode&&document.getElementById("go-button").click()})}},{key:"updateModel",value:function(t){"None"!==t&&this.setState({model:t.split(".")[0]})}},{key:"handleOrganismChange",value:function(t){var e=this,n=t.target.value;if(this.setState({organism:n}),"All"!==n){var r=this.state.maps.filter(function(t){return e.onOrganism(t,n)}).map(function(t){return t.name});l.a.contains(r,this.state.map)||this.setState({map:r[1]});var i=this.state.models.filter(function(t){return e.onOrganism(t,n)}).map(function(t){return t.name});l.a.contains(i,this.state.model)||this.setState({model:i[1]})}}},{key:"onOrganism",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e&&(e=this.state.organism),"None"===t.name||"All"===e||t.organism===e}},{key:"render",value:function(){var t=this,e=["map","tool","scrollToZoom"],n="Viewer"===this.state.tool?e:[].concat(e,["model","neverAskBeforeQuit"]),r=n.map(function(e){var n=t.state[e],r=n.name||n;return"None"!==r&&!1!==r?e+"="+r:null}).filter(function(t){return t}).join("&"),i="#/app?"+r;return Object(s.c)("div",{id:"filter-container",class:"column"},Object(s.c)("div",{id:"organism-filter",class:"filter"},Object(s.c)("h3",{class:"filter-label"},"Filter by organism"),Object(s.c)("select",{class:"filter-select",value:this.state.organism,onChange:this.handleOrganismChange},this.state.organisms.map(function(t){return Object(s.c)("option",{value:t},t)}))),Object(s.c)("div",{class:"row-collapse"},Object(s.c)("div",{id:"map-filter",class:"filter"},Object(s.c)("h3",{class:"filter-label"},"Map"),Object(s.c)("select",{class:"filter-select",value:this.state.map,onChange:function(e){t.setState({map:e.target.value}),t.updateModel(e.target.value)}},this.state.maps.filter(function(e){return t.onOrganism(e)}).map(function(t){return t.name}).map(function(t){return Object(s.c)("option",{value:t},Object(C.a)(t))}))),Object(s.c)("div",{id:"model-filter",class:"filter",style:"Viewer"===this.state.tool?"color: #aaa":null},Object(s.c)("h3",{class:"filter-label"},"Model (Optional)"),Object(s.c)("select",{class:"filter-select",value:this.state.model,onChange:function(e){return t.setState({model:e.target.value})},disabled:"Viewer"===this.state.tool,style:"Viewer"===this.state.tool?"background-color: #eee":null},this.state.models.filter(function(e){return t.onOrganism(e)}).map(function(t){return t.name}).map(function(t){return Object(s.c)("option",{value:t},t)}))),Object(s.c)("div",{id:"tool-filter",class:"filter"},Object(s.c)("h3",{class:"filter-label"},"Tool"),Object(s.c)("select",{class:"filter-select",value:this.state.tool,onChange:function(e){return t.setState({tool:e.target.value})}},this.state.tools.map(function(t){return Object(s.c)("option",{value:t},t)})))),Object(s.c)("div",{class:"row-collapse"},Object(s.c)("div",{id:"options-filter",class:"filter"},Object(s.c)("h3",{class:"filter-label"},"Options"),Object(s.c)("label",{class:"filter-checkbox"},Object(s.c)("input",{type:"checkbox",checked:this.state.scrollToZoom,onChange:function(e){return t.setState({scrollToZoom:e.target.checked})}}),"Scroll to zoom (instead of scroll to pan)"),Object(s.c)("label",{class:"filter-checkbox",style:"Viewer"===this.state.tool?"color: #aaa":null},Object(s.c)("input",{type:"checkbox",checked:this.state.neverAskBeforeQuit,onChange:function(e){return t.setState({neverAskBeforeQuit:e.target.checked})},disabled:"Viewer"===this.state.tool}),"Never ask before reloading")),Object(s.c)("div",{class:"filter",id:"go-button-container"},Object(s.c)("a",{href:i,id:"go-button",target:"_blank"},"Load map"))))}}]),e}(s.a),D=function(){return Object(s.c)("div",{id:"apps",class:"row-collapse section"},Object(s.c)("div",{class:"column section-title"},Object(s.c)("h2",null,"Escher Apps"),Object(s.c)("span",null,"New capabilities with extensions of Escher")),Object(s.c)("a",{class:"demo-box",href:"https://sbrg.github.io/escher-fba",style:{backgroundImage:"url("+y.a+")"}},Object(s.c)("div",{class:"demo-title"},Object(s.c)("h3",null,"Escher-FBA"),"Interactive, web-based flux balance analysis")))},S=function(){return Object(s.c)("div",{id:"python",class:"row-collapse section"},Object(s.c)("h2",{class:"section-title"},"Escher for Python"),Object(s.c)("div",{class:"column section-body"},Object(s.c)("p",null,"Use Escher in Python and Jupyter"),Object(s.c)("pre",null,"import escher",Object(s.c)("br",null),"escher.Builder(reaction_data=fluxes)"),Object(s.c)("a",{href:"https://escher.readthedocs.io/en/latest/escher-python.html"},"Learn more and install")))},N=function(){return Object(s.c)("div",{id:"demos",class:"row-collapse section"},Object(s.c)("div",{class:"column section-title demo-section-title"},Object(s.c)("h2",null,"Demos"),Object(s.c)("span",null,"Technical demos for developers")),Object(s.c)("a",{class:"demo-box",href:"https://escher.github.io//escher-demo/structures",style:{backgroundImage:"url("+_.a}},Object(s.c)("div",{class:"demo-title"},Object(s.c)("h3",null,"Structures"),"Embed chemical structures")),Object(s.c)("a",{class:"demo-box",href:"https://escher.github.io/escher-demo/custom_tooltips",style:{backgroundImage:"url("+x.a+")"}},Object(s.c)("div",{class:"demo-title"},Object(s.c)("h3",null,"Tooltips"),"Customize tooltips")))},j=function(){return Object(s.c)("div",{id:"escher-converter",class:"row-collapse section"},Object(s.c)("h2",{class:"section-title"},"EscherConverter"),Object(s.c)("div",{class:"column section-body"},Object(s.c)("p",null,"EscherConverter is a standalone program that reads files created with Escher and converts them to files in community standard formats."),Object(s.c)("p",null,Object(s.c)("a",{href:"https://escher.readthedocs.org/en/stable/escherconverter.html"},"Learn more and download"))))},O=function(){return Object(s.c)("div",{class:"row-collapse section"},Object(s.c)("h2",null,"FAQ"),Object(s.c)("ol",{id:"faq-list"},Object(s.c)("li",null,Object(s.c)("h4",null,"What is Escher?"),Object(s.c)("p",null,"Escher is a web-based tool for building, viewing, and sharing visualizations of biological pathways. These pathway maps are a great way to contextualize data about metabolism. To get started, load a map by clicking the ",Object(s.c)("b",null,"Load Map")," button above, or visit the ",Object(s.c)("a",{href:"https://escher.readthedocs.io"},"documentation")," to learn more.")),Object(s.c)("li",null,Object(s.c)("h4",null,"How do I cite Escher?"),Object(s.c)("p",null,"You can help support Escher by citing our publication when you use Escher or EscherConverter:"),Object(s.c)("p",null,"Zachary A. King, Andreas Dr\xe4ger, Ali Ebrahim, Nikolaus Sonnenschein, Nathan E. Lewis, and Bernhard O. Palsson (2015) ",Object(s.c)("i",null,"Escher: A web application for building, sharing, and embedding data-rich visualizations of biological pathways"),", PLOS Computational Biology 11(8): e1004321. doi:",Object(s.c)("a",{href:"http://dx.doi.org/10.1371/journal.pcbi.1004321"},"10.1371/journal.pcbi.1004321"))),Object(s.c)("li",null,Object(s.c)("h4",null,"How is Escher licensed?"),Object(s.c)("p",null,"Escher and EscherConverter are distributed under the ",Object(s.c)("a",{href:"https://github.com/zakandrewking/escher/blob/master/LICENSE"},"MIT license"),".")),Object(s.c)("li",null,Object(s.c)("h4",null,"What browsers can I use?"),Object(s.c)("p",null,"We recommend using Google Chrome for optimal performance, but Escher will also run in the latest versions of Firefox, MS Edge, and Safari (including mobile Chrome & Safari).")),Object(s.c)("li",null,Object(s.c)("h4",null,"I have more questions. Who do I ask?"),Object(s.c)("p",null,"Visit the ",Object(s.c)("a",{href:"https://escher.readthedocs.io"},"documentation")," to get started with Escher and explore the API, or ask questions in the ",Object(s.c)("a",{href:"https://gitter.im/zakandrewking/escher"},"Gitter chat room"),". If you find bugs or would like to contribute to the project, feel free to submit an issue and or a pull request on ",Object(s.c)("a",{href:"https://github.com/zakandrewking/escher"},"Github"),"."))))},L=function(){return Object(s.c)("div",{id:"funding",class:"column section"},Object(s.c)("p",null,"Funding provided by the Novo Nordisk Foundation through the Center for Biosustainability at the Technical University of Denmark (NNF10CC1016517)."),Object(s.c)("div",{id:"logos",class:"row"},Object(s.c)("a",{href:"http://novonordiskfonden.dk/en"},Object(s.c)("img",{id:"nnf-logo",alt:"",src:A.a})),Object(s.c)("a",{href:"http://systemsbiology.ucsd.edu/"},Object(s.c)("img",{id:"sbrg-logo",alt:"",src:d.a}))))},Q=function(){return Object(s.c)("footer",null,Object(s.c)("div",{class:"footer-container column"},Object(s.c)("div",{class:"row"},Object(s.c)("span",{class:"more"},Object(s.c)("a",{href:"https://escher.readthedocs.io"},"Documentation")," \u2013 ",Object(s.c)("a",{href:"https://github.com/zakandrewking/escher"},"GitHub")),Object(s.c)("div",{class:"fill"}),Object(s.c)("span",{class:"version"},Object(s.c)("a",{href:"https://github.com/zakandrewking/escher/releases"},"Version ","1.7.1"))),Object(s.c)("span",null,"\xa9 2019 The Regents of the University of California")))},z=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),I(e,[{key:"componentWillMount",value:function(){document.body.classList.contains("fill-screen")&&document.body.classList.remove("fill-screen")}},{key:"render",value:function(){return Object(s.c)("div",{id:"homepage-container"},Object(s.c)("div",{id:"homepage-body"},Object(s.c)(k,null),Object(s.c)(T,null),Object(s.c)("hr",null),Object(s.c)(D,null),Object(s.c)("hr",null),Object(s.c)(S,null),Object(s.c)("hr",null),Object(s.c)(N,null),Object(s.c)("hr",null),Object(s.c)(j,null),Object(s.c)("hr",null),Object(s.c)(O,null),Object(s.c)("hr",null),Object(s.c)(L,null)),Object(s.c)(Q,null))}}]),e}(s.a);e.a=z},function(t,e,n){t.exports=n.p+"static/media/escher-logo@2x.e4bcf524.png"},function(t,e,n){t.exports=n.p+"static/media/sbrg-logo.5569a4c8.png"},function(t,e,n){t.exports=n.p+"static/media/nnf-logo.9f5b21a9.jpg"},function(t,e,n){t.exports=n.p+"static/media/github-icon.f53f9a32.svg"},function(t,e,n){t.exports=n.p+"static/media/escher-fba.45190510.png"},function(t,e,n){t.exports=n.p+"static/media/structures.e115b6c7.png"},function(t,e,n){t.exports=n.p+"static/media/tooltip.62a5a422.png"},function(t,e){}]);
//# sourceMappingURL=main.9852ba2e.js.map